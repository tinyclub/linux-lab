---
title: MIUI6：从优秀到卓越，离 MIOS 仅一步之遥
author: 泰晓科技
layout: post
permalink: /mios-the-next-generation-of-miui6/
tags:
  - Bitmap Cache Delete
  - Cgroup
  - 省电
  - 米4
  - 自运行管理
  - 自启动管理
  - 荣耀
  - 革新
  - 魅族
  - Flyme4
  - KSM
  - MIOS
  - MIUI
  - MIUI6
  - MX4
  - Oppo
  - trimHeaps
  - UKSM
  - ZRAM
  - 参与感
  - 对齐唤醒技术
  - 小米
  - 智能省电技术
categories:
  - Android
  - Mobile
---

> by falcon of [TinyLab.org][2]
> 2014/08/24


## 前言

最近小米的新闻铺天盖地，[《参与感》][3]，刚刚发布不久的 米4手机 和 前几天刚发布的 [MIUI6][4]。

这几天，亲自体验了 米4，看完了相关文章、[视频][5]和评测后，最直观的感受是，小米已经取得了一定的成功，并且这些成功的取得绝非偶然。

那这些成功的背后到底蕴藏着什么呢？哪些值得业界学习和思考呢？咱们先来看看刚才提到的《参与感》一书、米4手机和 MIUI6。

## 参与感

《参与感》作为小米口碑营销内部手册，它提到：

> 构建参与感，就是把做产品做服务做品牌做销售的过程开放，让用户参与进来，建立一个可触碰、可拥有，和用户共同成长的品牌！我总结有三个战略和三个战术，内部称为“参与感三三法则”。
>
> 三个战略：做爆品，做粉丝，做自媒体。
>
> 三个战术：开放参与节点，设计互动方式，扩散口碑事件。

“参与感”的前提是企业需要把握好产品目标和行动准则，掌握决策的主动权，剩下的就是做好产品并引导用户进行口碑营销。小米有三驾马车，雷布斯负责顶层设计和资源调度，洪峰负责做产品，阿黎负责营销。

> 在2008年，雷布斯就提出了“专注、极致、口碑、快”的互联网七字诀。专注和极致，是产品目标；快，是行动准则；而口碑，则是整个互联网思维的核心。2010年创办小米，我们只关注一点：口碑。

“参与感”让用户参与设计，提出需求，反馈问题，并得到及时响应，因此，用户在一定程度上变成了产品的研发人员，或者说他们是在定制自己个性化的手机，因此会倾注情感，并把这种情感和体验分享给周边，逐渐地，这种传播会成几何指数增长。当更多的人用到自己参与设计的产品时，他们会获得意想不到的成就感，这种成就感又促使他们持续地参与。而产品在不同用户的多样化需求的取舍和提炼中不断迭代和完善，会进一步完善用户体验，加速口碑的传播。

用户的全面参与，让小米获得了第一手最有价值的需求，从而让产品的功能和定位更加务实，结合上“专注与极致”的产品目标，再配上一个专业的产品规划团队，那么就可能更高效地制定未来的产品规划。

更重要地是，这种“参与感”，我们不仅在小米的用户身上看到了，也在小米的员工以及小米的合作企业中看到。

在新浪微博上，大家可以看到很多带“小米”后缀的帐号，这些小米员工积极地参与到产品和文化的宣传与传播中，这种参与性的文化会在公司内部产品研发与协作方面带来巨大的推动作用，这种参与性在一定程度上会带来思想的碰撞，流程的完善，和协作的高效。结合上“快”的行动准则，加上一个靠谱的架构师团队或者是技术专家委员会，当想法很快能够落实，当建议得到足够重视，当努力得到激励，当成绩得到赞许，员工就会因此收获工资之外的精神享受，就会因此享受工作的过程，工作积极性和热情就会更加高涨。因此，这种文化还会带来人才的汇集，而人才的汇集又会正向促进产品的完善。

除了员工的参与外，合作企业的参与更是让小米插上了腾飞的翅膀。正如 MIUI6发布会 最后公布的小米三步走战略描述的那样，小米已经经历了前两个阶段：2010年的功能与界面研发；2012年的基本内容与生态；如今小米在走互联网服务整合。这个整合非一己之力所能，所以小米积极地落实开放与共赢的理念，把自己打造成一个平台，而不是什么都亲力亲为，给其他有着专业积累的企业提供参与贡献和分享利益的机会。正因为如此，技术不再成为壁垒，与更专业的伙伴合作就可以轻松提供更好的用户体验；服务也不再需要自己一个一个开发，纳入更专业的伙伴就可以提供更完善的服务。当然，这种与企业的合作，与雷布斯个人的战略高度离不开，他作为天使投资人，很早就做了长远布局，有些合作企业，其实就是他不同时期投资的，这些企业都属于雷系，这或许是“众人划桨开大船”的最好体现吧。

这种“参与感”文化本质上是开放的文化，是和用户、员工以及其他企业一起参与、协作和共赢的文化。这种文化我们在非盈利性的开源社区早就存在，如今雷布斯接过来，在营利性的商业社区也运作得有声有色。

这种文化的本源是精神层面的，是人在社群中对自身存在感和自身价值的持续追求，比如说“自我表达”，“成就感”，“利他”和“趣味性”（摘自许维《互联网营销是一场群众运动》）。这才是持久的驱动力。

## 米4手机

有了“参与感”文化和“七字诀”战略，小米的硬件也做得有声有色，手机线做了全价位覆盖（小米、红米和米Note），而且硬件也做了全生活覆盖（路由器、小米电视、小米平板、小米手环）。

这几天亲自体验了米4，虽然设计上还是缺少点什么，但是动画的流畅度以及省电的优化真地是令人印象深刻。作为技术控，在技术上来说，并没有看到太多的创新（注：将另写一篇文章来谈技术），但是我们看到了一个行动家，看到了背后研发人员的高效协作，以及不同企业间的跨界联合。

拿到米4的那伙，曾经在微博上感慨到“某米的工程师效率，赞！很多思路他们已经落实了不少：[魅族MX3 Flyme 3.0省电技术详解][6]”。行动力对于企业来说，至关重要。

而行动力则涉及到企业的高效管理和团队的密切配合，任何一个团队都会经历成长的过程，但并不是所有团队都能够成功转型。如果没有合适的战略导向和企业文化，这种转型就会异常艰难，因为会涉及到诸多的变更与调整，而且需要自上而下的“参与感”的文化做支撑。

除了行动力之外，还有一个有待思考的问题是，到底如何平衡“抄袭”与“创新”。在我看来，在创新之余，只要能提供更好的用户体验，能够技巧性地绕过一些限制的拿来主义应该是值得赞赏的。

当然，要提供更好的体验和服务，光”抄袭“和”创新“远远跟不上用户的需求，所以对外合作也是必选项之一。

就米4而言，这几个方面都有所体现，比如：

  * “抄袭” &#8212; 好的就要拿来主义

    三档的工作模式就是沿袭了魅族M9时代就有的功能，这个三档模式很好地平衡了性能、温控、省电与Benchmark的不同需求，对于魅族而言，是一个划时代的创举，对于小米而言，是一个提升用户体验的可选方式。对业界的创新进行适当的传承与发展，是值得鼓励的。但是，如果只是一味地抄袭和模仿，亦步亦趋，永不思考，永不创新，那么这类企业就会成为社会的毒瘤，阻碍社会的前进，最终买单的会是所有用户。

  * &#8220;创新&#8221; &#8212; 在传承的基础上完善

    动画流畅度的优化，需要有改善的态度，也需要一定的技术积累，包括人体视觉的生理需求方面的研究，设计与交互的细微改善以及程序算法和流程上的优化，甚至涉及硬件层面的选型和系统以及驱动层面的深度优化。在米4上，我们看到了小米在这方面的努力。当然，在创新方面，小米的竞争对手魅族一直是业界的典范，比如下拉悬停，SmartBar都是魅族原创。

  * “合作” &#8212; 参与与共赢的理念

    省电优化方面，个人猜测小米可能借鉴了LBE的思路或者干脆是和LBE合作的，只不过交互方式作了简化。如果是“借鉴”那就是“抄袭”，但是也是创新性的，因为整个交互更加简洁和明快。如果是合作，那更应该得到赞许。让更专业的人参与进来，做更专业的事情，分享利益，共同成长，这才是更开放的价值观。在合作方面，魅族很早就提出了Connect To Meizu的战略，但是由于各方面原因似乎暂时还没有小米走得更远，但是这种战略应该得到赞许。而某Q的霸权主义和垄断行为则应该得到大家的痛斥！

## MIUI 6

MIUI6相比米4自带的MIUI V5，其实并没有太大的突破，特别是在发布会上大篇幅介绍的系统优化方面，几乎跟MIUI V5一个样。

咱们不讨论与V5的差异吧，直接讨论MIUI6几个确实令人眼前一亮的点，这个点可能确实是产品方面的突破，但是也有蛮大成分是运营人员敢拼的结果。

  * 极简设计美学：“提炼本质、专注内容、还原情境”

    极简算是扁平化潮流的体现，突出内容，简化装饰或者装饰自然化。这个与魅族更早提倡的诧寂美学如出一辙，只是，小米的运营做了不一样的封装，所谓“内容决定形式”，“自然的设计才是好设计”这些更多的是魅族一直奉行的“做减法”，小米在完成功能的“堆砌”（加法）后，开始考虑去糙留精，并顺应扁平化的潮流。

    不过，这次提倡的“还原情境 真实生动”的idea确实令人眼前一亮。相应的体现有：天气预报中雨水根据重力传感器垂直大地落下，音乐播放界面的背景随着内容更新背景色。

  * 功能：更丰富、更细腻、更新颖、更强大

    得益于小米多年来培养的发烧友的参与以及雷布斯多年心血投资的合作伙伴，在功能方面注定会不断持续更新和完善。

    电话方面增加了，“陌生号码识别，服务号码标记和语音菜单可视化”。这几项都非常有意思，感觉是蛮用心的功能。

    桌面方面也做了一些优化，带来了全新的桌面全局操作手势和新的通知栏。而且增加了批量整理图标，搜索应用快速定位等新功能，更加方便快捷。桌面上的向下滑动就可以调出通知栏的方式，非常新颖。

    主题风格方面得益于小米的市场规模，很多的开发者愿意参与进来，并且有蛮多有创意的主题出现，比如有的“突破传统网格式图标布局，呈现更自由的桌面效果与交互，让你的桌面成为真实房间，你喜欢的游戏或是梦想之境。”

    而邮件方面，“更独创附件列表，再也不会找不到刚刚下载的附件啦”。

    当然，作为盈利方式，内容消费和生活服务也做得非常不错，内容消费方面，包括魅族在内的几大厂商基本都做了，音乐、视频、应用以及游戏一个不少；不过生活服务至今为止却只有小米做得有声有色，这一块绝对是O2O的入口，而且确实对用户很方便。

  * 云服务：免费存储和多屏互动是特色

    其他厂商都提供了基本的数据同步服务功能，但是小米的云服务却提供了免费多达10GB的存储空间，而且全面支持小米手机、小米平板和小米电视的多屏互动。这个对于其他单一硬件厂商来说是欲求不可的。

  * 性能、省电与安全更进一步

    就纯粹的技术上来说，并没有多少新颖性，但在应用和整合方面小米的态度确实是比较积极，所以也产生了一些不错的效果。

    蛮多功能虽然第三方软件早就有提供，但是集成到系统以后就可以解决权限问题也为很多“菜鸟级”玩家提供了一站式服务，无须额外安装第三方软件。

    在续航方面，小米最早应用了“对齐唤醒技术”。“对齐唤醒技术”本身并没有什么新颖性，在Linux内核里头的deferrable timers,round jiffies和usleep_range()等都是类似的技术，用于减少浅睡眠（CPU idle）的唤醒。小米的“对齐唤醒技术”，实际上指Alarm对齐，基本原理是减少不必要的深睡眠（休眠）唤醒，让多个应用在同一点起来做完事情后再睡下去，只是小米主动应用了该技术到Android手机上，并确实在一定程度上缓解了深度休眠时的待机唤醒问题。

    抛开技术层面不说，在这一点上，我们看到了小米在应对垃圾软件方面的“有所作为”的态度。当整个业界都守着Google丢出来的原生系统，任由垃圾应用泛滥折磨用户时，小米作为系统厂商积极介入的态度在一定程度上给与了处于弱势地位的用户们极大的支持。

    这类垃圾应用不仅随意唤醒系统，还可能随意自启动，在后台消耗各类资源，成为能耗大户，小米勇敢直面它们，直接把这些应用（70%）通过白名单关在笼子里，只让少数几个确实有需要的应用自启动，这在很大程度上封堵了很多应用的“偷鸡摸狗”行为，节省了功耗的同时也为用户省了不少流量。这个动作比其他厂商单纯只是提供自启动管理功能来得更加“激进”，也更有效果。

    小米宣称在MIUI6上，“对齐唤醒技术”，配合自启动管理功能，可以延长两倍待机时间，这个数据在理论上是靠谱的。

    另外，MIUI6引入了所谓智能省电技术。它提供了一组可以配置的选项，在这个选项的基础上用户可以自由组合出自己的省电模式，而且默认提供了超长待机模式（保留电话和短信）和睡眠模式（保留闹钟），这些模式可以根据闲时或者是在低电量时自动触发，这个估计是和LBE合作的一个产物，MIUI V5也有，它为用户提供了更多对抗垃圾应用的选择。

    在省电优化方面，基于[《魅族MX3 Flyme 3.0省电技术详解》][6]，我们发现，其实小米还有一些idea并没有落实，比如说，即使禁止了应用自启动，但是当用户主动开启应用后，应用还是可能在后台自运行，所以，“自启动管理”无法从根本上解决垃圾应用的“偷鸡摸狗”行为，务必需要类似绿色守护那样，增加一个“自运行管理”，然后借鉴小米的“激进”动作和“有所作为”的态度，增加一个白名单，默认禁止绝大部分应用的后台运行行为，也就是说自动休眠掉绝大部分后台应用，这个才能从根本上提升续航。

    至于引入的所谓内存优化技术，蛮多层面（包括[ZRAM][7], [TrimHeaps][8], [Bitmap Cache Delete][9]）应该是时间换空间的原理，通过定时/手动清理掉/SWAP掉一些内存，为新的应用启动保留足够的内存，这在一定程度上应该可以加快新应用的启动并允许保留更多的后台应用，但是因为缓存的丢失、更多的后台运行、额外的解压/压缩以及SWAP开销可能会增加一定的能耗，这个需要找到一个合适的平衡点。至于[CGroup][10]则是内核层面本来就有的分组控制技术，小米在这里用它来对应用作分组处理，优先满足前台应用的内存需求，从而提升前台应用的性能。类似的技术，小米还没有用到的，其实还有[KSM][11]，用于合并相同的内存页，以及国人改进的[UKSM][12]，同样地，该技术也是时间换空间。

    其他方面，极速下载、垃圾清理、权限管理以及流量控制方面都是用户比较关心的需求，蛮符合用户的期待，特别是极速下载功能。个人猜测，这几个方面基本都是跟第三方合作开发的，整合到系统后同样解决了权限问题和“菜鸟级”玩家问题。

## 总结

讨论到此就要结束，这里用洪峰在 MIUI6发布会 中的几段话来做个总结吧：

> 当我们进入 互联网服务 的时候，其实我们不是一个人在战斗。我们有非常非常多的非常好的合作伙伴，在帮助我们，提供数据，提供服务，提供技术，所以 MIUI6 不是小米一个人做的 MIUI6，是像这样成百成百我们的优良的合作伙伴，和我们一起，和我们的发烧友一起，塑造的 MIUI6。
>
> MIUI6，迄今为止，最好的MIUI。
>
> MIUI不只是UI。

所以，有追求的目标（专注与极致），有行动准则（快），有“参与感”号召下的员工、“优良的合作伙伴”和“发烧友”级别的用户，有7000万用户的 MIUI 已经不再是一个单纯的UI，它俨然已经成为一个平台，一个承载着持续更新的用户需求，一个即将整合更多内容与服务的平台。

当然，就像我在微博提到的“安卓阵营的系统用户体验优化只能说是刚刚起步，我把手机分为三个层次：能用、可用、好用，山寨机是能用，功能为主；可用：稳定可较长时间使用；好用：不仅可用，还有舒适和美感，绝大部分在第一个层次，部分在第二个层次，少数几个在走向第三个层次的路上。没有最好，只有更好！”

小米、魅族、甚至OPPO和华为荣耀这些经过几年的积累都已经在走向第三个层次的路上，但是包括稳定性、续航、发热、性能、安全、实时性等用户体验依然还有很大的优化空间；包括内容和服务方面也还有极大的整合以及智能化空间。

所以，MIUI6这次去掉V以后，离MIOS仅一步之遥，那一步就是持续的优化和完善，我们期待，MIUI7将为MIOS正名，将成为MIOS元年。

诚然，对于用户而言，我们不希望未来的MIOS一家独大，诸如通信巨头和互联网BAT垄断的当代惨痛教训表明，唯有百家争鸣的时代，才是对用户最友好的时代。我们期待，在MIOS元年，Flyme OS，Color OS，Emotion UI，Smartisan OS等能有更多的突破。

这是一个不坏的年代，因为我们有幸参与伟大企业的成长，让我们一起携手去创造和见证历史的奇迹。

【注：纯属个人观点，与所在组织无关！喜欢请给个赞，不喜请随便喷！】





 [1]: &#x6d;&#x61;&#105;&#108;&#x74;&#x6f;&#58;&#119;&#117;&#x7a;&#x68;&#97;&#110;g&#x6a;&#x69;&#110;&#64;g&#x6d;&#x61;&#105;&#46;&#x63;&#x6f;&#109;
 [2]: http://tinylab.org
 [3]: http://baike.baidu.com/view/14581013.htm?fr=aladdin
 [4]: http://www.miui.com/summarize.php
 [5]: http://v.youku.com/v_show/id_XNzU3MzU2NjQ4.html?from=y1.7-1-105.4.2-1.8-1-2-1
 [6]: /meizu-mx3-flyme-3-0-power-save-tech/
 [7]: https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/blockdev/zram.txt
 [8]: http://stackoverflow.com/questions/21049715/do-dalvik-vm-processes-release-system-ram/
 [9]: http://developer.android.com/training/displaying-bitmaps/manage-memory.html
 [10]: https://www.kernel.org/doc/Documentation/cgroups/memory.txt
 [11]: https://www.kernel.org/doc/Documentation/vm/ksm.txt
 [12]: http://kerneldedup.org/projects/uksm/introduction/
