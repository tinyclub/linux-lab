/*! jquery-iframe-auto-height - v2.0.0
 *  Release on: 2015-06-28
 *  Copyright (c) 2015 Jesse House
 *  Licensed The Unlicense */
(function(a,b){if(typeof define==="function"&&define.amd){define([],function(){return(b())})}else{if(typeof exports==="object"){module.exports=b()}else{b()}}}(this,function(){(function(a){a.fn.iframeAutoHeight=function(c){var e;if(a.browser===e){var f=[];f.push("WARNING: you appear to be using a newer version of jquery which does not support the $.browser variable.");f.push("The jQuery iframe auto height plugin relies heavly on the $.browser features.");f.push("Install jquery-browser: https://raw.github.com/house9/jquery-iframe-auto-height/master/release/jquery.browser.js");alert(f.join("\n"));return a}var d=a.extend({heightOffset:0,minHeight:0,maxHeight:0,callback:function(){},animate:false,debug:false,diagnostics:false,resetToMinHeight:false,triggerFunctions:[],heightCalculationOverrides:[]},c);function b(h){if(d.debug&&d.debug===true&&window.console){console.log(h)}}function g(j,i){b("Diagnostics from '"+i+"'");try{b("  "+a(j,window.parent).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight");b("  "+a(j.contentWindow.document).height()+" for ...contentWindow.document).height()");b("  "+a(j.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(h){b("  unable to check in this state")}b("End diagnostics -> results vary by browser and when diagnostics are requested")}b(d);return this.each(function(){var m=["webkit","mozilla","msie","opera","chrome"];var l={};l["default"]=function(r,q,i){return q[0].scrollHeight+i.heightOffset};jQuery.each(m,function(i,q){l[q]=l["default"]});jQuery.each(d.heightCalculationOverrides,function(i,q){l[q.browser]=q.calculation});function o(i){var q=null;jQuery.each(m,function(r,s){if(i[s]){q=l[s];return false}});if(q===null){q=l["default"]}return q}var j=0;var n=this.contentDocument||this.contentWindow.document;function p(q){if(d.diagnostics){g(q,"resizeHeight")}if(d.resetToMinHeight&&d.resetToMinHeight===true){q.style.height=d.minHeight+"px"}var r=a(q,window.parent).contents().find("body");var s=o(a.browser);var i=s(q,r,d,a.browser);b(i);if(i<d.minHeight){b("new height is less than minHeight");i=d.minHeight}if(d.maxHeight>0&&i>d.maxHeight){b("new height is greater than maxHeight");i=d.maxHeight}i+=d.heightOffset;b("New Height: "+i);if(d.animate){a(q).animate({height:i+"px"},{duration:500})}else{q.style.height=i+"px"}d.callback.apply(a(q),[{newFrameHeight:i}])}b(this);if(d.diagnostics){g(this,"each iframe")}if(d.triggerFunctions.length>0){b(d.triggerFunctions.length+" trigger Functions");for(var h=0;h<d.triggerFunctions.length;h++){d.triggerFunctions[h](p,this)}}if(a.browser.webkit||a.browser.opera||a.browser.chrome){b("browser is webkit (Safari/Chrome) or opera");a(this).load(function(){var i=0;var q=this;var r=function(){p(q)};if(j===0){i=500}else{q.style.height=d.minHeight+"px"}b("load delay: "+i);setTimeout(r,i);j++});var k=a(this).attr("src");a(this).attr("src","");a(this).attr("src",k)}else{if(n.readyState==="complete"){p(this)}else{a(this).load(function(){p(this)})}}})}}(jQuery))}));