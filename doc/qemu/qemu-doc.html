<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>QEMU Emulator User Documentation</title>

<meta name="description" content="QEMU Emulator User Documentation">
<meta name="keywords" content="QEMU Emulator User Documentation">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="Top">
<link href="#Index" rel="index" title="Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<h1 class="settitle" align="center">QEMU Emulator User Documentation</h1>





<a name="Top"></a>
<a name="SEC_Top"></a>


<a name="SEC_Contents"></a>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a name="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a name="toc-Features" href="#intro_005ffeatures">1.1 Features</a></li>
  </ul></li>
  <li><a name="toc-Installation-1" href="#Installation">2 Installation</a>
  <ul class="no-bullet">
    <li><a name="toc-Linux" href="#install_005flinux">2.1 Linux</a></li>
    <li><a name="toc-Windows-1" href="#install_005fwindows">2.2 Windows</a></li>
    <li><a name="toc-Mac-OS-X-1" href="#install_005fmac">2.3 Mac OS X</a></li>
  </ul></li>
  <li><a name="toc-QEMU-PC-System-emulator-1" href="#QEMU-PC-System-emulator">3 QEMU PC System emulator</a>
  <ul class="no-bullet">
    <li><a name="toc-Introduction-2" href="#pcsys_005fintroduction">3.1 Introduction</a></li>
    <li><a name="toc-Quick-Start-1" href="#pcsys_005fquickstart">3.2 Quick Start</a></li>
    <li><a name="toc-Invocation" href="#sec_005finvocation">3.3 Invocation</a></li>
    <li><a name="toc-Keys-in-the-graphical-frontends" href="#pcsys_005fkeys">3.4 Keys in the graphical frontends</a></li>
    <li><a name="toc-Keys-in-the-character-backend-multiplexer" href="#mux_005fkeys">3.5 Keys in the character backend multiplexer</a></li>
    <li><a name="toc-QEMU-Monitor" href="#pcsys_005fmonitor">3.6 QEMU Monitor</a>
    <ul class="no-bullet">
      <li><a name="toc-Commands" href="#Commands">3.6.1 Commands</a></li>
      <li><a name="toc-Integer-expressions" href="#Integer-expressions">3.6.2 Integer expressions</a></li>
    </ul></li>
    <li><a name="toc-Disk-Images" href="#disk_005fimages">3.7 Disk Images</a>
    <ul class="no-bullet">
      <li><a name="toc-Quick-start-for-disk-image-creation" href="#disk_005fimages_005fquickstart">3.7.1 Quick start for disk image creation</a></li>
      <li><a name="toc-Snapshot-mode" href="#disk_005fimages_005fsnapshot_005fmode">3.7.2 Snapshot mode</a></li>
      <li><a name="toc-VM-snapshots" href="#vm_005fsnapshots">3.7.3 VM snapshots</a></li>
      <li><a name="toc-qemu_002dimg-Invocation" href="#qemu_005fimg_005finvocation">3.7.4 <code>qemu-img</code> Invocation</a></li>
      <li><a name="toc-qemu_002dnbd-Invocation" href="#qemu_005fnbd_005finvocation">3.7.5 <code>qemu-nbd</code> Invocation</a></li>
      <li><a name="toc-qemu_002dga-Invocation" href="#qemu_005fga_005finvocation">3.7.6 <code>qemu-ga</code> Invocation</a></li>
      <li><a name="toc-Disk-image-file-formats" href="#disk_005fimages_005fformats">3.7.7 Disk image file formats</a>
      <ul class="no-bullet">
        <li><a name="toc-Read_002donly-formats" href="#Read_002donly-formats">3.7.7.1 Read-only formats</a></li>
      </ul></li>
      <li><a name="toc-Using-host-drives" href="#host_005fdrives">3.7.8 Using host drives</a>
      <ul class="no-bullet">
        <li><a name="toc-Linux-1" href="#Linux-1">3.7.8.1 Linux</a></li>
        <li><a name="toc-Windows-2" href="#Windows-2">3.7.8.2 Windows</a></li>
        <li><a name="toc-Mac-OS-X-2" href="#Mac-OS-X-2">3.7.8.3 Mac OS X</a></li>
      </ul></li>
      <li><a name="toc-Virtual-FAT-disk-images" href="#disk_005fimages_005ffat_005fimages">3.7.9 Virtual FAT disk images</a></li>
      <li><a name="toc-NBD-access" href="#disk_005fimages_005fnbd">3.7.10 NBD access</a></li>
      <li><a name="toc-Sheepdog-disk-images" href="#disk_005fimages_005fsheepdog">3.7.11 Sheepdog disk images</a></li>
      <li><a name="toc-iSCSI-LUNs" href="#disk_005fimages_005fiscsi">3.7.12 iSCSI LUNs</a></li>
      <li><a name="toc-GlusterFS-disk-images" href="#disk_005fimages_005fgluster">3.7.13 GlusterFS disk images</a></li>
      <li><a name="toc-Secure-Shell-_0028ssh_0029-disk-images" href="#disk_005fimages_005fssh">3.7.14 Secure Shell (ssh) disk images</a></li>
    </ul></li>
    <li><a name="toc-Network-emulation" href="#pcsys_005fnetwork">3.8 Network emulation</a>
    <ul class="no-bullet">
      <li><a name="toc-VLANs" href="#VLANs">3.8.1 VLANs</a></li>
      <li><a name="toc-Using-TAP-network-interfaces" href="#Using-TAP-network-interfaces">3.8.2 Using TAP network interfaces</a>
      <ul class="no-bullet">
        <li><a name="toc-Linux-host" href="#Linux-host">3.8.2.1 Linux host</a></li>
        <li><a name="toc-Windows-host" href="#Windows-host">3.8.2.2 Windows host</a></li>
      </ul></li>
      <li><a name="toc-Using-the-user-mode-network-stack" href="#Using-the-user-mode-network-stack">3.8.3 Using the user mode network stack</a></li>
      <li><a name="toc-Connecting-VLANs-between-QEMU-instances" href="#Connecting-VLANs-between-QEMU-instances">3.8.4 Connecting VLANs between QEMU instances</a></li>
    </ul></li>
    <li><a name="toc-Other-Devices" href="#pcsys_005fother_005fdevs">3.9 Other Devices</a>
    <ul class="no-bullet">
      <li><a name="toc-Inter_002dVM-Shared-Memory-device" href="#Inter_002dVM-Shared-Memory-device">3.9.1 Inter-VM Shared Memory device</a>
      <ul class="no-bullet">
        <li><a name="toc-Migration-with-ivshmem" href="#Migration-with-ivshmem">3.9.1.1 Migration with ivshmem</a></li>
        <li><a name="toc-ivshmem-and-hugepages" href="#ivshmem-and-hugepages">3.9.1.2 ivshmem and hugepages</a></li>
      </ul></li>
    </ul></li>
    <li><a name="toc-Direct-Linux-Boot" href="#direct_005flinux_005fboot">3.10 Direct Linux Boot</a></li>
    <li><a name="toc-USB-emulation" href="#pcsys_005fusb">3.11 USB emulation</a>
    <ul class="no-bullet">
      <li><a name="toc-Connecting-USB-devices" href="#usb_005fdevices">3.11.1 Connecting USB devices</a></li>
      <li><a name="toc-Using-host-USB-devices-on-a-Linux-host" href="#host_005fusb_005fdevices">3.11.2 Using host USB devices on a Linux host</a></li>
    </ul></li>
    <li><a name="toc-VNC-security" href="#vnc_005fsecurity">3.12 VNC security</a>
    <ul class="no-bullet">
      <li><a name="toc-Without-passwords" href="#vnc_005fsec_005fnone">3.12.1 Without passwords</a></li>
      <li><a name="toc-With-passwords" href="#vnc_005fsec_005fpassword">3.12.2 With passwords</a></li>
      <li><a name="toc-With-x509-certificates" href="#vnc_005fsec_005fcertificate">3.12.3 With x509 certificates</a></li>
      <li><a name="toc-With-x509-certificates-and-client-verification" href="#vnc_005fsec_005fcertificate_005fverify">3.12.4 With x509 certificates and client verification</a></li>
      <li><a name="toc-With-x509-certificates_002c-client-verification-and-passwords" href="#vnc_005fsec_005fcertificate_005fpw">3.12.5 With x509 certificates, client verification and passwords</a></li>
      <li><a name="toc-With-SASL-authentication" href="#vnc_005fsec_005fsasl">3.12.6 With SASL authentication</a></li>
      <li><a name="toc-With-x509-certificates-and-SASL-authentication" href="#vnc_005fsec_005fcertificate_005fsasl">3.12.7 With x509 certificates and SASL authentication</a></li>
      <li><a name="toc-Generating-certificates-for-VNC" href="#vnc_005fgenerate_005fcert">3.12.8 Generating certificates for VNC</a>
      <ul class="no-bullet">
        <li><a name="toc-Setup-the-Certificate-Authority" href="#vnc_005fgenerate_005fca">3.12.8.1 Setup the Certificate Authority</a></li>
        <li><a name="toc-Issuing-server-certificates" href="#vnc_005fgenerate_005fserver">3.12.8.2 Issuing server certificates</a></li>
        <li><a name="toc-Issuing-client-certificates" href="#vnc_005fgenerate_005fclient">3.12.8.3 Issuing client certificates</a></li>
      </ul></li>
      <li><a name="toc-Configuring-SASL-mechanisms" href="#vnc_005fsetup_005fsasl">3.12.9 Configuring SASL mechanisms</a></li>
    </ul></li>
    <li><a name="toc-GDB-usage" href="#gdb_005fusage">3.13 GDB usage</a></li>
    <li><a name="toc-Target-OS-specific-information" href="#pcsys_005fos_005fspecific">3.14 Target OS specific information</a>
    <ul class="no-bullet">
      <li><a name="toc-Linux-2" href="#Linux-2">3.14.1 Linux</a></li>
      <li><a name="toc-Windows-3" href="#Windows-3">3.14.2 Windows</a>
      <ul class="no-bullet">
        <li><a name="toc-SVGA-graphic-modes-support" href="#SVGA-graphic-modes-support">3.14.2.1 SVGA graphic modes support</a></li>
        <li><a name="toc-CPU-usage-reduction" href="#CPU-usage-reduction">3.14.2.2 CPU usage reduction</a></li>
        <li><a name="toc-Windows-2000-disk-full-problem" href="#Windows-2000-disk-full-problem">3.14.2.3 Windows 2000 disk full problem</a></li>
        <li><a name="toc-Windows-2000-shutdown" href="#Windows-2000-shutdown">3.14.2.4 Windows 2000 shutdown</a></li>
        <li><a name="toc-Share-a-directory-between-Unix-and-Windows" href="#Share-a-directory-between-Unix-and-Windows">3.14.2.5 Share a directory between Unix and Windows</a></li>
        <li><a name="toc-Windows-XP-security-problem" href="#Windows-XP-security-problem">3.14.2.6 Windows XP security problem</a></li>
      </ul></li>
      <li><a name="toc-MS_002dDOS-and-FreeDOS" href="#MS_002dDOS-and-FreeDOS">3.14.3 MS-DOS and FreeDOS</a>
      <ul class="no-bullet">
        <li><a name="toc-CPU-usage-reduction-1" href="#CPU-usage-reduction-1">3.14.3.1 CPU usage reduction</a></li>
      </ul></li>
    </ul></li>
  </ul></li>
  <li><a name="toc-QEMU-System-emulator-for-non-PC-targets-1" href="#QEMU-System-emulator-for-non-PC-targets">4 QEMU System emulator for non PC targets</a>
  <ul class="no-bullet">
    <li><a name="toc-PowerPC-System-emulator-1" href="#PowerPC-System-emulator">4.1 PowerPC System emulator</a></li>
    <li><a name="toc-Sparc32-System-emulator-1" href="#Sparc32-System-emulator">4.2 Sparc32 System emulator</a></li>
    <li><a name="toc-Sparc64-System-emulator-1" href="#Sparc64-System-emulator">4.3 Sparc64 System emulator</a></li>
    <li><a name="toc-MIPS-System-emulator-1" href="#MIPS-System-emulator">4.4 MIPS System emulator</a></li>
    <li><a name="toc-ARM-System-emulator-1" href="#ARM-System-emulator">4.5 ARM System emulator</a></li>
    <li><a name="toc-ColdFire-System-emulator-1" href="#ColdFire-System-emulator">4.6 ColdFire System emulator</a></li>
    <li><a name="toc-Cris-System-emulator-1" href="#Cris-System-emulator">4.7 Cris System emulator</a></li>
    <li><a name="toc-Microblaze-System-emulator-1" href="#Microblaze-System-emulator">4.8 Microblaze System emulator</a></li>
    <li><a name="toc-SH4-System-emulator-1" href="#SH4-System-emulator">4.9 SH4 System emulator</a></li>
    <li><a name="toc-Xtensa-System-emulator-1" href="#Xtensa-System-emulator">4.10 Xtensa System emulator</a></li>
  </ul></li>
  <li><a name="toc-QEMU-User-space-emulator-1" href="#QEMU-User-space-emulator">5 QEMU User space emulator</a>
  <ul class="no-bullet">
    <li><a name="toc-Supported-Operating-Systems-1" href="#Supported-Operating-Systems">5.1 Supported Operating Systems</a></li>
    <li><a name="toc-Linux-User-space-emulator-1" href="#Linux-User-space-emulator">5.2 Linux User space emulator</a>
    <ul class="no-bullet">
      <li><a name="toc-Quick-Start-2" href="#Quick-Start">5.2.1 Quick Start</a></li>
      <li><a name="toc-Wine-launch-1" href="#Wine-launch">5.2.2 Wine launch</a></li>
      <li><a name="toc-Command-line-options-1" href="#Command-line-options">5.2.3 Command line options</a></li>
      <li><a name="toc-Other-binaries-1" href="#Other-binaries">5.2.4 Other binaries</a></li>
    </ul></li>
    <li><a name="toc-BSD-User-space-emulator-1" href="#BSD-User-space-emulator">5.3 BSD User space emulator</a>
    <ul class="no-bullet">
      <li><a name="toc-BSD-Status-1" href="#BSD-Status">5.3.1 BSD Status</a></li>
      <li><a name="toc-Quick-Start-3" href="#BSD-Quick-Start">5.3.2 Quick Start</a></li>
      <li><a name="toc-Command-line-options-2" href="#BSD-Command-line-options">5.3.3 Command line options</a></li>
    </ul></li>
  </ul></li>
  <li><a name="toc-Compilation-from-the-sources" href="#compilation">6 Compilation from the sources</a>
  <ul class="no-bullet">
    <li><a name="toc-Linux_002fUnix-1" href="#Linux_002fUnix">6.1 Linux/Unix</a>
    <ul class="no-bullet">
      <li><a name="toc-Compilation" href="#Compilation">6.1.1 Compilation</a></li>
    </ul></li>
    <li><a name="toc-Windows-4" href="#Windows">6.2 Windows</a></li>
    <li><a name="toc-Cross-compilation-for-Windows-with-Linux-1" href="#Cross-compilation-for-Windows-with-Linux">6.3 Cross compilation for Windows with Linux</a></li>
    <li><a name="toc-Mac-OS-X-3" href="#Mac-OS-X">6.4 Mac OS X</a></li>
    <li><a name="toc-Make-targets-1" href="#Make-targets">6.5 Make targets</a></li>
  </ul></li>
  <li><a name="toc-License-1" href="#License">Appendix A License</a></li>
  <li><a name="toc-Index-1" href="#Index">Appendix B Index</a>
  <ul class="no-bullet">
    <li><a name="toc-Concept-Index-1" href="#Concept-Index">B.1 Concept Index</a></li>
    <li><a name="toc-Function-Index-1" href="#Function-Index">B.2 Function Index</a></li>
    <li><a name="toc-Keystroke-Index-1" href="#Keystroke-Index">B.3 Keystroke Index</a></li>
    <li><a name="toc-Program-Index-1" href="#Program-Index">B.4 Program Index</a></li>
    <li><a name="toc-Data-Type-Index-1" href="#Data-Type-Index">B.5 Data Type Index</a></li>
    <li><a name="toc-Variable-Index-1" href="#Variable-Index">B.6 Variable Index</a></li>
  </ul></li>
</ul>
</div>


<hr>
<a name="Introduction"></a>
<a name="Introduction-1"></a>
<h2 class="chapter">1 Introduction</h2>


<hr>
<a name="intro_005ffeatures"></a>
<a name="Features"></a>
<h3 class="section">1.1 Features</h3>

<p>QEMU is a FAST! processor emulator using dynamic translation to
achieve good emulation speed.
</p>
<a name="index-operating-modes"></a>
<p>QEMU has two operating modes:
</p>
<ul>
<li> <a name="index-system-emulation"></a>
Full system emulation. In this mode, QEMU emulates a full system (for
example a PC), including one or several processors and various
peripherals. It can be used to launch different Operating Systems
without rebooting the PC or to debug system code.

</li><li> <a name="index-user-mode-emulation"></a>
User mode emulation. In this mode, QEMU can launch
processes compiled for one CPU on another CPU. It can be used to
launch the Wine Windows API emulator (<a href="http://www.winehq.org">http://www.winehq.org</a>) or
to ease cross-compilation and cross-debugging.

</li></ul>

<p>QEMU can run without a host kernel driver and yet gives acceptable
performance.
</p>
<p>For system emulation, the following hardware targets are supported:
</p><ul>
<li> <a name="index-emulated-target-systems"></a>
<a name="index-supported-target-systems"></a>
PC (x86 or x86_64 processor)
</li><li> ISA PC (old style PC without PCI bus)
</li><li> PREP (PowerPC processor)
</li><li> G3 Beige PowerMac (PowerPC processor)
</li><li> Mac99 PowerMac (PowerPC processor, in progress)
</li><li> Sun4m/Sun4c/Sun4d (32-bit Sparc processor)
</li><li> Sun4u/Sun4v (64-bit Sparc processor, in progress)
</li><li> Malta board (32-bit and 64-bit MIPS processors)
</li><li> MIPS Magnum (64-bit MIPS processor)
</li><li> ARM Integrator/CP (ARM)
</li><li> ARM Versatile baseboard (ARM)
</li><li> ARM RealView Emulation/Platform baseboard (ARM)
</li><li> Spitz, Akita, Borzoi, Terrier and Tosa PDAs (PXA270 processor)
</li><li> Luminary Micro LM3S811EVB (ARM Cortex-M3)
</li><li> Luminary Micro LM3S6965EVB (ARM Cortex-M3)
</li><li> Freescale MCF5208EVB (ColdFire V2).
</li><li> Arnewsh MCF5206 evaluation board (ColdFire V2).
</li><li> Palm Tungsten|E PDA (OMAP310 processor)
</li><li> N800 and N810 tablets (OMAP2420 processor)
</li><li> MusicPal (MV88W8618 ARM processor)
</li><li> Gumstix &quot;Connex&quot; and &quot;Verdex&quot; motherboards (PXA255/270).
</li><li> Siemens SX1 smartphone (OMAP310 processor)
</li><li> AXIS-Devboard88 (CRISv32 ETRAX-FS).
</li><li> Petalogix Spartan 3aDSP1800 MMU ref design (MicroBlaze).
</li><li> Avnet LX60/LX110/LX200 boards (Xtensa)
</li></ul>

<a name="index-supported-user-mode-targets"></a>
<p>For user emulation, x86 (32 and 64 bit), PowerPC (32 and 64 bit),
ARM, MIPS (32 bit only), Sparc (32 and 64 bit),
Alpha, ColdFire(m68k), CRISv32 and MicroBlaze CPUs are supported.
</p>
<hr>
<a name="Installation"></a>
<a name="Installation-1"></a>
<h2 class="chapter">2 Installation</h2>

<p>If you want to compile QEMU yourself, see <a href="#compilation">compilation</a>.
</p>

<hr>
<a name="install_005flinux"></a>
<a name="Linux"></a>
<h3 class="section">2.1 Linux</h3>
<a name="index-installation-_0028Linux_0029"></a>

<p>If a precompiled package is available for your distribution - you just
have to install it. Otherwise, see <a href="#compilation">compilation</a>.
</p>
<hr>
<a name="install_005fwindows"></a>
<a name="Windows-1"></a>
<h3 class="section">2.2 Windows</h3>
<a name="index-installation-_0028Windows_0029"></a>

<p>Download the experimental binary installer at
<a href="http://www.free.oszoo.org/download.html">http://www.free.oszoo.org/download.html</a>.
TODO (no longer available)
</p>
<hr>
<a name="install_005fmac"></a>
<a name="Mac-OS-X-1"></a>
<h3 class="section">2.3 Mac OS X</h3>
<a name="index-installation-_0028Mac-OS-X_0029"></a>

<p>Download the experimental binary installer at
<a href="http://www.free.oszoo.org/download.html">http://www.free.oszoo.org/download.html</a>.
TODO (no longer available)
</p>
<hr>
<a name="QEMU-PC-System-emulator"></a>
<a name="QEMU-PC-System-emulator-1"></a>
<h2 class="chapter">3 QEMU PC System emulator</h2>
<a name="index-system-emulation-_0028PC_0029"></a>


<hr>
<a name="pcsys_005fintroduction"></a>
<a name="Introduction-2"></a>
<h3 class="section">3.1 Introduction</h3>


<p>The QEMU PC System emulator simulates the
following peripherals:
</p>
<ul class="no-bullet">
<li>- i440FX host PCI bridge and PIIX3 PCI to ISA bridge
</li><li>- Cirrus CLGD 5446 PCI VGA card or dummy VGA card with Bochs VESA
extensions (hardware level, including all non standard modes).
</li><li>- PS/2 mouse and keyboard
</li><li>- 2 PCI IDE interfaces with hard disk and CD-ROM support
</li><li>- Floppy disk
</li><li>- PCI and ISA network adapters
</li><li>- Serial ports
</li><li>- IPMI BMC, either and internal or external one
</li><li>- Creative SoundBlaster 16 sound card
</li><li>- ENSONIQ AudioPCI ES1370 sound card
</li><li>- Intel 82801AA AC97 Audio compatible sound card
</li><li>- Intel HD Audio Controller and HDA codec
</li><li>- Adlib (OPL2) - Yamaha YM3812 compatible chip
</li><li>- Gravis Ultrasound GF1 sound card
</li><li>- CS4231A compatible sound card
</li><li>- PCI UHCI USB controller and a virtual USB hub.
</li></ul>

<p>SMP is supported with up to 255 CPUs.
</p>
<p>QEMU uses the PC BIOS from the Seabios project and the Plex86/Bochs LGPL
VGA BIOS.
</p>
<p>QEMU uses YM3812 emulation by Tatsuyuki Satoh.
</p>
<p>QEMU uses GUS emulation (GUSEMU32 <a href="http://www.deinmeister.de/gusemu/">http://www.deinmeister.de/gusemu/</a>)
by Tibor &quot;TS&quot; Sch√ºtz.
</p>
<p>Note that, by default, GUS shares IRQ(7) with parallel ports and so
QEMU must be told to not have parallel ports to have working GUS.
</p>
<div class="example">
<pre class="example">qemu-system-i386 dos.img -soundhw gus -parallel none
</pre></div>

<p>Alternatively:
</p><div class="example">
<pre class="example">qemu-system-i386 dos.img -device gus,irq=5
</pre></div>

<p>Or some other unclaimed IRQ.
</p>
<p>CS4231A is the chip used in Windows Sound System and GUSMAX products
</p>

<hr>
<a name="pcsys_005fquickstart"></a>
<a name="Quick-Start-1"></a>
<h3 class="section">3.2 Quick Start</h3>
<a name="index-quick-start"></a>

<p>Download and uncompress the linux image (<samp>linux.img</samp>) and type:
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img
</pre></div>

<p>Linux should boot and give you a prompt.
</p>
<hr>
<a name="sec_005finvocation"></a>
<a name="Invocation"></a>
<h3 class="section">3.3 Invocation</h3>

<div class="example">
<pre class="example"><code>qemu-system-i386</code> [<var>options</var>] [<var>disk_image</var>]
</pre></div>

<p><var>disk_image</var> is a raw hard disk image for IDE hard disk 0. Some
targets do not need a disk image.
</p>
<p>Standard options:
</p><dl compact="compact">
<dt><samp>-h</samp></dt>
<dd><a name="index-_002dh"></a>
<p>Display help and exit
</p></dd>
<dt><samp>-version</samp></dt>
<dd><a name="index-_002dversion"></a>
<p>Display version information and exit
</p></dd>
<dt><samp>-machine [type=]<var>name</var>[,prop=<var>value</var>[,...]]</samp></dt>
<dd><a name="index-_002dmachine"></a>
<p>Select the emulated machine by <var>name</var>. Use <code>-machine help</code> to list
available machines. Supported machine properties are:
</p><dl compact="compact">
<dt><samp>accel=<var>accels1</var>[:<var>accels2</var>[:...]]</samp></dt>
<dd><p>This is used to enable an accelerator. Depending on the target architecture,
kvm, xen, or tcg can be available. By default, tcg is used. If there is more
than one accelerator specified, the next one is used if the previous one fails
to initialize.
</p></dd>
<dt><samp>kernel_irqchip=on|off</samp></dt>
<dd><p>Controls in-kernel irqchip support for the chosen accelerator when available.
</p></dd>
<dt><samp>gfx_passthru=on|off</samp></dt>
<dd><p>Enables IGD GFX passthrough support for the chosen machine when available.
</p></dd>
<dt><samp>vmport=on|off|auto</samp></dt>
<dd><p>Enables emulation of VMWare IO port, for vmmouse etc. auto says to select the
value based on accel. For accel=xen the default is off otherwise the default
is on.
</p></dd>
<dt><samp>kvm_shadow_mem=size</samp></dt>
<dd><p>Defines the size of the KVM shadow MMU.
</p></dd>
<dt><samp>dump-guest-core=on|off</samp></dt>
<dd><p>Include guest memory in a core dump. The default is on.
</p></dd>
<dt><samp>mem-merge=on|off</samp></dt>
<dd><p>Enables or disables memory merge support. This feature, when supported by
the host, de-duplicates identical memory pages among VMs instances
(enabled by default).
</p></dd>
<dt><samp>aes-key-wrap=on|off</samp></dt>
<dd><p>Enables or disables AES key wrapping support on s390-ccw hosts. This feature
controls whether AES wrapping keys will be created to allow
execution of AES cryptographic functions.  The default is on.
</p></dd>
<dt><samp>dea-key-wrap=on|off</samp></dt>
<dd><p>Enables or disables DEA key wrapping support on s390-ccw hosts. This feature
controls whether DEA wrapping keys will be created to allow
execution of DEA cryptographic functions.  The default is on.
</p></dd>
<dt><samp>nvdimm=on|off</samp></dt>
<dd><p>Enables or disables NVDIMM support. The default is off.
</p></dd>
</dl>
</dd>
<dt><samp>-cpu <var>model</var></samp></dt>
<dd><a name="index-_002dcpu"></a>
<p>Select CPU model (<code>-cpu help</code> for list and additional feature selection)
</p></dd>
<dt><samp>-smp [cpus=]<var>n</var>[,cores=<var>cores</var>][,threads=<var>threads</var>][,sockets=<var>sockets</var>][,maxcpus=<var>maxcpus</var>]</samp></dt>
<dd><a name="index-_002dsmp"></a>
<p>Simulate an SMP system with <var>n</var> CPUs. On the PC target, up to 255
CPUs are supported. On Sparc32 target, Linux limits the number of usable CPUs
to 4.
For the PC target, the number of <var>cores</var> per socket, the number
of <var>threads</var> per cores and the total number of <var>sockets</var> can be
specified. Missing values will be computed. If any on the three values is
given, the total number of CPUs <var>n</var> can be omitted. <var>maxcpus</var>
specifies the maximum number of hotpluggable CPUs.
</p></dd>
<dt><samp>-numa node[,mem=<var>size</var>][,cpus=<var>cpu[-cpu]</var>][,nodeid=<var>node</var>]</samp></dt>
<dt><samp>-numa node[,memdev=<var>id</var>][,cpus=<var>cpu[-cpu]</var>][,nodeid=<var>node</var>]</samp></dt>
<dd><a name="index-_002dnuma"></a>
<p>Simulate a multi node NUMA system. If &lsquo;<samp>mem</samp>&rsquo;, &lsquo;<samp>memdev</samp>&rsquo;
and &lsquo;<samp>cpus</samp>&rsquo; are omitted, resources are split equally. Also, note
that the -<samp>numa</samp> option doesn&rsquo;t allocate any of the specified
resources. That is, it just assigns existing resources to NUMA nodes. This
means that one still has to use the <samp>-m</samp>, <samp>-smp</samp> options
to allocate RAM and VCPUs respectively, and possibly <samp>-object</samp>
to specify the memory backend for the &lsquo;<samp>memdev</samp>&rsquo; suboption.
</p>
<p>&lsquo;<samp>mem</samp>&rsquo; and &lsquo;<samp>memdev</samp>&rsquo; are mutually exclusive.  Furthermore, if one
node uses &lsquo;<samp>memdev</samp>&rsquo;, all of them have to use it.
</p></dd>
<dt><samp>-add-fd fd=<var>fd</var>,set=<var>set</var>[,opaque=<var>opaque</var>]</samp></dt>
<dd><a name="index-_002dadd_002dfd"></a>

<p>Add a file descriptor to an fd set.  Valid options are:
</p>
<dl compact="compact">
<dt><samp>fd=<var>fd</var></samp></dt>
<dd><p>This option defines the file descriptor of which a duplicate is added to fd set.
The file descriptor cannot be stdin, stdout, or stderr.
</p></dd>
<dt><samp>set=<var>set</var></samp></dt>
<dd><p>This option defines the ID of the fd set to add the file descriptor to.
</p></dd>
<dt><samp>opaque=<var>opaque</var></samp></dt>
<dd><p>This option defines a free-form string that can be used to describe <var>fd</var>.
</p></dd>
</dl>

<p>You can open an image using pre-opened file descriptors from an fd set:
</p><div class="example">
<pre class="example">qemu-system-i386
-add-fd fd=3,set=2,opaque=&quot;rdwr:/path/to/file&quot;
-add-fd fd=4,set=2,opaque=&quot;rdonly:/path/to/file&quot;
-drive file=/dev/fdset/2,index=0,media=disk
</pre></div>
</dd>
<dt><samp>-set <var>group</var>.<var>id</var>.<var>arg</var>=<var>value</var></samp></dt>
<dd><a name="index-_002dset"></a>
<p>Set parameter <var>arg</var> for item <var>id</var> of type <var>group</var>
&quot;
</p></dd>
<dt><samp>-global <var>driver</var>.<var>prop</var>=<var>value</var></samp></dt>
<dt><samp>-global driver=<var>driver</var>,property=<var>property</var>,value=<var>value</var></samp></dt>
<dd><a name="index-_002dglobal"></a>
<p>Set default value of <var>driver</var>&rsquo;s property <var>prop</var> to <var>value</var>, e.g.:
</p>
<div class="example">
<pre class="example">qemu-system-i386 -global ide-drive.physical_block_size=4096 -drive file=file,if=ide,index=0,media=disk
</pre></div>

<p>In particular, you can use this to set driver properties for devices which are 
created automatically by the machine model. To create a device which is not 
created automatically and set properties on it, use -<samp>device</samp>.
</p>
<p>-global <var>driver</var>.<var>prop</var>=<var>value</var> is shorthand for -global
driver=<var>driver</var>,property=<var>prop</var>,value=<var>value</var>.  The
longhand syntax works even when <var>driver</var> contains a dot.
</p></dd>
<dt><samp>-boot [order=<var>drives</var>][,once=<var>drives</var>][,menu=on|off][,splash=<var>sp_name</var>][,splash-time=<var>sp_time</var>][,reboot-timeout=<var>rb_timeout</var>][,strict=on|off]</samp></dt>
<dd><a name="index-_002dboot"></a>
<p>Specify boot order <var>drives</var> as a string of drive letters. Valid
drive letters depend on the target architecture. The x86 PC uses: a, b
(floppy 1 and 2), c (first hard disk), d (first CD-ROM), n-p (Etherboot
from network adapter 1-4), hard disk boot is the default. To apply a
particular boot order only on the first startup, specify it via
<samp>once</samp>.
</p>
<p>Interactive boot menus/prompts can be enabled via <samp>menu=on</samp> as far
as firmware/BIOS supports them. The default is non-interactive boot.
</p>
<p>A splash picture could be passed to bios, enabling user to show it as logo,
when option splash=<var>sp_name</var> is given and menu=on, If firmware/BIOS
supports them. Currently Seabios for X86 system support it.
limitation: The splash file could be a jpeg file or a BMP file in 24 BPP
format(true color). The resolution should be supported by the SVGA mode, so
the recommended is 320x240, 640x480, 800x640.
</p>
<p>A timeout could be passed to bios, guest will pause for <var>rb_timeout</var> ms
when boot failed, then reboot. If <var>rb_timeout</var> is &rsquo;-1&rsquo;, guest will not
reboot, qemu passes &rsquo;-1&rsquo; to bios by default. Currently Seabios for X86
system support it.
</p>
<p>Do strict boot via <samp>strict=on</samp> as far as firmware/BIOS
supports it. This only effects when boot priority is changed by
bootindex options. The default is non-strict boot.
</p>
<div class="example">
<pre class="example"># try to boot from network first, then from hard disk
qemu-system-i386 -boot order=nc
# boot from CD-ROM first, switch back to default order after reboot
qemu-system-i386 -boot once=d
# boot with a splash picture for 5 seconds.
qemu-system-i386 -boot menu=on,splash=/root/boot.bmp,splash-time=5000
</pre></div>

<p>Note: The legacy format &rsquo;-boot <var>drives</var>&rsquo; is still supported but its
use is discouraged as it may be removed from future versions.
</p></dd>
<dt><samp>-m [size=]<var>megs</var>[,slots=n,maxmem=size]</samp></dt>
<dd><a name="index-_002dm"></a>
<p>Sets guest startup RAM size to <var>megs</var> megabytes. Default is 128 MiB.
Optionally, a suffix of &ldquo;M&rdquo; or &ldquo;G&rdquo; can be used to signify a value in
megabytes or gigabytes respectively. Optional pair <var>slots</var>, <var>maxmem</var>
could be used to set amount of hotpluggable memory slots and maximum amount of
memory. Note that <var>maxmem</var> must be aligned to the page size.
</p>
<p>For example, the following command-line sets the guest startup RAM size to
1GB, creates 3 slots to hotplug additional memory and sets the maximum
memory the guest can reach to 4GB:
</p>
<div class="example">
<pre class="example">qemu-system-x86_64 -m 1G,slots=3,maxmem=4G
</pre></div>

<p>If <var>slots</var> and <var>maxmem</var> are not specified, memory hotplug won&rsquo;t
be enabled and the guest startup RAM will never increase.
</p></dd>
<dt><samp>-mem-path <var>path</var></samp></dt>
<dd><a name="index-_002dmem_002dpath"></a>
<p>Allocate guest RAM from a temporarily created file in <var>path</var>.
</p></dd>
<dt><samp>-mem-prealloc</samp></dt>
<dd><a name="index-_002dmem_002dprealloc"></a>
<p>Preallocate memory when using -mem-path.
</p></dd>
<dt><samp>-k <var>language</var></samp></dt>
<dd><a name="index-_002dk"></a>
<p>Use keyboard layout <var>language</var> (for example <code>fr</code> for
French). This option is only needed where it is not easy to get raw PC
keycodes (e.g. on Macs, with some X11 servers or with a VNC
display). You don&rsquo;t normally need to use it on PC/Linux or PC/Windows
hosts.
</p>
<p>The available layouts are:
</p><div class="example">
<pre class="example">ar  de-ch  es  fo     fr-ca  hu  ja  mk     no  pt-br  sv
da  en-gb  et  fr     fr-ch  is  lt  nl     pl  ru     th
de  en-us  fi  fr-be  hr     it  lv  nl-be  pt  sl     tr
</pre></div>

<p>The default is <code>en-us</code>.
</p></dd>
<dt><samp>-audio-help</samp></dt>
<dd><a name="index-_002daudio_002dhelp"></a>
<p>Will show the audio subsystem help: list of drivers, tunable
parameters.
</p></dd>
<dt><samp>-soundhw <var>card1</var>[,<var>card2</var>,...] or -soundhw all</samp></dt>
<dd><a name="index-_002dsoundhw"></a>
<p>Enable audio and selected sound hardware. Use &rsquo;help&rsquo; to print all
available sound hardware.
</p>
<div class="example">
<pre class="example">qemu-system-i386 -soundhw sb16,adlib disk.img
qemu-system-i386 -soundhw es1370 disk.img
qemu-system-i386 -soundhw ac97 disk.img
qemu-system-i386 -soundhw hda disk.img
qemu-system-i386 -soundhw all disk.img
qemu-system-i386 -soundhw help
</pre></div>

<p>Note that Linux&rsquo;s i810_audio OSS kernel (for AC97) module might
require manually specifying clocking.
</p>
<div class="example">
<pre class="example">modprobe i810_audio clocking=48000
</pre></div>
</dd>
<dt><samp>-balloon none</samp></dt>
<dd><a name="index-_002dballoon"></a>
<p>Disable balloon device.
</p></dd>
<dt><samp>-balloon virtio[,addr=<var>addr</var>]</samp></dt>
<dd><p>Enable virtio balloon device (default), optionally with PCI address
<var>addr</var>.
</p></dd>
<dt><samp>-device <var>driver</var>[,<var>prop</var>[=<var>value</var>][,...]]</samp></dt>
<dd><a name="index-_002ddevice"></a>
<p>Add device <var>driver</var>.  <var>prop</var>=<var>value</var> sets driver
properties.  Valid properties depend on the driver.  To get help on
possible drivers and properties, use <code>-device help</code> and
<code>-device <var>driver</var>,help</code>.
</p>
<p>Some drivers are:
</p></dd>
<dt><samp>-device ipmi-bmc-sim,id=<var>id</var>[,slave_addr=<var>val</var>]</samp></dt>
<dd>
<p>Add an IPMI BMC.  This is a simulation of a hardware management
interface processor that normally sits on a system.  It provides
a watchdog and the ability to reset and power control the system.
You need to connect this to an IPMI interface to make it useful
</p>
<p>The IPMI slave address to use for the BMC.  The default is 0x20.
This address is the BMC&rsquo;s address on the I2C network of management
controllers.  If you don&rsquo;t know what this means, it is safe to ignore
it.
</p>
</dd>
<dt><samp>-device ipmi-bmc-extern,id=<var>id</var>,chardev=<var>id</var>[,slave_addr=<var>val</var>]</samp></dt>
<dd>
<p>Add a connection to an external IPMI BMC simulator.  Instead of
locally emulating the BMC like the above item, instead connect
to an external entity that provides the IPMI services.
</p>
<p>A connection is made to an external BMC simulator.  If you do this, it
is strongly recommended that you use the &quot;reconnect=&quot; chardev option
to reconnect to the simulator if the connection is lost.  Note that if
this is not used carefully, it can be a security issue, as the
interface has the ability to send resets, NMIs, and power off the VM.
It&rsquo;s best if QEMU makes a connection to an external simulator running
on a secure port on localhost, so neither the simulator nor QEMU is
exposed to any outside network.
</p>
<p>See the &quot;lanserv/README.vm&quot; file in the OpenIPMI library for more
details on the external interface.
</p>
</dd>
<dt><samp>-device isa-ipmi-kcs,bmc=<var>id</var>[,ioport=<var>val</var>][,irq=<var>val</var>]</samp></dt>
<dd>
<p>Add a KCS IPMI interafce on the ISA bus.  This also adds a
corresponding ACPI and SMBIOS entries, if appropriate.
</p>
<dl compact="compact">
<dt><samp>bmc=<var>id</var></samp></dt>
<dd><p>The BMC to connect to, one of ipmi-bmc-sim or ipmi-bmc-extern above.
</p></dd>
<dt><samp>ioport=<var>val</var></samp></dt>
<dd><p>Define the I/O address of the interface.  The default is 0xca0 for KCS.
</p></dd>
<dt><samp>irq=<var>val</var></samp></dt>
<dd><p>Define the interrupt to use.  The default is 5.  To disable interrupts,
set this to 0.
</p></dd>
</dl>

</dd>
<dt><samp>-device isa-ipmi-bt,bmc=<var>id</var>[,ioport=<var>val</var>][,irq=<var>val</var>]</samp></dt>
<dd>
<p>Like the KCS interface, but defines a BT interface.  The default port is
0xe4 and the default interrupt is 5.
</p>
</dd>
<dt><samp>-name <var>name</var></samp></dt>
<dd><a name="index-_002dname"></a>
<p>Sets the <var>name</var> of the guest.
This name will be displayed in the SDL window caption.
The <var>name</var> will also be used for the VNC server.
Also optionally set the top visible process name in Linux.
Naming of individual threads can also be enabled on Linux to aid debugging.
</p></dd>
<dt><samp>-uuid <var>uuid</var></samp></dt>
<dd><a name="index-_002duuid"></a>
<p>Set system UUID.
</p></dd>
</dl>

<p>Block device options:
</p><dl compact="compact">
<dt><samp>-fda <var>file</var></samp></dt>
<dt><samp>-fdb <var>file</var></samp></dt>
<dd><a name="index-_002dfda"></a>
<a name="index-_002dfdb"></a>
<p>Use <var>file</var> as floppy disk 0/1 image (see <a href="#disk_005fimages">disk_images</a>).
</p></dd>
<dt><samp>-hda <var>file</var></samp></dt>
<dt><samp>-hdb <var>file</var></samp></dt>
<dt><samp>-hdc <var>file</var></samp></dt>
<dt><samp>-hdd <var>file</var></samp></dt>
<dd><a name="index-_002dhda"></a>
<a name="index-_002dhdb"></a>
<a name="index-_002dhdc"></a>
<a name="index-_002dhdd"></a>
<p>Use <var>file</var> as hard disk 0, 1, 2 or 3 image (see <a href="#disk_005fimages">disk_images</a>).
</p></dd>
<dt><samp>-cdrom <var>file</var></samp></dt>
<dd><a name="index-_002dcdrom"></a>
<p>Use <var>file</var> as CD-ROM image (you cannot use <samp>-hdc</samp> and
<samp>-cdrom</samp> at the same time). You can use the host CD-ROM by
using <samp>/dev/cdrom</samp> as filename (see <a href="#host_005fdrives">host_drives</a>).
</p></dd>
<dt><samp>-drive <var>option</var>[,<var>option</var>[,<var>option</var>[,...]]]</samp></dt>
<dd><a name="index-_002ddrive"></a>

<p>Define a new drive. Valid options are:
</p>
<dl compact="compact">
<dt><samp>file=<var>file</var></samp></dt>
<dd><p>This option defines which disk image (see <a href="#disk_005fimages">disk_images</a>) to use with
this drive. If the filename contains comma, you must double it
(for instance, &quot;file=my,,file&quot; to use file &quot;my,file&quot;).
</p>
<p>Special files such as iSCSI devices can be specified using protocol
specific URLs. See the section for &quot;Device URL Syntax&quot; for more information.
</p></dd>
<dt><samp>if=<var>interface</var></samp></dt>
<dd><p>This option defines on which type on interface the drive is connected.
Available types are: ide, scsi, sd, mtd, floppy, pflash, virtio.
</p></dd>
<dt><samp>bus=<var>bus</var>,unit=<var>unit</var></samp></dt>
<dd><p>These options define where is connected the drive by defining the bus number and
the unit id.
</p></dd>
<dt><samp>index=<var>index</var></samp></dt>
<dd><p>This option defines where is connected the drive by using an index in the list
of available connectors of a given interface type.
</p></dd>
<dt><samp>media=<var>media</var></samp></dt>
<dd><p>This option defines the type of the media: disk or cdrom.
</p></dd>
<dt><samp>cyls=<var>c</var>,heads=<var>h</var>,secs=<var>s</var>[,trans=<var>t</var>]</samp></dt>
<dd><p>These options have the same definition as they have in <samp>-hdachs</samp>.
</p></dd>
<dt><samp>snapshot=<var>snapshot</var></samp></dt>
<dd><p><var>snapshot</var> is &quot;on&quot; or &quot;off&quot; and controls snapshot mode for the given drive
(see <samp>-snapshot</samp>).
</p></dd>
<dt><samp>cache=<var>cache</var></samp></dt>
<dd><p><var>cache</var> is &quot;none&quot;, &quot;writeback&quot;, &quot;unsafe&quot;, &quot;directsync&quot; or &quot;writethrough&quot; and controls how the host cache is used to access block data.
</p></dd>
<dt><samp>aio=<var>aio</var></samp></dt>
<dd><p><var>aio</var> is &quot;threads&quot;, or &quot;native&quot; and selects between pthread based disk I/O and native Linux AIO.
</p></dd>
<dt><samp>discard=<var>discard</var></samp></dt>
<dd><p><var>discard</var> is one of &quot;ignore&quot; (or &quot;off&quot;) or &quot;unmap&quot; (or &quot;on&quot;) and controls whether <em>discard</em> (also known as <em>trim</em> or <em>unmap</em>) requests are ignored or passed to the filesystem.  Some machine types may not support discard requests.
</p></dd>
<dt><samp>format=<var>format</var></samp></dt>
<dd><p>Specify which disk <var>format</var> will be used rather than detecting
the format.  Can be used to specify format=raw to avoid interpreting
an untrusted format header.
</p></dd>
<dt><samp>serial=<var>serial</var></samp></dt>
<dd><p>This option specifies the serial number to assign to the device.
</p></dd>
<dt><samp>addr=<var>addr</var></samp></dt>
<dd><p>Specify the controller&rsquo;s PCI address (if=virtio only).
</p></dd>
<dt><samp>werror=<var>action</var>,rerror=<var>action</var></samp></dt>
<dd><p>Specify which <var>action</var> to take on write and read errors. Valid actions are:
&quot;ignore&quot; (ignore the error and try to continue), &quot;stop&quot; (pause QEMU),
&quot;report&quot; (report the error to the guest), &quot;enospc&quot; (pause QEMU only if the
host disk is full; report the error to the guest otherwise).
The default setting is <samp>werror=enospc</samp> and <samp>rerror=report</samp>.
</p></dd>
<dt><samp>readonly</samp></dt>
<dd><p>Open drive <samp>file</samp> as read-only. Guest write attempts will fail.
</p></dd>
<dt><samp>copy-on-read=<var>copy-on-read</var></samp></dt>
<dd><p><var>copy-on-read</var> is &quot;on&quot; or &quot;off&quot; and enables whether to copy read backing
file sectors into the image file.
</p></dd>
<dt><samp>detect-zeroes=<var>detect-zeroes</var></samp></dt>
<dd><p><var>detect-zeroes</var> is &quot;off&quot;, &quot;on&quot; or &quot;unmap&quot; and enables the automatic
conversion of plain zero writes by the OS to driver specific optimized
zero write commands. You may even choose &quot;unmap&quot; if <var>discard</var> is set
to &quot;unmap&quot; to allow a zero write to be converted to an UNMAP operation.
</p></dd>
</dl>

<p>By default, the <samp>cache=writeback</samp> mode is used. It will report data
writes as completed as soon as the data is present in the host page cache.
This is safe as long as your guest OS makes sure to correctly flush disk caches
where needed. If your guest OS does not handle volatile disk write caches
correctly and your host crashes or loses power, then the guest may experience
data corruption.
</p>
<p>For such guests, you should consider using <samp>cache=writethrough</samp>. This
means that the host page cache will be used to read and write data, but write
notification will be sent to the guest only after QEMU has made sure to flush
each write to the disk. Be aware that this has a major impact on performance.
</p>
<p>The host page cache can be avoided entirely with <samp>cache=none</samp>.  This will
attempt to do disk IO directly to the guest&rsquo;s memory.  QEMU may still perform
an internal copy of the data. Note that this is considered a writeback mode and
the guest OS must handle the disk write cache correctly in order to avoid data
corruption on host crashes.
</p>
<p>The host page cache can be avoided while only sending write notifications to
the guest when the data has been flushed to the disk using
<samp>cache=directsync</samp>.
</p>
<p>In case you don&rsquo;t care about data integrity over host failures, use
<samp>cache=unsafe</samp>. This option tells QEMU that it never needs to write any
data to the disk but can instead keep things in cache. If anything goes wrong,
like your host losing power, the disk storage getting disconnected accidentally,
etc. your image will most probably be rendered unusable.   When using
the <samp>-snapshot</samp> option, unsafe caching is always used.
</p>
<p>Copy-on-read avoids accessing the same backing file sectors repeatedly and is
useful when the backing file is over a slow network.  By default copy-on-read
is off.
</p>
<p>Instead of <samp>-cdrom</samp> you can use:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=file,index=2,media=cdrom
</pre></div>

<p>Instead of <samp>-hda</samp>, <samp>-hdb</samp>, <samp>-hdc</samp>, <samp>-hdd</samp>, you can
use:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=file,index=0,media=disk
qemu-system-i386 -drive file=file,index=1,media=disk
qemu-system-i386 -drive file=file,index=2,media=disk
qemu-system-i386 -drive file=file,index=3,media=disk
</pre></div>

<p>You can open an image using pre-opened file descriptors from an fd set:
</p><div class="example">
<pre class="example">qemu-system-i386
-add-fd fd=3,set=2,opaque=&quot;rdwr:/path/to/file&quot;
-add-fd fd=4,set=2,opaque=&quot;rdonly:/path/to/file&quot;
-drive file=/dev/fdset/2,index=0,media=disk
</pre></div>

<p>You can connect a CDROM to the slave of ide0:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=file,if=ide,index=1,media=cdrom
</pre></div>

<p>If you don&rsquo;t specify the &quot;file=&quot; argument, you define an empty drive:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive if=ide,index=1,media=cdrom
</pre></div>

<p>You can connect a SCSI disk with unit ID 6 on the bus #0:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=file,if=scsi,bus=0,unit=6
</pre></div>

<p>Instead of <samp>-fda</samp>, <samp>-fdb</samp>, you can use:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=file,index=0,if=floppy
qemu-system-i386 -drive file=file,index=1,if=floppy
</pre></div>

<p>By default, <var>interface</var> is &quot;ide&quot; and <var>index</var> is automatically
incremented:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=a -drive file=b&quot;
</pre></div>
<p>is interpreted like:
</p><div class="example">
<pre class="example">qemu-system-i386 -hda a -hdb b
</pre></div>
</dd>
<dt><samp>-mtdblock <var>file</var></samp></dt>
<dd><a name="index-_002dmtdblock"></a>
<p>Use <var>file</var> as on-board Flash memory image.
</p></dd>
<dt><samp>-sd <var>file</var></samp></dt>
<dd><a name="index-_002dsd"></a>
<p>Use <var>file</var> as SecureDigital card image.
</p></dd>
<dt><samp>-pflash <var>file</var></samp></dt>
<dd><a name="index-_002dpflash"></a>
<p>Use <var>file</var> as a parallel flash image.
</p></dd>
<dt><samp>-snapshot</samp></dt>
<dd><a name="index-_002dsnapshot"></a>
<p>Write to temporary files instead of disk image files. In this case,
the raw disk image you use is not written back. You can however force
the write back by pressing <tt class="key">C-a s</tt> (see <a href="#disk_005fimages">disk_images</a>).
</p></dd>
<dt><samp>-hdachs <var>c</var>,<var>h</var>,<var>s</var>,[,<var>t</var>]</samp></dt>
<dd><a name="index-_002dhdachs"></a>
<p>Force hard disk 0 physical geometry (1 &lt;= <var>c</var> &lt;= 16383, 1 &lt;=
<var>h</var> &lt;= 16, 1 &lt;= <var>s</var> &lt;= 63) and optionally force the BIOS
translation mode (<var>t</var>=none, lba or auto). Usually QEMU can guess
all those parameters. This option is useful for old MS-DOS disk
images.
</p>
</dd>
<dt><samp>-fsdev <var>fsdriver</var>,id=<var>id</var>,path=<var>path</var>,[security_model=<var>security_model</var>][,writeout=<var>writeout</var>][,readonly][,socket=<var>socket</var>|sock_fd=<var>sock_fd</var>]</samp></dt>
<dd><a name="index-_002dfsdev"></a>
<p>Define a new file system device. Valid options are:
</p><dl compact="compact">
<dt><samp><var>fsdriver</var></samp></dt>
<dd><p>This option specifies the fs driver backend to use.
Currently &quot;local&quot;, &quot;handle&quot; and &quot;proxy&quot; file system drivers are supported.
</p></dd>
<dt><samp>id=<var>id</var></samp></dt>
<dd><p>Specifies identifier for this device
</p></dd>
<dt><samp>path=<var>path</var></samp></dt>
<dd><p>Specifies the export path for the file system device. Files under
this path will be available to the 9p client on the guest.
</p></dd>
<dt><samp>security_model=<var>security_model</var></samp></dt>
<dd><p>Specifies the security model to be used for this export path.
Supported security models are &quot;passthrough&quot;, &quot;mapped-xattr&quot;, &quot;mapped-file&quot; and &quot;none&quot;.
In &quot;passthrough&quot; security model, files are stored using the same
credentials as they are created on the guest. This requires QEMU
to run as root. In &quot;mapped-xattr&quot; security model, some of the file
attributes like uid, gid, mode bits and link target are stored as
file attributes. For &quot;mapped-file&quot; these attributes are stored in the
hidden .virtfs_metadata directory. Directories exported by this security model cannot
interact with other unix tools. &quot;none&quot; security model is same as
passthrough except the sever won&rsquo;t report failures if it fails to
set file attributes like ownership. Security model is mandatory
only for local fsdriver. Other fsdrivers (like handle, proxy) don&rsquo;t take
security model as a parameter.
</p></dd>
<dt><samp>writeout=<var>writeout</var></samp></dt>
<dd><p>This is an optional argument. The only supported value is &quot;immediate&quot;.
This means that host page cache will be used to read and write data but
write notification will be sent to the guest only when the data has been
reported as written by the storage subsystem.
</p></dd>
<dt><samp>readonly</samp></dt>
<dd><p>Enables exporting 9p share as a readonly mount for guests. By default
read-write access is given.
</p></dd>
<dt><samp>socket=<var>socket</var></samp></dt>
<dd><p>Enables proxy filesystem driver to use passed socket file for communicating
with virtfs-proxy-helper
</p></dd>
<dt><samp>sock_fd=<var>sock_fd</var></samp></dt>
<dd><p>Enables proxy filesystem driver to use passed socket descriptor for
communicating with virtfs-proxy-helper. Usually a helper like libvirt
will create socketpair and pass one of the fds as sock_fd
</p></dd>
</dl>

<p>-fsdev option is used along with -device driver &quot;virtio-9p-pci&quot;.
</p></dd>
<dt><samp>-device virtio-9p-pci,fsdev=<var>id</var>,mount_tag=<var>mount_tag</var></samp></dt>
<dd><p>Options for virtio-9p-pci driver are:
</p><dl compact="compact">
<dt><samp>fsdev=<var>id</var></samp></dt>
<dd><p>Specifies the id value specified along with -fsdev option
</p></dd>
<dt><samp>mount_tag=<var>mount_tag</var></samp></dt>
<dd><p>Specifies the tag name to be used by the guest to mount this export point
</p></dd>
</dl>


</dd>
<dt><samp>-virtfs <var>fsdriver</var>[,path=<var>path</var>],mount_tag=<var>mount_tag</var>[,security_model=<var>security_model</var>][,writeout=<var>writeout</var>][,readonly][,socket=<var>socket</var>|sock_fd=<var>sock_fd</var>]</samp></dt>
<dd><a name="index-_002dvirtfs"></a>

<p>The general form of a Virtual File system pass-through options are:
</p><dl compact="compact">
<dt><samp><var>fsdriver</var></samp></dt>
<dd><p>This option specifies the fs driver backend to use.
Currently &quot;local&quot;, &quot;handle&quot; and &quot;proxy&quot; file system drivers are supported.
</p></dd>
<dt><samp>id=<var>id</var></samp></dt>
<dd><p>Specifies identifier for this device
</p></dd>
<dt><samp>path=<var>path</var></samp></dt>
<dd><p>Specifies the export path for the file system device. Files under
this path will be available to the 9p client on the guest.
</p></dd>
<dt><samp>security_model=<var>security_model</var></samp></dt>
<dd><p>Specifies the security model to be used for this export path.
Supported security models are &quot;passthrough&quot;, &quot;mapped-xattr&quot;, &quot;mapped-file&quot; and &quot;none&quot;.
In &quot;passthrough&quot; security model, files are stored using the same
credentials as they are created on the guest. This requires QEMU
to run as root. In &quot;mapped-xattr&quot; security model, some of the file
attributes like uid, gid, mode bits and link target are stored as
file attributes. For &quot;mapped-file&quot; these attributes are stored in the
hidden .virtfs_metadata directory. Directories exported by this security model cannot
interact with other unix tools. &quot;none&quot; security model is same as
passthrough except the sever won&rsquo;t report failures if it fails to
set file attributes like ownership. Security model is mandatory only
for local fsdriver. Other fsdrivers (like handle, proxy) don&rsquo;t take security
model as a parameter.
</p></dd>
<dt><samp>writeout=<var>writeout</var></samp></dt>
<dd><p>This is an optional argument. The only supported value is &quot;immediate&quot;.
This means that host page cache will be used to read and write data but
write notification will be sent to the guest only when the data has been
reported as written by the storage subsystem.
</p></dd>
<dt><samp>readonly</samp></dt>
<dd><p>Enables exporting 9p share as a readonly mount for guests. By default
read-write access is given.
</p></dd>
<dt><samp>socket=<var>socket</var></samp></dt>
<dd><p>Enables proxy filesystem driver to use passed socket file for
communicating with virtfs-proxy-helper. Usually a helper like libvirt
will create socketpair and pass one of the fds as sock_fd
</p></dd>
<dt><samp>sock_fd</samp></dt>
<dd><p>Enables proxy filesystem driver to use passed &rsquo;sock_fd&rsquo; as the socket
descriptor for interfacing with virtfs-proxy-helper
</p></dd>
</dl>
</dd>
<dt><samp>-virtfs_synth</samp></dt>
<dd><a name="index-_002dvirtfs_005fsynth"></a>
<p>Create synthetic file system image
</p></dd>
</dl>

<p>USB options:
</p><dl compact="compact">
<dt><samp>-usb</samp></dt>
<dd><a name="index-_002dusb"></a>
<p>Enable the USB driver (will be the default soon)
</p>
</dd>
<dt><samp>-usbdevice <var>devname</var></samp></dt>
<dd><a name="index-_002dusbdevice"></a>
<p>Add the USB device <var>devname</var>. See <a href="#usb_005fdevices">usb_devices</a>.
</p>
<dl compact="compact">
<dt><samp>mouse</samp></dt>
<dd><p>Virtual Mouse. This will override the PS/2 mouse emulation when activated.
</p>
</dd>
<dt><samp>tablet</samp></dt>
<dd><p>Pointer device that uses absolute coordinates (like a touchscreen). This
means QEMU is able to report the mouse position without having to grab the
mouse. Also overrides the PS/2 mouse emulation when activated.
</p>
</dd>
<dt><samp>disk:[format=<var>format</var>]:<var>file</var></samp></dt>
<dd><p>Mass storage device based on file. The optional <var>format</var> argument
will be used rather than detecting the format. Can be used to specify
<code>format=raw</code> to avoid interpreting an untrusted format header.
</p>
</dd>
<dt><samp>host:<var>bus</var>.<var>addr</var></samp></dt>
<dd><p>Pass through the host device identified by <var>bus</var>.<var>addr</var> (Linux only).
</p>
</dd>
<dt><samp>host:<var>vendor_id</var>:<var>product_id</var></samp></dt>
<dd><p>Pass through the host device identified by <var>vendor_id</var>:<var>product_id</var>
(Linux only).
</p>
</dd>
<dt><samp>serial:[vendorid=<var>vendor_id</var>][,productid=<var>product_id</var>]:<var>dev</var></samp></dt>
<dd><p>Serial converter to host character device <var>dev</var>, see <code>-serial</code> for the
available devices.
</p>
</dd>
<dt><samp>braille</samp></dt>
<dd><p>Braille device.  This will use BrlAPI to display the braille output on a real
or fake device.
</p>
</dd>
<dt><samp>net:<var>options</var></samp></dt>
<dd><p>Network adapter that supports CDC ethernet and RNDIS protocols.
</p>
</dd>
</dl>
</dd>
</dl>

<p>Display options:
</p><dl compact="compact">
<dt><samp>-display <var>type</var></samp></dt>
<dd><a name="index-_002ddisplay"></a>
<p>Select type of display to use. This option is a replacement for the
old style -sdl/-curses/... options. Valid values for <var>type</var> are
</p><dl compact="compact">
<dt><samp>sdl</samp></dt>
<dd><p>Display video output via SDL (usually in a separate graphics
window; see the SDL documentation for other possibilities).
</p></dd>
<dt><samp>curses</samp></dt>
<dd><p>Display video output via curses. For graphics device models which
support a text mode, QEMU can display this output using a
curses/ncurses interface. Nothing is displayed when the graphics
device is in graphical mode or if the graphics device does not support
a text mode. Generally only the VGA device models support text mode.
</p></dd>
<dt><samp>none</samp></dt>
<dd><p>Do not display video output. The guest will still see an emulated
graphics card, but its output will not be displayed to the QEMU
user. This option differs from the -nographic option in that it
only affects what is done with video output; -nographic also changes
the destination of the serial and parallel port data.
</p></dd>
<dt><samp>gtk</samp></dt>
<dd><p>Display video output in a GTK window. This interface provides drop-down
menus and other UI elements to configure and control the VM during
runtime.
</p></dd>
<dt><samp>vnc</samp></dt>
<dd><p>Start a VNC server on display &lt;arg&gt;
</p></dd>
</dl>
</dd>
<dt><samp>-nographic</samp></dt>
<dd><a name="index-_002dnographic"></a>
<p>Normally, QEMU uses SDL to display the VGA output. With this option,
you can totally disable graphical output so that QEMU is a simple
command line application. The emulated serial port is redirected on
the console and muxed with the monitor (unless redirected elsewhere
explicitly). Therefore, you can still use QEMU to debug a Linux kernel
with a serial console.  Use <tt class="key">C-a h</tt> for help on switching between
the console and monitor.
</p></dd>
<dt><samp>-curses</samp></dt>
<dd><a name="index-_002dcurses"></a>
<p>Normally, QEMU uses SDL to display the VGA output.  With this option,
QEMU can display the VGA output when in text mode using a
curses/ncurses interface.  Nothing is displayed in graphical mode.
</p></dd>
<dt><samp>-no-frame</samp></dt>
<dd><a name="index-_002dno_002dframe"></a>
<p>Do not use decorations for SDL windows and start them using the whole
available screen space. This makes the using QEMU in a dedicated desktop
workspace more convenient.
</p></dd>
<dt><samp>-alt-grab</samp></dt>
<dd><a name="index-_002dalt_002dgrab"></a>
<p>Use Ctrl-Alt-Shift to grab mouse (instead of Ctrl-Alt). Note that this also
affects the special keys (for fullscreen, monitor-mode switching, etc).
</p></dd>
<dt><samp>-ctrl-grab</samp></dt>
<dd><a name="index-_002dctrl_002dgrab"></a>
<p>Use Right-Ctrl to grab mouse (instead of Ctrl-Alt). Note that this also
affects the special keys (for fullscreen, monitor-mode switching, etc).
</p></dd>
<dt><samp>-no-quit</samp></dt>
<dd><a name="index-_002dno_002dquit"></a>
<p>Disable SDL window close capability.
</p></dd>
<dt><samp>-sdl</samp></dt>
<dd><a name="index-_002dsdl"></a>
<p>Enable SDL.
</p></dd>
<dt><samp>-spice <var>option</var>[,<var>option</var>[,...]]</samp></dt>
<dd><a name="index-_002dspice"></a>
<p>Enable the spice remote desktop protocol. Valid options are
</p>
<dl compact="compact">
<dt><samp>port=&lt;nr&gt;</samp></dt>
<dd><p>Set the TCP port spice is listening on for plaintext channels.
</p>
</dd>
<dt><samp>addr=&lt;addr&gt;</samp></dt>
<dd><p>Set the IP address spice is listening on.  Default is any address.
</p>
</dd>
<dt><samp>ipv4</samp></dt>
<dt><samp>ipv6</samp></dt>
<dt><samp>unix</samp></dt>
<dd><p>Force using the specified IP version.
</p>
</dd>
<dt><samp>password=&lt;secret&gt;</samp></dt>
<dd><p>Set the password you need to authenticate.
</p>
</dd>
<dt><samp>sasl</samp></dt>
<dd><p>Require that the client use SASL to authenticate with the spice.
The exact choice of authentication method used is controlled from the
system / user&rsquo;s SASL configuration file for the &rsquo;qemu&rsquo; service. This
is typically found in /etc/sasl2/qemu.conf. If running QEMU as an
unprivileged user, an environment variable SASL_CONF_PATH can be used
to make it search alternate locations for the service config.
While some SASL auth methods can also provide data encryption (eg GSSAPI),
it is recommended that SASL always be combined with the &rsquo;tls&rsquo; and
&rsquo;x509&rsquo; settings to enable use of SSL and server certificates. This
ensures a data encryption preventing compromise of authentication
credentials.
</p>
</dd>
<dt><samp>disable-ticketing</samp></dt>
<dd><p>Allow client connects without authentication.
</p>
</dd>
<dt><samp>disable-copy-paste</samp></dt>
<dd><p>Disable copy paste between the client and the guest.
</p>
</dd>
<dt><samp>disable-agent-file-xfer</samp></dt>
<dd><p>Disable spice-vdagent based file-xfer between the client and the guest.
</p>
</dd>
<dt><samp>tls-port=&lt;nr&gt;</samp></dt>
<dd><p>Set the TCP port spice is listening on for encrypted channels.
</p>
</dd>
<dt><samp>x509-dir=&lt;dir&gt;</samp></dt>
<dd><p>Set the x509 file directory. Expects same filenames as -vnc $display,x509=$dir
</p>
</dd>
<dt><samp>x509-key-file=&lt;file&gt;</samp></dt>
<dt><samp>x509-key-password=&lt;file&gt;</samp></dt>
<dt><samp>x509-cert-file=&lt;file&gt;</samp></dt>
<dt><samp>x509-cacert-file=&lt;file&gt;</samp></dt>
<dt><samp>x509-dh-key-file=&lt;file&gt;</samp></dt>
<dd><p>The x509 file names can also be configured individually.
</p>
</dd>
<dt><samp>tls-ciphers=&lt;list&gt;</samp></dt>
<dd><p>Specify which ciphers to use.
</p>
</dd>
<dt><samp>tls-channel=[main|display|cursor|inputs|record|playback]</samp></dt>
<dt><samp>plaintext-channel=[main|display|cursor|inputs|record|playback]</samp></dt>
<dd><p>Force specific channel to be used with or without TLS encryption.  The
options can be specified multiple times to configure multiple
channels.  The special name &quot;default&quot; can be used to set the default
mode.  For channels which are not explicitly forced into one mode the
spice client is allowed to pick tls/plaintext as he pleases.
</p>
</dd>
<dt><samp>image-compression=[auto_glz|auto_lz|quic|glz|lz|off]</samp></dt>
<dd><p>Configure image compression (lossless).
Default is auto_glz.
</p>
</dd>
<dt><samp>jpeg-wan-compression=[auto|never|always]</samp></dt>
<dt><samp>zlib-glz-wan-compression=[auto|never|always]</samp></dt>
<dd><p>Configure wan image compression (lossy for slow links).
Default is auto.
</p>
</dd>
<dt><samp>streaming-video=[off|all|filter]</samp></dt>
<dd><p>Configure video stream detection.  Default is filter.
</p>
</dd>
<dt><samp>agent-mouse=[on|off]</samp></dt>
<dd><p>Enable/disable passing mouse events via vdagent.  Default is on.
</p>
</dd>
<dt><samp>playback-compression=[on|off]</samp></dt>
<dd><p>Enable/disable audio stream compression (using celt 0.5.1).  Default is on.
</p>
</dd>
<dt><samp>seamless-migration=[on|off]</samp></dt>
<dd><p>Enable/disable spice seamless migration. Default is off.
</p>
</dd>
<dt><samp>gl=[on|off]</samp></dt>
<dd><p>Enable/disable OpenGL context. Default is off.
</p>
</dd>
</dl>
</dd>
<dt><samp>-portrait</samp></dt>
<dd><a name="index-_002dportrait"></a>
<p>Rotate graphical output 90 deg left (only PXA LCD).
</p></dd>
<dt><samp>-rotate <var>deg</var></samp></dt>
<dd><a name="index-_002drotate"></a>
<p>Rotate graphical output some deg left (only PXA LCD).
</p></dd>
<dt><samp>-vga <var>type</var></samp></dt>
<dd><a name="index-_002dvga"></a>
<p>Select type of VGA card to emulate. Valid values for <var>type</var> are
</p><dl compact="compact">
<dt><samp>cirrus</samp></dt>
<dd><p>Cirrus Logic GD5446 Video card. All Windows versions starting from
Windows 95 should recognize and use this graphic card. For optimal
performances, use 16 bit color depth in the guest and the host OS.
(This one is the default)
</p></dd>
<dt><samp>std</samp></dt>
<dd><p>Standard VGA card with Bochs VBE extensions.  If your guest OS
supports the VESA 2.0 VBE extensions (e.g. Windows XP) and if you want
to use high resolution modes (&gt;= 1280x1024x16) then you should use
this option.
</p></dd>
<dt><samp>vmware</samp></dt>
<dd><p>VMWare SVGA-II compatible adapter. Use it if you have sufficiently
recent XFree86/XOrg server or Windows guest with a driver for this
card.
</p></dd>
<dt><samp>qxl</samp></dt>
<dd><p>QXL paravirtual graphic card.  It is VGA compatible (including VESA
2.0 VBE support).  Works best with qxl guest drivers installed though.
Recommended choice when using the spice protocol.
</p></dd>
<dt><samp>tcx</samp></dt>
<dd><p>(sun4m only) Sun TCX framebuffer. This is the default framebuffer for
sun4m machines and offers both 8-bit and 24-bit colour depths at a
fixed resolution of 1024x768.
</p></dd>
<dt><samp>cg3</samp></dt>
<dd><p>(sun4m only) Sun cgthree framebuffer. This is a simple 8-bit framebuffer
for sun4m machines available in both 1024x768 (OpenBIOS) and 1152x900 (OBP)
resolutions aimed at people wishing to run older Solaris versions.
</p></dd>
<dt><samp>virtio</samp></dt>
<dd><p>Virtio VGA card.
</p></dd>
<dt><samp>none</samp></dt>
<dd><p>Disable VGA card.
</p></dd>
</dl>
</dd>
<dt><samp>-full-screen</samp></dt>
<dd><a name="index-_002dfull_002dscreen"></a>
<p>Start in full screen.
</p></dd>
<dt><samp>-g <var>width</var>x<var>height</var>[x<var>depth</var>]</samp></dt>
<dd><a name="index-_002dg"></a>
<p>Set the initial graphical resolution and depth (PPC, SPARC only).
</p></dd>
<dt><samp>-vnc <var>display</var>[,<var>option</var>[,<var>option</var>[,...]]]</samp></dt>
<dd><a name="index-_002dvnc"></a>
<p>Normally, QEMU uses SDL to display the VGA output.  With this option,
you can have QEMU listen on VNC display <var>display</var> and redirect the VGA
display over the VNC session.  It is very useful to enable the usb
tablet device when using this option (option <samp>-usbdevice
tablet</samp>). When using the VNC display, you must use the <samp>-k</samp>
parameter to set the keyboard layout if you are not using en-us. Valid
syntax for the <var>display</var> is
</p>
<dl compact="compact">
<dt><samp>to=<var>L</var></samp></dt>
<dd>
<p>With this option, QEMU will try next available VNC <var>display</var>s, until the
number <var>L</var>, if the origianlly defined &quot;-vnc <var>display</var>&quot; is not
available, e.g. port 5900+<var>display</var> is already used by another
application. By default, to=0.
</p>
</dd>
<dt><samp><var>host</var>:<var>d</var></samp></dt>
<dd>
<p>TCP connections will only be allowed from <var>host</var> on display <var>d</var>.
By convention the TCP port is 5900+<var>d</var>. Optionally, <var>host</var> can
be omitted in which case the server will accept connections from any host.
</p>
</dd>
<dt><samp>unix:<var>path</var></samp></dt>
<dd>
<p>Connections will be allowed over UNIX domain sockets where <var>path</var> is the
location of a unix socket to listen for connections on.
</p>
</dd>
<dt><samp>none</samp></dt>
<dd>
<p>VNC is initialized but not started. The monitor <code>change</code> command
can be used to later start the VNC server.
</p>
</dd>
</dl>

<p>Following the <var>display</var> value there may be one or more <var>option</var> flags
separated by commas. Valid options are
</p>
<dl compact="compact">
<dt><samp>reverse</samp></dt>
<dd>
<p>Connect to a listening VNC client via a &ldquo;reverse&rdquo; connection. The
client is specified by the <var>display</var>. For reverse network
connections (<var>host</var>:<var>d</var>,<code>reverse</code>), the <var>d</var> argument
is a TCP port number, not a display number.
</p>
</dd>
<dt><samp>websocket</samp></dt>
<dd>
<p>Opens an additional TCP listening port dedicated to VNC Websocket connections.
By definition the Websocket port is 5700+<var>display</var>. If <var>host</var> is
specified connections will only be allowed from this host.
As an alternative the Websocket port could be specified by using
<code>websocket</code>=<var>port</var>.
If no TLS credentials are provided, the websocket connection runs in
unencrypted mode. If TLS credentials are provided, the websocket connection
requires encrypted client connections.
</p>
</dd>
<dt><samp>password</samp></dt>
<dd>
<p>Require that password based authentication is used for client connections.
</p>
<p>The password must be set separately using the <code>set_password</code> command in
the <a href="#pcsys_005fmonitor">pcsys_monitor</a>. The syntax to change your password is:
<code>set_password &lt;protocol&gt; &lt;password&gt;</code> where &lt;protocol&gt; could be either
&quot;vnc&quot; or &quot;spice&quot;.
</p>
<p>If you would like to change &lt;protocol&gt; password expiration, you should use
<code>expire_password &lt;protocol&gt; &lt;expiration-time&gt;</code> where expiration time could
be one of the following options: now, never, +seconds or UNIX time of
expiration, e.g. +60 to make password expire in 60 seconds, or 1335196800
to make password expire on &quot;Mon Apr 23 12:00:00 EDT 2012&quot; (UNIX time for this
date and time).
</p>
<p>You can also use keywords &quot;now&quot; or &quot;never&quot; for the expiration time to
allow &lt;protocol&gt; password to expire immediately or never expire.
</p>
</dd>
<dt><samp>tls-creds=<var>ID</var></samp></dt>
<dd>
<p>Provides the ID of a set of TLS credentials to use to secure the
VNC server. They will apply to both the normal VNC server socket
and the websocket socket (if enabled). Setting TLS credentials
will cause the VNC server socket to enable the VeNCrypt auth
mechanism.  The credentials should have been previously created
using the <samp>-object tls-creds</samp> argument.
</p>
<p>The <samp>tls-creds</samp> parameter obsoletes the <samp>tls</samp>,
<samp>x509</samp>, and <samp>x509verify</samp> options, and as such
it is not permitted to set both new and old type options at
the same time.
</p>
</dd>
<dt><samp>tls</samp></dt>
<dd>
<p>Require that client use TLS when communicating with the VNC server. This
uses anonymous TLS credentials so is susceptible to a man-in-the-middle
attack. It is recommended that this option be combined with either the
<samp>x509</samp> or <samp>x509verify</samp> options.
</p>
<p>This option is now deprecated in favor of using the <samp>tls-creds</samp>
argument.
</p>
</dd>
<dt><samp>x509=<var>/path/to/certificate/dir</var></samp></dt>
<dd>
<p>Valid if <samp>tls</samp> is specified. Require that x509 credentials are used
for negotiating the TLS session. The server will send its x509 certificate
to the client. It is recommended that a password be set on the VNC server
to provide authentication of the client when this is used. The path following
this option specifies where the x509 certificates are to be loaded from.
See the <a href="#vnc_005fsecurity">vnc_security</a> section for details on generating certificates.
</p>
<p>This option is now deprecated in favour of using the <samp>tls-creds</samp>
argument.
</p>
</dd>
<dt><samp>x509verify=<var>/path/to/certificate/dir</var></samp></dt>
<dd>
<p>Valid if <samp>tls</samp> is specified. Require that x509 credentials are used
for negotiating the TLS session. The server will send its x509 certificate
to the client, and request that the client send its own x509 certificate.
The server will validate the client&rsquo;s certificate against the CA certificate,
and reject clients when validation fails. If the certificate authority is
trusted, this is a sufficient authentication mechanism. You may still wish
to set a password on the VNC server as a second authentication layer. The
path following this option specifies where the x509 certificates are to
be loaded from. See the <a href="#vnc_005fsecurity">vnc_security</a> section for details on generating
certificates.
</p>
<p>This option is now deprecated in favour of using the <samp>tls-creds</samp>
argument.
</p>
</dd>
<dt><samp>sasl</samp></dt>
<dd>
<p>Require that the client use SASL to authenticate with the VNC server.
The exact choice of authentication method used is controlled from the
system / user&rsquo;s SASL configuration file for the &rsquo;qemu&rsquo; service. This
is typically found in /etc/sasl2/qemu.conf. If running QEMU as an
unprivileged user, an environment variable SASL_CONF_PATH can be used
to make it search alternate locations for the service config.
While some SASL auth methods can also provide data encryption (eg GSSAPI),
it is recommended that SASL always be combined with the &rsquo;tls&rsquo; and
&rsquo;x509&rsquo; settings to enable use of SSL and server certificates. This
ensures a data encryption preventing compromise of authentication
credentials. See the <a href="#vnc_005fsecurity">vnc_security</a> section for details on using
SASL authentication.
</p>
</dd>
<dt><samp>acl</samp></dt>
<dd>
<p>Turn on access control lists for checking of the x509 client certificate
and SASL party. For x509 certs, the ACL check is made against the
certificate&rsquo;s distinguished name. This is something that looks like
<code>C=GB,O=ACME,L=Boston,CN=bob</code>. For SASL party, the ACL check is
made against the username, which depending on the SASL plugin, may
include a realm component, eg <code>bob</code> or <code>bob@EXAMPLE.COM</code>.
When the <samp>acl</samp> flag is set, the initial access list will be
empty, with a <code>deny</code> policy. Thus no one will be allowed to
use the VNC server until the ACLs have been loaded. This can be
achieved using the <code>acl</code> monitor command.
</p>
</dd>
<dt><samp>lossy</samp></dt>
<dd>
<p>Enable lossy compression methods (gradient, JPEG, ...). If this
option is set, VNC client may receive lossy framebuffer updates
depending on its encoding settings. Enabling this option can save
a lot of bandwidth at the expense of quality.
</p>
</dd>
<dt><samp>non-adaptive</samp></dt>
<dd>
<p>Disable adaptive encodings. Adaptive encodings are enabled by default.
An adaptive encoding will try to detect frequently updated screen regions,
and send updates in these regions using a lossy encoding (like JPEG).
This can be really helpful to save bandwidth when playing videos. Disabling
adaptive encodings restores the original static behavior of encodings
like Tight.
</p>
</dd>
<dt><samp>share=[allow-exclusive|force-shared|ignore]</samp></dt>
<dd>
<p>Set display sharing policy.  &rsquo;allow-exclusive&rsquo; allows clients to ask
for exclusive access.  As suggested by the rfb spec this is
implemented by dropping other connections.  Connecting multiple
clients in parallel requires all clients asking for a shared session
(vncviewer: -shared switch).  This is the default.  &rsquo;force-shared&rsquo;
disables exclusive client access.  Useful for shared desktop sessions,
where you don&rsquo;t want someone forgetting specify -shared disconnect
everybody else.  &rsquo;ignore&rsquo; completely ignores the shared flag and
allows everybody connect unconditionally.  Doesn&rsquo;t conform to the rfb
spec but is traditional QEMU behavior.
</p>
</dd>
<dt><samp>key-delay-ms</samp></dt>
<dd>
<p>Set keyboard delay, for key down and key up events, in milliseconds.
Default is 1.  Keyboards are low-bandwidth devices, so this slowdown
can help the device and guest to keep up and not lose events in case
events are arriving in bulk.  Possible causes for the latter are flaky
network connections, or scripts for automated testing.
</p>
</dd>
</dl>
</dd>
</dl>

<p>i386 target only:
</p><dl compact="compact">
<dt><samp>-win2k-hack</samp></dt>
<dd><a name="index-_002dwin2k_002dhack"></a>
<p>Use it when installing Windows 2000 to avoid a disk full bug. After
Windows 2000 is installed, you no longer need this option (this option
slows down the IDE transfers).
</p></dd>
<dt><samp>-no-fd-bootchk</samp></dt>
<dd><a name="index-_002dno_002dfd_002dbootchk"></a>
<p>Disable boot signature checking for floppy disks in BIOS. May
be needed to boot from old floppy disks.
</p></dd>
<dt><samp>-no-acpi</samp></dt>
<dd><a name="index-_002dno_002dacpi"></a>
<p>Disable ACPI (Advanced Configuration and Power Interface) support. Use
it if your guest OS complains about ACPI problems (PC target machine
only).
</p></dd>
<dt><samp>-no-hpet</samp></dt>
<dd><a name="index-_002dno_002dhpet"></a>
<p>Disable HPET support.
</p></dd>
<dt><samp>-acpitable [sig=<var>str</var>][,rev=<var>n</var>][,oem_id=<var>str</var>][,oem_table_id=<var>str</var>][,oem_rev=<var>n</var>] [,asl_compiler_id=<var>str</var>][,asl_compiler_rev=<var>n</var>][,data=<var>file1</var>[:<var>file2</var>]...]</samp></dt>
<dd><a name="index-_002dacpitable"></a>
<p>Add ACPI table with specified header fields and context from specified files.
For file=, take whole ACPI table from the specified files, including all
ACPI headers (possible overridden by other options).
For data=, only data
portion of the table is used, all header information is specified in the
command line.
If a SLIC table is supplied to QEMU, then the SLIC&rsquo;s oem_id and oem_table_id
fields will override the same in the RSDT and the FADT (a.k.a. FACP), in order
to ensure the field matches required by the Microsoft SLIC spec and the ACPI
spec.
</p></dd>
<dt><samp>-smbios file=<var>binary</var></samp></dt>
<dd><a name="index-_002dsmbios"></a>
<p>Load SMBIOS entry from binary file.
</p>
</dd>
<dt><samp>-smbios type=0[,vendor=<var>str</var>][,version=<var>str</var>][,date=<var>str</var>][,release=<var>%d.%d</var>][,uefi=on|off]</samp></dt>
<dd><p>Specify SMBIOS type 0 fields
</p>
</dd>
<dt><samp>-smbios type=1[,manufacturer=<var>str</var>][,product=<var>str</var>][,version=<var>str</var>][,serial=<var>str</var>][,uuid=<var>uuid</var>][,sku=<var>str</var>][,family=<var>str</var>]</samp></dt>
<dd><p>Specify SMBIOS type 1 fields
</p>
</dd>
<dt><samp>-smbios type=2[,manufacturer=<var>str</var>][,product=<var>str</var>][,version=<var>str</var>][,serial=<var>str</var>][,asset=<var>str</var>][,location=<var>str</var>][,family=<var>str</var>]</samp></dt>
<dd><p>Specify SMBIOS type 2 fields
</p>
</dd>
<dt><samp>-smbios type=3[,manufacturer=<var>str</var>][,version=<var>str</var>][,serial=<var>str</var>][,asset=<var>str</var>][,sku=<var>str</var>]</samp></dt>
<dd><p>Specify SMBIOS type 3 fields
</p>
</dd>
<dt><samp>-smbios type=4[,sock_pfx=<var>str</var>][,manufacturer=<var>str</var>][,version=<var>str</var>][,serial=<var>str</var>][,asset=<var>str</var>][,part=<var>str</var>]</samp></dt>
<dd><p>Specify SMBIOS type 4 fields
</p>
</dd>
<dt><samp>-smbios type=17[,loc_pfx=<var>str</var>][,bank=<var>str</var>][,manufacturer=<var>str</var>][,serial=<var>str</var>][,asset=<var>str</var>][,part=<var>str</var>][,speed=<var>%d</var>]</samp></dt>
<dd><p>Specify SMBIOS type 17 fields
</p></dd>
</dl>

<p>Network options:
</p><dl compact="compact">
<dt><samp>-net nic[,vlan=<var>n</var>][,macaddr=<var>mac</var>][,model=<var>type</var>] [,name=<var>name</var>][,addr=<var>addr</var>][,vectors=<var>v</var>]</samp></dt>
<dd><a name="index-_002dnet"></a>
<p>Create a new Network Interface Card and connect it to VLAN <var>n</var> (<var>n</var>
= 0 is the default). The NIC is an e1000 by default on the PC
target. Optionally, the MAC address can be changed to <var>mac</var>, the
device address set to <var>addr</var> (PCI cards only),
and a <var>name</var> can be assigned for use in monitor commands.
Optionally, for PCI cards, you can specify the number <var>v</var> of MSI-X vectors
that the card should have; this option currently only affects virtio cards; set
<var>v</var> = 0 to disable MSI-X. If no <samp>-net</samp> option is specified, a single
NIC is created.  QEMU can emulate several different models of network card.
Valid values for <var>type</var> are
<code>virtio</code>, <code>i82551</code>, <code>i82557b</code>, <code>i82559er</code>,
<code>ne2k_pci</code>, <code>ne2k_isa</code>, <code>pcnet</code>, <code>rtl8139</code>,
<code>e1000</code>, <code>smc91c111</code>, <code>lance</code> and <code>mcf_fec</code>.
Not all devices are supported on all targets.  Use <code>-net nic,model=help</code>
for a list of available devices for your target.
</p>
</dd>
<dt><samp>-netdev user,id=<var>id</var>[,<var>option</var>][,<var>option</var>][,...]</samp></dt>
<dd><a name="index-_002dnetdev"></a>
</dd>
<dt><samp>-net user[,<var>option</var>][,<var>option</var>][,...]</samp></dt>
<dd><p>Use the user mode network stack which requires no administrator
privilege to run. Valid options are:
</p>
<dl compact="compact">
<dt><samp>vlan=<var>n</var></samp></dt>
<dd><p>Connect user mode stack to VLAN <var>n</var> (<var>n</var> = 0 is the default).
</p>
</dd>
<dt><samp>id=<var>id</var></samp></dt>
<dt><samp>name=<var>name</var></samp></dt>
<dd><p>Assign symbolic name for use in monitor commands.
</p>
<p><samp>ipv4</samp> and <samp>ipv6</samp> specify that either IPv4 or IPv6 must
be enabled.  If neither is specified both protocols are enabled.
</p>
</dd>
<dt><samp>net=<var>addr</var>[/<var>mask</var>]</samp></dt>
<dd><p>Set IP network address the guest will see. Optionally specify the netmask,
either in the form a.b.c.d or as number of valid top-most bits. Default is
10.0.2.0/24.
</p>
</dd>
<dt><samp>host=<var>addr</var></samp></dt>
<dd><p>Specify the guest-visible address of the host. Default is the 2nd IP in the
guest network, i.e. x.x.x.2.
</p>
</dd>
<dt><samp>ipv6-net=<var>addr</var>[/<var>int</var>]</samp></dt>
<dd><p>Set IPv6 network address the guest will see (default is fec0::/64). The
network prefix is given in the usual hexadecimal IPv6 address
notation. The prefix size is optional, and is given as the number of
valid top-most bits (default is 64).
</p>
</dd>
<dt><samp>ipv6-host=<var>addr</var></samp></dt>
<dd><p>Specify the guest-visible IPv6 address of the host. Default is the 2nd IPv6 in
the guest network, i.e. xxxx::2.
</p>
</dd>
<dt><samp>restrict=on|off</samp></dt>
<dd><p>If this option is enabled, the guest will be isolated, i.e. it will not be
able to contact the host and no guest IP packets will be routed over the host
to the outside. This option does not affect any explicitly set forwarding rules.
</p>
</dd>
<dt><samp>hostname=<var>name</var></samp></dt>
<dd><p>Specifies the client hostname reported by the built-in DHCP server.
</p>
</dd>
<dt><samp>dhcpstart=<var>addr</var></samp></dt>
<dd><p>Specify the first of the 16 IPs the built-in DHCP server can assign. Default
is the 15th to 31st IP in the guest network, i.e. x.x.x.15 to x.x.x.31.
</p>
</dd>
<dt><samp>dns=<var>addr</var></samp></dt>
<dd><p>Specify the guest-visible address of the virtual nameserver. The address must
be different from the host address. Default is the 3rd IP in the guest network,
i.e. x.x.x.3.
</p>
</dd>
<dt><samp>ipv6-dns=<var>addr</var></samp></dt>
<dd><p>Specify the guest-visible address of the IPv6 virtual nameserver. The address
must be different from the host address. Default is the 3rd IP in the guest
network, i.e. xxxx::3.
</p>
</dd>
<dt><samp>dnssearch=<var>domain</var></samp></dt>
<dd><p>Provides an entry for the domain-search list sent by the built-in
DHCP server. More than one domain suffix can be transmitted by specifying
this option multiple times. If supported, this will cause the guest to
automatically try to append the given domain suffix(es) in case a domain name
can not be resolved.
</p>
<p>Example:
</p><div class="example">
<pre class="example">qemu -net user,dnssearch=mgmt.example.org,dnssearch=example.org [...]
</pre></div>

</dd>
<dt><samp>tftp=<var>dir</var></samp></dt>
<dd><p>When using the user mode network stack, activate a built-in TFTP
server. The files in <var>dir</var> will be exposed as the root of a TFTP server.
The TFTP client on the guest must be configured in binary mode (use the command
<code>bin</code> of the Unix TFTP client).
</p>
</dd>
<dt><samp>bootfile=<var>file</var></samp></dt>
<dd><p>When using the user mode network stack, broadcast <var>file</var> as the BOOTP
filename. In conjunction with <samp>tftp</samp>, this can be used to network boot
a guest from a local directory.
</p>
<p>Example (using pxelinux):
</p><div class="example">
<pre class="example">qemu-system-i386 -hda linux.img -boot n -net user,tftp=/path/to/tftp/files,bootfile=/pxelinux.0
</pre></div>

</dd>
<dt><samp>smb=<var>dir</var>[,smbserver=<var>addr</var>]</samp></dt>
<dd><p>When using the user mode network stack, activate a built-in SMB
server so that Windows OSes can access to the host files in <samp><var>dir</var></samp>
transparently. The IP address of the SMB server can be set to <var>addr</var>. By
default the 4th IP in the guest network is used, i.e. x.x.x.4.
</p>
<p>In the guest Windows OS, the line:
</p><div class="example">
<pre class="example">10.0.2.4 smbserver
</pre></div>
<p>must be added in the file <samp>C:\WINDOWS\LMHOSTS</samp> (for windows 9x/Me)
or <samp>C:\WINNT\SYSTEM32\DRIVERS\ETC\LMHOSTS</samp> (Windows NT/2000).
</p>
<p>Then <samp><var>dir</var></samp> can be accessed in <samp>\smbserver\qemu</samp>.
</p>
<p>Note that a SAMBA server must be installed on the host OS.
QEMU was tested successfully with smbd versions from Red Hat 9,
Fedora Core 3 and OpenSUSE 11.x.
</p>
</dd>
<dt><samp>hostfwd=[tcp|udp]:[<var>hostaddr</var>]:<var>hostport</var>-[<var>guestaddr</var>]:<var>guestport</var></samp></dt>
<dd><p>Redirect incoming TCP or UDP connections to the host port <var>hostport</var> to
the guest IP address <var>guestaddr</var> on guest port <var>guestport</var>. If
<var>guestaddr</var> is not specified, its value is x.x.x.15 (default first address
given by the built-in DHCP server). By specifying <var>hostaddr</var>, the rule can
be bound to a specific host interface. If no connection type is set, TCP is
used. This option can be given multiple times.
</p>
<p>For example, to redirect host X11 connection from screen 1 to guest
screen 0, use the following:
</p>
<div class="example">
<pre class="example"># on the host
qemu-system-i386 -net user,hostfwd=tcp:127.0.0.1:6001-:6000 [...]
# this host xterm should open in the guest X11 server
xterm -display :1
</pre></div>

<p>To redirect telnet connections from host port 5555 to telnet port on
the guest, use the following:
</p>
<div class="example">
<pre class="example"># on the host
qemu-system-i386 -net user,hostfwd=tcp::5555-:23 [...]
telnet localhost 5555
</pre></div>

<p>Then when you use on the host <code>telnet localhost 5555</code>, you
connect to the guest telnet server.
</p>
</dd>
<dt><samp>guestfwd=[tcp]:<var>server</var>:<var>port</var>-<var>dev</var></samp></dt>
<dt><samp>guestfwd=[tcp]:<var>server</var>:<var>port</var>-<var>cmd:command</var></samp></dt>
<dd><p>Forward guest TCP connections to the IP address <var>server</var> on port <var>port</var>
to the character device <var>dev</var> or to a program executed by <var>cmd:command</var>
which gets spawned for each connection. This option can be given multiple times.
</p>
<p>You can either use a chardev directly and have that one used throughout QEMU&rsquo;s
lifetime, like in the following example:
</p>
<div class="example">
<pre class="example"># open 10.10.1.1:4321 on bootup, connect 10.0.2.100:1234 to it whenever
# the guest accesses it
qemu -net user,guestfwd=tcp:10.0.2.100:1234-tcp:10.10.1.1:4321 [...]
</pre></div>

<p>Or you can execute a command on every TCP connection established by the guest,
so that QEMU behaves similar to an inetd process for that virtual server:
</p>
<div class="example">
<pre class="example"># call &quot;netcat 10.10.1.1 4321&quot; on every TCP connection to 10.0.2.100:1234
# and connect the TCP stream to its stdin/stdout
qemu -net 'user,guestfwd=tcp:10.0.2.100:1234-cmd:netcat 10.10.1.1 4321'
</pre></div>

</dd>
</dl>

<p>Note: Legacy stand-alone options -tftp, -bootp, -smb and -redir are still
processed and applied to -net user. Mixing them with the new configuration
syntax gives undefined results. Their use for new applications is discouraged
as they will be removed from future versions.
</p>
</dd>
<dt><samp>-netdev tap,id=<var>id</var>[,fd=<var>h</var>][,ifname=<var>name</var>][,script=<var>file</var>][,downscript=<var>dfile</var>][,helper=<var>helper</var>]</samp></dt>
<dt><samp>-net tap[,vlan=<var>n</var>][,name=<var>name</var>][,fd=<var>h</var>][,ifname=<var>name</var>][,script=<var>file</var>][,downscript=<var>dfile</var>][,helper=<var>helper</var>]</samp></dt>
<dd><p>Connect the host TAP network interface <var>name</var> to VLAN <var>n</var>.
</p>
<p>Use the network script <var>file</var> to configure it and the network script
<var>dfile</var> to deconfigure it. If <var>name</var> is not provided, the OS
automatically provides one. The default network configure script is
<samp>/etc/qemu-ifup</samp> and the default network deconfigure script is
<samp>/etc/qemu-ifdown</samp>. Use <samp>script=no</samp> or <samp>downscript=no</samp>
to disable script execution.
</p>
<p>If running QEMU as an unprivileged user, use the network helper
<var>helper</var> to configure the TAP interface. The default network
helper executable is <samp>/path/to/qemu-bridge-helper</samp>.
</p>
<p><samp>fd</samp>=<var>h</var> can be used to specify the handle of an already
opened host TAP interface.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">#launch a QEMU instance with the default network script
qemu-system-i386 linux.img -net nic -net tap
</pre></div>

<div class="example">
<pre class="example">#launch a QEMU instance with two NICs, each one connected
#to a TAP device
qemu-system-i386 linux.img \
-net nic,vlan=0 -net tap,vlan=0,ifname=tap0 \
-net nic,vlan=1 -net tap,vlan=1,ifname=tap1
</pre></div>

<div class="example">
<pre class="example">#launch a QEMU instance with the default network helper to
#connect a TAP device to bridge br0
qemu-system-i386 linux.img \
-net nic -net tap,&quot;helper=/path/to/qemu-bridge-helper&quot;
</pre></div>

</dd>
<dt><samp>-netdev bridge,id=<var>id</var>[,br=<var>bridge</var>][,helper=<var>helper</var>]</samp></dt>
<dt><samp>-net bridge[,vlan=<var>n</var>][,name=<var>name</var>][,br=<var>bridge</var>][,helper=<var>helper</var>]</samp></dt>
<dd><p>Connect a host TAP network interface to a host bridge device.
</p>
<p>Use the network helper <var>helper</var> to configure the TAP interface and
attach it to the bridge. The default network helper executable is
<samp>/path/to/qemu-bridge-helper</samp> and the default bridge
device is <samp>br0</samp>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">#launch a QEMU instance with the default network helper to
#connect a TAP device to bridge br0
qemu-system-i386 linux.img -net bridge -net nic,model=virtio
</pre></div>

<div class="example">
<pre class="example">#launch a QEMU instance with the default network helper to
#connect a TAP device to bridge qemubr0
qemu-system-i386 linux.img -net bridge,br=qemubr0 -net nic,model=virtio
</pre></div>

</dd>
<dt><samp>-netdev socket,id=<var>id</var>[,fd=<var>h</var>][,listen=[<var>host</var>]:<var>port</var>][,connect=<var>host</var>:<var>port</var>]</samp></dt>
<dt><samp>-net socket[,vlan=<var>n</var>][,name=<var>name</var>][,fd=<var>h</var>] [,listen=[<var>host</var>]:<var>port</var>][,connect=<var>host</var>:<var>port</var>]</samp></dt>
<dd>
<p>Connect the VLAN <var>n</var> to a remote VLAN in another QEMU virtual
machine using a TCP socket connection. If <samp>listen</samp> is
specified, QEMU waits for incoming connections on <var>port</var>
(<var>host</var> is optional). <samp>connect</samp> is used to connect to
another QEMU instance using the <samp>listen</samp> option. <samp>fd</samp>=<var>h</var>
specifies an already opened TCP socket.
</p>
<p>Example:
</p><div class="example">
<pre class="example"># launch a first QEMU instance
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:56 \
-net socket,listen=:1234
# connect the VLAN 0 of this instance to the VLAN 0
# of the first instance
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:57 \
-net socket,connect=127.0.0.1:1234
</pre></div>

</dd>
<dt><samp>-netdev socket,id=<var>id</var>[,fd=<var>h</var>][,mcast=<var>maddr</var>:<var>port</var>[,localaddr=<var>addr</var>]]</samp></dt>
<dt><samp>-net socket[,vlan=<var>n</var>][,name=<var>name</var>][,fd=<var>h</var>][,mcast=<var>maddr</var>:<var>port</var>[,localaddr=<var>addr</var>]]</samp></dt>
<dd>
<p>Create a VLAN <var>n</var> shared with another QEMU virtual
machines using a UDP multicast socket, effectively making a bus for
every QEMU with same multicast address <var>maddr</var> and <var>port</var>.
NOTES:
</p><ol>
<li> Several QEMU can be running on different hosts and share same bus (assuming
correct multicast setup for these hosts).
</li><li> mcast support is compatible with User Mode Linux (argument <samp>eth<var>N</var>=mcast</samp>), see
<a href="http://user-mode-linux.sf.net">http://user-mode-linux.sf.net</a>.
</li><li> Use <samp>fd=h</samp> to specify an already opened UDP multicast socket.
</li></ol>

<p>Example:
</p><div class="example">
<pre class="example"># launch one QEMU instance
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:56 \
-net socket,mcast=230.0.0.1:1234
# launch another QEMU instance on same &quot;bus&quot;
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:57 \
-net socket,mcast=230.0.0.1:1234
# launch yet another QEMU instance on same &quot;bus&quot;
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:58 \
-net socket,mcast=230.0.0.1:1234
</pre></div>

<p>Example (User Mode Linux compat.):
</p><div class="example">
<pre class="example"># launch QEMU instance (note mcast address selected
# is UML's default)
qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:56 \
-net socket,mcast=239.192.168.1:1102
# launch UML
/path/to/linux ubd0=/path/to/root_fs eth0=mcast
</pre></div>

<p>Example (send packets from host&rsquo;s 1.2.3.4):
</p><div class="example">
<pre class="example">qemu-system-i386 linux.img \
-net nic,macaddr=52:54:00:12:34:56 \
-net socket,mcast=239.192.168.1:1102,localaddr=1.2.3.4
</pre></div>

</dd>
<dt><samp>-netdev l2tpv3,id=<var>id</var>,src=<var>srcaddr</var>,dst=<var>dstaddr</var>[,srcport=<var>srcport</var>][,dstport=<var>dstport</var>],txsession=<var>txsession</var>[,rxsession=<var>rxsession</var>][,ipv6][,udp][,cookie64][,counter][,pincounter][,txcookie=<var>txcookie</var>][,rxcookie=<var>rxcookie</var>][,offset=<var>offset</var>]</samp></dt>
<dt><samp>-net l2tpv3[,vlan=<var>n</var>][,name=<var>name</var>],src=<var>srcaddr</var>,dst=<var>dstaddr</var>[,srcport=<var>srcport</var>][,dstport=<var>dstport</var>],txsession=<var>txsession</var>[,rxsession=<var>rxsession</var>][,ipv6][,udp][,cookie64][,counter][,pincounter][,txcookie=<var>txcookie</var>][,rxcookie=<var>rxcookie</var>][,offset=<var>offset</var>]</samp></dt>
<dd><p>Connect VLAN <var>n</var> to L2TPv3 pseudowire. L2TPv3 (RFC3391) is a popular
protocol to transport Ethernet (and other Layer 2) data frames between
two systems. It is present in routers, firewalls and the Linux kernel
(from version 3.3 onwards).
</p>
<p>This transport allows a VM to communicate to another VM, router or firewall directly.
</p>
</dd>
<dt><samp>src=<var>srcaddr</var></samp></dt>
<dd><p>source address (mandatory)
</p></dd>
<dt><samp>dst=<var>dstaddr</var></samp></dt>
<dd><p>destination address (mandatory)
</p></dd>
<dt><samp>udp</samp></dt>
<dd><p>select udp encapsulation (default is ip).
</p></dd>
<dt><samp>srcport=<var>srcport</var></samp></dt>
<dd><p>source udp port.
</p></dd>
<dt><samp>dstport=<var>dstport</var></samp></dt>
<dd><p>destination udp port.
</p></dd>
<dt><samp>ipv6</samp></dt>
<dd><p>force v6, otherwise defaults to v4.
</p></dd>
<dt><samp>rxcookie=<var>rxcookie</var></samp></dt>
<dt><samp>txcookie=<var>txcookie</var></samp></dt>
<dd><p>Cookies are a weak form of security in the l2tpv3 specification.
Their function is mostly to prevent misconfiguration. By default they are 32
bit.
</p></dd>
<dt><samp>cookie64</samp></dt>
<dd><p>Set cookie size to 64 bit instead of the default 32
</p></dd>
<dt><samp>counter=off</samp></dt>
<dd><p>Force a &rsquo;cut-down&rsquo; L2TPv3 with no counter as in
draft-mkonstan-l2tpext-keyed-ipv6-tunnel-00
</p></dd>
<dt><samp>pincounter=on</samp></dt>
<dd><p>Work around broken counter handling in peer. This may also help on
networks which have packet reorder.
</p></dd>
<dt><samp>offset=<var>offset</var></samp></dt>
<dd><p>Add an extra offset between header and data
</p>
<p>For example, to attach a VM running on host 4.3.2.1 via L2TPv3 to the bridge br-lan
on the remote Linux host 1.2.3.4:
</p><div class="example">
<pre class="example"># Setup tunnel on linux host using raw ip as encapsulation
# on 1.2.3.4
ip l2tp add tunnel remote 4.3.2.1 local 1.2.3.4 tunnel_id 1 peer_tunnel_id 1 \
encap udp udp_sport 16384 udp_dport 16384
ip l2tp add session tunnel_id 1 name vmtunnel0 session_id \
0xFFFFFFFF peer_session_id 0xFFFFFFFF
ifconfig vmtunnel0 mtu 1500
ifconfig vmtunnel0 up
brctl addif br-lan vmtunnel0


# on 4.3.2.1
# launch QEMU instance - if your network has reorder or is very lossy add ,pincounter

qemu-system-i386 linux.img -net nic -net l2tpv3,src=4.2.3.1,dst=1.2.3.4,udp,srcport=16384,dstport=16384,rxsession=0xffffffff,txsession=0xffffffff,counter


</pre></div>

</dd>
<dt><samp>-netdev vde,id=<var>id</var>[,sock=<var>socketpath</var>][,port=<var>n</var>][,group=<var>groupname</var>][,mode=<var>octalmode</var>]</samp></dt>
<dt><samp>-net vde[,vlan=<var>n</var>][,name=<var>name</var>][,sock=<var>socketpath</var>] [,port=<var>n</var>][,group=<var>groupname</var>][,mode=<var>octalmode</var>]</samp></dt>
<dd><p>Connect VLAN <var>n</var> to PORT <var>n</var> of a vde switch running on host and
listening for incoming connections on <var>socketpath</var>. Use GROUP <var>groupname</var>
and MODE <var>octalmode</var> to change default ownership and permissions for
communication port. This option is only available if QEMU has been compiled
with vde support enabled.
</p>
<p>Example:
</p><div class="example">
<pre class="example"># launch vde switch
vde_switch -F -sock /tmp/myswitch
# launch QEMU instance
qemu-system-i386 linux.img -net nic -net vde,sock=/tmp/myswitch
</pre></div>

</dd>
<dt><samp>-netdev hubport,id=<var>id</var>,hubid=<var>hubid</var></samp></dt>
<dd>
<p>Create a hub port on QEMU &quot;vlan&quot; <var>hubid</var>.
</p>
<p>The hubport netdev lets you connect a NIC to a QEMU &quot;vlan&quot; instead of a single
netdev.  <code>-net</code> and <code>-device</code> with parameter <samp>vlan</samp> create the
required hub automatically.
</p>
</dd>
<dt><samp>-netdev vhost-user,chardev=<var>id</var>[,vhostforce=on|off][,queues=n]</samp></dt>
<dd>
<p>Establish a vhost-user netdev, backed by a chardev <var>id</var>. The chardev should
be a unix domain socket backed one. The vhost-user uses a specifically defined
protocol to pass vhost ioctl replacement messages to an application on the other
end of the socket. On non-MSIX guests, the feature can be forced with
<var>vhostforce</var>. Use &rsquo;queues=<var>n</var>&rsquo; to specify the number of queues to
be created for multiqueue vhost-user.
</p>
<p>Example:
</p><div class="example">
<pre class="example">qemu -m 512 -object memory-backend-file,id=mem,size=512M,mem-path=/hugetlbfs,share=on \
-numa node,memdev=mem \
-chardev socket,path=/path/to/socket \
-netdev type=vhost-user,id=net0,chardev=chr0 \
-device virtio-net-pci,netdev=net0
</pre></div>

</dd>
<dt><samp>-net dump[,vlan=<var>n</var>][,file=<var>file</var>][,len=<var>len</var>]</samp></dt>
<dd><p>Dump network traffic on VLAN <var>n</var> to file <var>file</var> (<samp>qemu-vlan0.pcap</samp> by default).
At most <var>len</var> bytes (64k by default) per packet are stored. The file format is
libpcap, so it can be analyzed with tools such as tcpdump or Wireshark.
Note: For devices created with &rsquo;-netdev&rsquo;, use &rsquo;-object filter-dump,...&rsquo; instead.
</p>
</dd>
<dt><samp>-net none</samp></dt>
<dd><p>Indicate that no network devices should be configured. It is used to
override the default configuration (<samp>-net nic -net user</samp>) which
is activated if no <samp>-net</samp> options are provided.
</p></dd>
</dl>

<p>Character device options:
</p>
<p>The general form of a character device option is:
</p><dl compact="compact">
<dt><samp>-chardev <var>backend</var> ,id=<var>id</var> [,mux=on|off] [,<var>options</var>]</samp></dt>
<dd><a name="index-_002dchardev"></a>
<p>Backend is one of:
<samp>null</samp>,
<samp>socket</samp>,
<samp>udp</samp>,
<samp>msmouse</samp>,
<samp>vc</samp>,
<samp>ringbuf</samp>,
<samp>file</samp>,
<samp>pipe</samp>,
<samp>console</samp>,
<samp>serial</samp>,
<samp>pty</samp>,
<samp>stdio</samp>,
<samp>braille</samp>,
<samp>tty</samp>,
<samp>parallel</samp>,
<samp>parport</samp>,
<samp>spicevmc</samp>.
<samp>spiceport</samp>.
The specific backend will determine the applicable options.
</p>
<p>All devices must have an id, which can be any string up to 127 characters long.
It is used to uniquely identify this device in other command line directives.
</p>
<p>A character device may be used in multiplexing mode by multiple front-ends.
Specify <samp>mux=on</samp> to enable this mode.
A multiplexer is a &quot;1:N&quot; device, and here the &quot;1&quot; end is your specified chardev
backend, and the &quot;N&quot; end is the various parts of QEMU that can talk to a chardev.
If you create a chardev with <samp>id=myid</samp> and <samp>mux=on</samp>, QEMU will
create a multiplexer with your specified ID, and you can then configure multiple
front ends to use that chardev ID for their input/output. Up to four different
front ends can be connected to a single multiplexed chardev. (Without
multiplexing enabled, a chardev can only be used by a single front end.)
For instance you could use this to allow a single stdio chardev to be used by
two serial ports and the QEMU monitor:
</p>
<div class="example">
<pre class="example">-chardev stdio,mux=on,id=char0 \
-mon chardev=char0,mode=readline,default \
-serial chardev:char0 \
-serial chardev:char0
</pre></div>

<p>You can have more than one multiplexer in a system configuration; for instance
you could have a TCP port multiplexed between UART 0 and UART 1, and stdio
multiplexed between the QEMU monitor and a parallel port:
</p>
<div class="example">
<pre class="example">-chardev stdio,mux=on,id=char0 \
-mon chardev=char0,mode=readline,default \
-parallel chardev:char0 \
-chardev tcp,...,mux=on,id=char1 \
-serial chardev:char1 \
-serial chardev:char1
</pre></div>

<p>When you&rsquo;re using a multiplexed character device, some escape sequences are
interpreted in the input. See <a href="#mux_005fkeys">Keys in the character backend
multiplexer</a>.
</p>
<p>Note that some other command line options may implicitly create multiplexed
character backends; for instance <samp>-serial mon:stdio</samp> creates a
multiplexed stdio backend connected to the serial port and the QEMU monitor,
and <samp>-nographic</samp> also multiplexes the console and the monitor to
stdio.
</p>
<p>There is currently no support for multiplexing in the other direction
(where a single QEMU front end takes input and output from multiple chardevs).
</p>
<p>Every backend supports the <samp>logfile</samp> option, which supplies the path
to a file to record all data transmitted via the backend. The <samp>logappend</samp>
option controls whether the log file will be truncated or appended to when
opened.
</p>
<p>Further options to each backend are described below.
</p>
</dd>
<dt><samp>-chardev null ,id=<var>id</var></samp></dt>
<dd><p>A void device. This device will not emit any data, and will drop any data it
receives. The null backend does not take any options.
</p>
</dd>
<dt><samp>-chardev socket ,id=<var>id</var> [<var>TCP options</var> or <var>unix options</var>] [,server] [,nowait] [,telnet] [,reconnect=<var>seconds</var>] [,tls-creds=<var>id</var>]</samp></dt>
<dd>
<p>Create a two-way stream socket, which can be either a TCP or a unix socket. A
unix socket will be created if <samp>path</samp> is specified. Behaviour is
undefined if TCP options are specified for a unix socket.
</p>
<p><samp>server</samp> specifies that the socket shall be a listening socket.
</p>
<p><samp>nowait</samp> specifies that QEMU should not block waiting for a client to
connect to a listening socket.
</p>
<p><samp>telnet</samp> specifies that traffic on the socket should interpret telnet
escape sequences.
</p>
<p><samp>reconnect</samp> sets the timeout for reconnecting on non-server sockets when
the remote end goes away.  qemu will delay this many seconds and then attempt
to reconnect.  Zero disables reconnecting, and is the default.
</p>
<p><samp>tls-creds</samp> requests enablement of the TLS protocol for encryption,
and specifies the id of the TLS credentials to use for the handshake. The
credentials must be previously created with the <samp>-object tls-creds</samp>
argument.
</p>
<p>TCP and unix socket options are given below:
</p>
<dl compact="compact">
<dt><samp>TCP options: port=<var>port</var> [,host=<var>host</var>] [,to=<var>to</var>] [,ipv4] [,ipv6] [,nodelay]</samp></dt>
<dd>
<p><samp>host</samp> for a listening socket specifies the local address to be bound.
For a connecting socket species the remote host to connect to. <samp>host</samp> is
optional for listening sockets. If not specified it defaults to <code>0.0.0.0</code>.
</p>
<p><samp>port</samp> for a listening socket specifies the local port to be bound. For a
connecting socket specifies the port on the remote host to connect to.
<samp>port</samp> can be given as either a port number or a service name.
<samp>port</samp> is required.
</p>
<p><samp>to</samp> is only relevant to listening sockets. If it is specified, and
<samp>port</samp> cannot be bound, QEMU will attempt to bind to subsequent ports up
to and including <samp>to</samp> until it succeeds. <samp>to</samp> must be specified
as a port number.
</p>
<p><samp>ipv4</samp> and <samp>ipv6</samp> specify that either IPv4 or IPv6 must be used.
If neither is specified the socket may use either protocol.
</p>
<p><samp>nodelay</samp> disables the Nagle algorithm.
</p>
</dd>
<dt><samp>unix options: path=<var>path</var></samp></dt>
<dd>
<p><samp>path</samp> specifies the local path of the unix socket. <samp>path</samp> is
required.
</p>
</dd>
</dl>

</dd>
<dt><samp>-chardev udp ,id=<var>id</var> [,host=<var>host</var>] ,port=<var>port</var> [,localaddr=<var>localaddr</var>] [,localport=<var>localport</var>] [,ipv4] [,ipv6]</samp></dt>
<dd>
<p>Sends all traffic from the guest to a remote host over UDP.
</p>
<p><samp>host</samp> specifies the remote host to connect to. If not specified it
defaults to <code>localhost</code>.
</p>
<p><samp>port</samp> specifies the port on the remote host to connect to. <samp>port</samp>
is required.
</p>
<p><samp>localaddr</samp> specifies the local address to bind to. If not specified it
defaults to <code>0.0.0.0</code>.
</p>
<p><samp>localport</samp> specifies the local port to bind to. If not specified any
available local port will be used.
</p>
<p><samp>ipv4</samp> and <samp>ipv6</samp> specify that either IPv4 or IPv6 must be used.
If neither is specified the device may use either protocol.
</p>
</dd>
<dt><samp>-chardev msmouse ,id=<var>id</var></samp></dt>
<dd>
<p>Forward QEMU&rsquo;s emulated msmouse events to the guest. <samp>msmouse</samp> does not
take any options.
</p>
</dd>
<dt><samp>-chardev vc ,id=<var>id</var> [[,width=<var>width</var>] [,height=<var>height</var>]] [[,cols=<var>cols</var>] [,rows=<var>rows</var>]]</samp></dt>
<dd>
<p>Connect to a QEMU text console. <samp>vc</samp> may optionally be given a specific
size.
</p>
<p><samp>width</samp> and <samp>height</samp> specify the width and height respectively of
the console, in pixels.
</p>
<p><samp>cols</samp> and <samp>rows</samp> specify that the console be sized to fit a text
console with the given dimensions.
</p>
</dd>
<dt><samp>-chardev ringbuf ,id=<var>id</var> [,size=<var>size</var>]</samp></dt>
<dd>
<p>Create a ring buffer with fixed size <samp>size</samp>.
<var>size</var> must be a power of two, and defaults to <code>64K</code>).
</p>
</dd>
<dt><samp>-chardev file ,id=<var>id</var> ,path=<var>path</var></samp></dt>
<dd>
<p>Log all traffic received from the guest to a file.
</p>
<p><samp>path</samp> specifies the path of the file to be opened. This file will be
created if it does not already exist, and overwritten if it does. <samp>path</samp>
is required.
</p>
</dd>
<dt><samp>-chardev pipe ,id=<var>id</var> ,path=<var>path</var></samp></dt>
<dd>
<p>Create a two-way connection to the guest. The behaviour differs slightly between
Windows hosts and other hosts:
</p>
<p>On Windows, a single duplex pipe will be created at
<samp>\.pipe\<samp>path</samp></samp>.
</p>
<p>On other hosts, 2 pipes will be created called <samp><samp>path</samp>.in</samp> and
<samp><samp>path</samp>.out</samp>. Data written to <samp><samp>path</samp>.in</samp> will be
received by the guest. Data written by the guest can be read from
<samp><samp>path</samp>.out</samp>. QEMU will not create these fifos, and requires them to
be present.
</p>
<p><samp>path</samp> forms part of the pipe path as described above. <samp>path</samp> is
required.
</p>
</dd>
<dt><samp>-chardev console ,id=<var>id</var></samp></dt>
<dd>
<p>Send traffic from the guest to QEMU&rsquo;s standard output. <samp>console</samp> does not
take any options.
</p>
<p><samp>console</samp> is only available on Windows hosts.
</p>
</dd>
<dt><samp>-chardev serial ,id=<var>id</var> ,path=<samp>path</samp></samp></dt>
<dd>
<p>Send traffic from the guest to a serial device on the host.
</p>
<p>On Unix hosts serial will actually accept any tty device,
not only serial lines.
</p>
<p><samp>path</samp> specifies the name of the serial device to open.
</p>
</dd>
<dt><samp>-chardev pty ,id=<var>id</var></samp></dt>
<dd>
<p>Create a new pseudo-terminal on the host and connect to it. <samp>pty</samp> does
not take any options.
</p>
<p><samp>pty</samp> is not available on Windows hosts.
</p>
</dd>
<dt><samp>-chardev stdio ,id=<var>id</var> [,signal=on|off]</samp></dt>
<dd><p>Connect to standard input and standard output of the QEMU process.
</p>
<p><samp>signal</samp> controls if signals are enabled on the terminal, that includes
exiting QEMU with the key sequence <tt class="key">Control-c</tt>. This option is enabled by
default, use <samp>signal=off</samp> to disable it.
</p>
<p><samp>stdio</samp> is not available on Windows hosts.
</p>
</dd>
<dt><samp>-chardev braille ,id=<var>id</var></samp></dt>
<dd>
<p>Connect to a local BrlAPI server. <samp>braille</samp> does not take any options.
</p>
</dd>
<dt><samp>-chardev tty ,id=<var>id</var> ,path=<var>path</var></samp></dt>
<dd>
<p><samp>tty</samp> is only available on Linux, Sun, FreeBSD, NetBSD, OpenBSD and
DragonFlyBSD hosts.  It is an alias for <samp>serial</samp>.
</p>
<p><samp>path</samp> specifies the path to the tty. <samp>path</samp> is required.
</p>
</dd>
<dt><samp>-chardev parallel ,id=<var>id</var> ,path=<var>path</var></samp></dt>
<dt><samp>-chardev parport ,id=<var>id</var> ,path=<var>path</var></samp></dt>
<dd>
<p><samp>parallel</samp> is only available on Linux, FreeBSD and DragonFlyBSD hosts.
</p>
<p>Connect to a local parallel port.
</p>
<p><samp>path</samp> specifies the path to the parallel port device. <samp>path</samp> is
required.
</p>
</dd>
<dt><samp>-chardev spicevmc ,id=<var>id</var> ,debug=<var>debug</var>, name=<var>name</var></samp></dt>
<dd>
<p><samp>spicevmc</samp> is only available when spice support is built in.
</p>
<p><samp>debug</samp> debug level for spicevmc
</p>
<p><samp>name</samp> name of spice channel to connect to
</p>
<p>Connect to a spice virtual machine channel, such as vdiport.
</p>
</dd>
<dt><samp>-chardev spiceport ,id=<var>id</var> ,debug=<var>debug</var>, name=<var>name</var></samp></dt>
<dd>
<p><samp>spiceport</samp> is only available when spice support is built in.
</p>
<p><samp>debug</samp> debug level for spicevmc
</p>
<p><samp>name</samp> name of spice port to connect to
</p>
<p>Connect to a spice port, allowing a Spice client to handle the traffic
identified by a name (preferably a fqdn).
</p></dd>
</dl>

<p>Device URL Syntax:
</p>
<p>In addition to using normal file images for the emulated storage devices,
QEMU can also use networked resources such as iSCSI devices. These are
specified using a special URL syntax.
</p>
<dl compact="compact">
<dt><samp>iSCSI</samp></dt>
<dd><p>iSCSI support allows QEMU to access iSCSI resources directly and use as
images for the guest storage. Both disk and cdrom images are supported.
</p>
<p>Syntax for specifying iSCSI LUNs is
&ldquo;iscsi://&lt;target-ip&gt;[:&lt;port&gt;]/&lt;target-iqn&gt;/&lt;lun&gt;&rdquo;
</p>
<p>By default qemu will use the iSCSI initiator-name
&rsquo;iqn.2008-11.org.linux-kvm[:&lt;name&gt;]&rsquo; but this can also be set from the command
line or a configuration file.
</p>
<p>Since version Qemu 2.4 it is possible to specify a iSCSI request timeout to detect
stalled requests and force a reestablishment of the session. The timeout
is specified in seconds. The default is 0 which means no timeout. Libiscsi
1.15.0 or greater is required for this feature.
</p>
<p>Example (without authentication):
</p><div class="example">
<pre class="example">qemu-system-i386 -iscsi initiator-name=iqn.2001-04.com.example:my-initiator \
-cdrom iscsi://192.0.2.1/iqn.2001-04.com.example/2 \
-drive file=iscsi://192.0.2.1/iqn.2001-04.com.example/1
</pre></div>

<p>Example (CHAP username/password via URL):
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=iscsi://user%password@192.0.2.1/iqn.2001-04.com.example/1
</pre></div>

<p>Example (CHAP username/password via environment variables):
</p><div class="example">
<pre class="example">LIBISCSI_CHAP_USERNAME=&quot;user&quot; \
LIBISCSI_CHAP_PASSWORD=&quot;password&quot; \
qemu-system-i386 -drive file=iscsi://192.0.2.1/iqn.2001-04.com.example/1
</pre></div>

<p>iSCSI support is an optional feature of QEMU and only available when
compiled and linked against libiscsi.
</p>
<p>iSCSI parameters such as username and password can also be specified via
a configuration file. See qemu-doc for more information and examples.
</p>
</dd>
<dt><samp>NBD</samp></dt>
<dd><p>QEMU supports NBD (Network Block Devices) both using TCP protocol as well
as Unix Domain Sockets.
</p>
<p>Syntax for specifying a NBD device using TCP
&ldquo;nbd:&lt;server-ip&gt;:&lt;port&gt;[:exportname=&lt;export&gt;]&rdquo;
</p>
<p>Syntax for specifying a NBD device using Unix Domain Sockets
&ldquo;nbd:unix:&lt;domain-socket&gt;[:exportname=&lt;export&gt;]&rdquo;
</p>

<p>Example for TCP
</p><div class="example">
<pre class="example">qemu-system-i386 --drive file=nbd:192.0.2.1:30000
</pre></div>

<p>Example for Unix Domain Sockets
</p><div class="example">
<pre class="example">qemu-system-i386 --drive file=nbd:unix:/tmp/nbd-socket
</pre></div>

</dd>
<dt><samp>SSH</samp></dt>
<dd><p>QEMU supports SSH (Secure Shell) access to remote disks.
</p>
<p>Examples:
</p><div class="example">
<pre class="example">qemu-system-i386 -drive file=ssh://user@host/path/to/disk.img
qemu-system-i386 -drive file.driver=ssh,file.user=user,file.host=host,file.port=22,file.path=/path/to/disk.img
</pre></div>

<p>Currently authentication must be done using ssh-agent.  Other
authentication methods may be supported in future.
</p>
</dd>
<dt><samp>Sheepdog</samp></dt>
<dd><p>Sheepdog is a distributed storage system for QEMU.
QEMU supports using either local sheepdog devices or remote networked
devices.
</p>
<p>Syntax for specifying a sheepdog device
</p><div class="example">
<pre class="example">sheepdog[+tcp|+unix]://[host:port]/vdiname[?socket=path][#snapid|#tag]
</pre></div>

<p>Example
</p><div class="example">
<pre class="example">qemu-system-i386 --drive file=sheepdog://192.0.2.1:30000/MyVirtualMachine
</pre></div>

<p>See also <a href="http://http://www.osrg.net/sheepdog/">http://http://www.osrg.net/sheepdog/</a>.
</p>
</dd>
<dt><samp>GlusterFS</samp></dt>
<dd><p>GlusterFS is an user space distributed file system.
QEMU supports the use of GlusterFS volumes for hosting VM disk images using
TCP, Unix Domain Sockets and RDMA transport protocols.
</p>
<p>Syntax for specifying a VM disk image on GlusterFS volume is
</p><div class="example">
<pre class="example">gluster[+transport]://[server[:port]]/volname/image[?socket=...]
</pre></div>


<p>Example
</p><div class="example">
<pre class="example">qemu-system-x86_64 --drive file=gluster://192.0.2.1/testvol/a.img
</pre></div>

<p>See also <a href="http://www.gluster.org">http://www.gluster.org</a>.
</p>
</dd>
<dt><samp>HTTP/HTTPS/FTP/FTPS/TFTP</samp></dt>
<dd><p>QEMU supports read-only access to files accessed over http(s), ftp(s) and tftp.
</p>
<p>Syntax using a single filename:
</p><div class="example">
<pre class="example">&lt;protocol&gt;://[&lt;username&gt;[:&lt;password&gt;]@]&lt;host&gt;/&lt;path&gt;
</pre></div>

<p>where:
</p><dl compact="compact">
<dt><samp>protocol</samp></dt>
<dd><p>&rsquo;http&rsquo;, &rsquo;https&rsquo;, &rsquo;ftp&rsquo;, &rsquo;ftps&rsquo;, or &rsquo;tftp&rsquo;.
</p>
</dd>
<dt><samp>username</samp></dt>
<dd><p>Optional username for authentication to the remote server.
</p>
</dd>
<dt><samp>password</samp></dt>
<dd><p>Optional password for authentication to the remote server.
</p>
</dd>
<dt><samp>host</samp></dt>
<dd><p>Address of the remote server.
</p>
</dd>
<dt><samp>path</samp></dt>
<dd><p>Path on the remote server, including any query string.
</p></dd>
</dl>

<p>The following options are also supported:
</p><dl compact="compact">
<dt><samp>url</samp></dt>
<dd><p>The full URL when passing options to the driver explicitly.
</p>
</dd>
<dt><samp>readahead</samp></dt>
<dd><p>The amount of data to read ahead with each range request to the remote server.
This value may optionally have the suffix &rsquo;T&rsquo;, &rsquo;G&rsquo;, &rsquo;M&rsquo;, &rsquo;K&rsquo;, &rsquo;k&rsquo; or &rsquo;b&rsquo;. If it
does not have a suffix, it will be assumed to be in bytes. The value must be a
multiple of 512 bytes. It defaults to 256k.
</p>
</dd>
<dt><samp>sslverify</samp></dt>
<dd><p>Whether to verify the remote server&rsquo;s certificate when connecting over SSL. It
can have the value &rsquo;on&rsquo; or &rsquo;off&rsquo;. It defaults to &rsquo;on&rsquo;.
</p>
</dd>
<dt><samp>cookie</samp></dt>
<dd><p>Send this cookie (it can also be a list of cookies separated by &rsquo;;&rsquo;) with
each outgoing request.  Only supported when using protocols such as HTTP
which support cookies, otherwise ignored.
</p>
</dd>
<dt><samp>timeout</samp></dt>
<dd><p>Set the timeout in seconds of the CURL connection. This timeout is the time
that CURL waits for a response from the remote server to get the size of the
image to be downloaded. If not set, the default timeout of 5 seconds is used.
</p></dd>
</dl>

<p>Note that when passing options to qemu explicitly, <samp>driver</samp> is the value
of &lt;protocol&gt;.
</p>
<p>Example: boot from a remote Fedora 20 live ISO image
</p><div class="example">
<pre class="example">qemu-system-x86_64 --drive media=cdrom,file=http://dl.fedoraproject.org/pub/fedora/linux/releases/20/Live/x86_64/Fedora-Live-Desktop-x86_64-20-1.iso,readonly

qemu-system-x86_64 --drive media=cdrom,file.driver=http,file.url=http://dl.fedoraproject.org/pub/fedora/linux/releases/20/Live/x86_64/Fedora-Live-Desktop-x86_64-20-1.iso,readonly
</pre></div>

<p>Example: boot from a remote Fedora 20 cloud image using a local overlay for
writes, copy-on-read, and a readahead of 64k
</p><div class="example">
<pre class="example">qemu-img create -f qcow2 -o backing_file='json:{&quot;file.driver&quot;:&quot;http&quot;,, &quot;file.url&quot;:&quot;https://dl.fedoraproject.org/pub/fedora/linux/releases/20/Images/x86_64/Fedora-x86_64-20-20131211.1-sda.qcow2&quot;,, &quot;file.readahead&quot;:&quot;64k&quot;}' /tmp/Fedora-x86_64-20-20131211.1-sda.qcow2

qemu-system-x86_64 -drive file=/tmp/Fedora-x86_64-20-20131211.1-sda.qcow2,copy-on-read=on
</pre></div>

<p>Example: boot from an image stored on a VMware vSphere server with a self-signed
certificate using a local overlay for writes, a readahead of 64k and a timeout
of 10 seconds.
</p><div class="example">
<pre class="example">qemu-img create -f qcow2 -o backing_file='json:{&quot;file.driver&quot;:&quot;https&quot;,, &quot;file.url&quot;:&quot;https://user:password@vsphere.example.com/folder/test/test-flat.vmdk?dcPath=Datacenter&amp;dsName=datastore1&quot;,, &quot;file.sslverify&quot;:&quot;off&quot;,, &quot;file.readahead&quot;:&quot;64k&quot;,, &quot;file.timeout&quot;:10}' /tmp/test.qcow2

qemu-system-x86_64 -drive file=/tmp/test.qcow2
</pre></div>
</dd>
</dl>
<p>Bluetooth(R) options:
</p><dl compact="compact">
<dt><samp>-bt hci[...]</samp></dt>
<dd><a name="index-_002dbt"></a>
<p>Defines the function of the corresponding Bluetooth HCI.  -bt options
are matched with the HCIs present in the chosen machine type.  For
example when emulating a machine with only one HCI built into it, only
the first <code>-bt hci[...]</code> option is valid and defines the HCI&rsquo;s
logic.  The Transport Layer is decided by the machine type.  Currently
the machines <code>n800</code> and <code>n810</code> have one HCI and all other
machines have none.
</p>
<a name="bt_002dhcis"></a><p>The following three types are recognized:
</p>
<dl compact="compact">
<dt><samp>-bt hci,null</samp></dt>
<dd><p>(default) The corresponding Bluetooth HCI assumes no internal logic
and will not respond to any HCI commands or emit events.
</p>
</dd>
<dt><samp>-bt hci,host[:<var>id</var>]</samp></dt>
<dd><p>(<code>bluez</code> only) The corresponding HCI passes commands / events
to / from the physical HCI identified by the name <var>id</var> (default:
<code>hci0</code>) on the computer running QEMU.  Only available on <code>bluez</code>
capable systems like Linux.
</p>
</dd>
<dt><samp>-bt hci[,vlan=<var>n</var>]</samp></dt>
<dd><p>Add a virtual, standard HCI that will participate in the Bluetooth
scatternet <var>n</var> (default <code>0</code>).  Similarly to <samp>-net</samp>
VLANs, devices inside a bluetooth network <var>n</var> can only communicate
with other devices in the same network (scatternet).
</p></dd>
</dl>

</dd>
<dt><samp>-bt vhci[,vlan=<var>n</var>]</samp></dt>
<dd><p>(Linux-host only) Create a HCI in scatternet <var>n</var> (default 0) attached
to the host bluetooth stack instead of to the emulated target.  This
allows the host and target machines to participate in a common scatternet
and communicate.  Requires the Linux <code>vhci</code> driver installed.  Can
be used as following:
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -bt hci,vlan=5 -bt vhci,vlan=5
</pre></div>

</dd>
<dt><samp>-bt device:<var>dev</var>[,vlan=<var>n</var>]</samp></dt>
<dd><p>Emulate a bluetooth device <var>dev</var> and place it in network <var>n</var>
(default <code>0</code>).  QEMU can only emulate one type of bluetooth devices
currently:
</p>
<dl compact="compact">
<dt><samp>keyboard</samp></dt>
<dd><p>Virtual wireless keyboard implementing the HIDP bluetooth profile.
</p></dd>
</dl>
</dd>
</dl>

<p>TPM device options:
</p>
<p>The general form of a TPM device option is:
</p><dl compact="compact">
<dt><samp>-tpmdev <var>backend</var> ,id=<var>id</var> [,<var>options</var>]</samp></dt>
<dd><a name="index-_002dtpmdev"></a>
<p>Backend type must be:
<samp>passthrough</samp>.
</p>
<p>The specific backend type will determine the applicable options.
The <code>-tpmdev</code> option creates the TPM backend and requires a
<code>-device</code> option that specifies the TPM frontend interface model.
</p>
<p>Options to each backend are described below.
</p>
<p>Use &rsquo;help&rsquo; to print all available TPM backend types.
</p><div class="example">
<pre class="example">qemu -tpmdev help
</pre></div>

</dd>
<dt><samp>-tpmdev passthrough, id=<var>id</var>, path=<var>path</var>, cancel-path=<var>cancel-path</var></samp></dt>
<dd>
<p>(Linux-host only) Enable access to the host&rsquo;s TPM using the passthrough
driver.
</p>
<p><samp>path</samp> specifies the path to the host&rsquo;s TPM device, i.e., on
a Linux host this would be <code>/dev/tpm0</code>.
<samp>path</samp> is optional and by default <code>/dev/tpm0</code> is used.
</p>
<p><samp>cancel-path</samp> specifies the path to the host TPM device&rsquo;s sysfs
entry allowing for cancellation of an ongoing TPM command.
<samp>cancel-path</samp> is optional and by default QEMU will search for the
sysfs entry to use.
</p>
<p>Some notes about using the host&rsquo;s TPM with the passthrough driver:
</p>
<p>The TPM device accessed by the passthrough driver must not be
used by any other application on the host.
</p>
<p>Since the host&rsquo;s firmware (BIOS/UEFI) has already initialized the TPM,
the VM&rsquo;s firmware (BIOS/UEFI) will not be able to initialize the
TPM again and may therefore not show a TPM-specific menu that would
otherwise allow the user to configure the TPM, e.g., allow the user to
enable/disable or activate/deactivate the TPM.
Further, if TPM ownership is released from within a VM then the host&rsquo;s TPM
will get disabled and deactivated. To enable and activate the
TPM again afterwards, the host has to be rebooted and the user is
required to enter the firmware&rsquo;s menu to enable and activate the TPM.
If the TPM is left disabled and/or deactivated most TPM commands will fail.
</p>
<p>To create a passthrough TPM use the following two options:
</p><div class="example">
<pre class="example">-tpmdev passthrough,id=tpm0 -device tpm-tis,tpmdev=tpm0
</pre></div>
<p>Note that the <code>-tpmdev</code> id is <code>tpm0</code> and is referenced by
<code>tpmdev=tpm0</code> in the device option.
</p>
</dd>
</dl>


<p>Linux/Multiboot boot specific:
</p>
<p>When using these options, you can use a given Linux or Multiboot
kernel without installing it in the disk image. It can be useful
for easier testing of various kernels.
</p>
<dl compact="compact">
<dt><samp>-kernel <var>bzImage</var></samp></dt>
<dd><a name="index-_002dkernel"></a>
<p>Use <var>bzImage</var> as kernel image. The kernel can be either a Linux kernel
or in multiboot format.
</p></dd>
<dt><samp>-append <var>cmdline</var></samp></dt>
<dd><a name="index-_002dappend"></a>
<p>Use <var>cmdline</var> as kernel command line
</p></dd>
<dt><samp>-initrd <var>file</var></samp></dt>
<dd><a name="index-_002dinitrd"></a>
<p>Use <var>file</var> as initial ram disk.
</p>
</dd>
<dt><samp>-initrd &quot;<var>file1</var> arg=foo,<var>file2</var>&quot;</samp></dt>
<dd>
<p>This syntax is only available with multiboot.
</p>
<p>Use <var>file1</var> and <var>file2</var> as modules and pass arg=foo as parameter to the
first module.
</p></dd>
<dt><samp>-dtb <var>file</var></samp></dt>
<dd><a name="index-_002ddtb"></a>
<p>Use <var>file</var> as a device tree binary (dtb) image and pass it to the kernel
on boot.
</p></dd>
</dl>

<p>Debug/Expert options:
</p><dl compact="compact">
<dt><samp>-fw_cfg [name=]<var>name</var>,file=<var>file</var></samp></dt>
<dd><a name="index-_002dfw_005fcfg"></a>
<p>Add named fw_cfg entry with contents from file <var>file</var>.
</p>
</dd>
<dt><samp>-fw_cfg [name=]<var>name</var>,string=<var>str</var></samp></dt>
<dd><p>Add named fw_cfg entry with contents from string <var>str</var>.
</p>
<p>The terminating NUL character of the contents of <var>str</var> will not be
included as part of the fw_cfg item data. To insert contents with
embedded NUL characters, you have to use the <var>file</var> parameter.
</p>
<p>The fw_cfg entries are passed by QEMU through to the guest.
</p>
<p>Example:
</p><div class="example">
<pre class="example">-fw_cfg name=opt/com.mycompany/blob,file=./my_blob.bin
</pre></div>
<p>creates an fw_cfg entry named opt/com.mycompany/blob with contents
from ./my_blob.bin.
</p>
</dd>
<dt><samp>-serial <var>dev</var></samp></dt>
<dd><a name="index-_002dserial"></a>
<p>Redirect the virtual serial port to host character device
<var>dev</var>. The default device is <code>vc</code> in graphical mode and
<code>stdio</code> in non graphical mode.
</p>
<p>This option can be used several times to simulate up to 4 serial
ports.
</p>
<p>Use <code>-serial none</code> to disable all serial ports.
</p>
<p>Available character devices are:
</p><dl compact="compact">
<dt><samp>vc[:<var>W</var>x<var>H</var>]</samp></dt>
<dd><p>Virtual console. Optionally, a width and height can be given in pixel with
</p><div class="example">
<pre class="example">vc:800x600
</pre></div>
<p>It is also possible to specify width or height in characters:
</p><div class="example">
<pre class="example">vc:80Cx24C
</pre></div>
</dd>
<dt><samp>pty</samp></dt>
<dd><p>[Linux only] Pseudo TTY (a new PTY is automatically allocated)
</p></dd>
<dt><samp>none</samp></dt>
<dd><p>No device is allocated.
</p></dd>
<dt><samp>null</samp></dt>
<dd><p>void device
</p></dd>
<dt><samp>chardev:<var>id</var></samp></dt>
<dd><p>Use a named character device defined with the <code>-chardev</code> option.
</p></dd>
<dt><samp>/dev/XXX</samp></dt>
<dd><p>[Linux only] Use host tty, e.g. <samp>/dev/ttyS0</samp>. The host serial port
parameters are set according to the emulated ones.
</p></dd>
<dt><samp>/dev/parport<var>N</var></samp></dt>
<dd><p>[Linux only, parallel port only] Use host parallel port
<var>N</var>. Currently SPP and EPP parallel port features can be used.
</p></dd>
<dt><samp>file:<var>filename</var></samp></dt>
<dd><p>Write output to <var>filename</var>. No character can be read.
</p></dd>
<dt><samp>stdio</samp></dt>
<dd><p>[Unix only] standard input/output
</p></dd>
<dt><samp>pipe:<var>filename</var></samp></dt>
<dd><p>name pipe <var>filename</var>
</p></dd>
<dt><samp>COM<var>n</var></samp></dt>
<dd><p>[Windows only] Use host serial port <var>n</var>
</p></dd>
<dt><samp>udp:[<var>remote_host</var>]:<var>remote_port</var>[@[<var>src_ip</var>]:<var>src_port</var>]</samp></dt>
<dd><p>This implements UDP Net Console.
When <var>remote_host</var> or <var>src_ip</var> are not specified
they default to <code>0.0.0.0</code>.
When not using a specified <var>src_port</var> a random port is automatically chosen.
</p>
<p>If you just want a simple readonly console you can use <code>netcat</code> or
<code>nc</code>, by starting QEMU with: <code>-serial udp::4555</code> and nc as:
<code>nc -u -l -p 4555</code>. Any time QEMU writes something to that port it
will appear in the netconsole session.
</p>
<p>If you plan to send characters back via netconsole or you want to stop
and start QEMU a lot of times, you should have QEMU use the same
source port each time by using something like <code>-serial
udp::4555@:4556</code> to QEMU. Another approach is to use a patched
version of netcat which can listen to a TCP port and send and receive
characters via udp.  If you have a patched version of netcat which
activates telnet remote echo and single char transfer, then you can
use the following options to step up a netcat redirector to allow
telnet on port 5555 to access the QEMU port.
</p><dl compact="compact">
<dt><code>QEMU Options:</code></dt>
<dd><p>-serial udp::4555@:4556
</p></dd>
<dt><code>netcat options:</code></dt>
<dd><p>-u -P 4555 -L 0.0.0.0:4556 -t -p 5555 -I -T
</p></dd>
<dt><code>telnet options:</code></dt>
<dd><p>localhost 5555
</p></dd>
</dl>

</dd>
<dt><samp>tcp:[<var>host</var>]:<var>port</var>[,<var>server</var>][,nowait][,nodelay][,reconnect=<var>seconds</var>]</samp></dt>
<dd><p>The TCP Net Console has two modes of operation.  It can send the serial
I/O to a location or wait for a connection from a location.  By default
the TCP Net Console is sent to <var>host</var> at the <var>port</var>.  If you use
the <var>server</var> option QEMU will wait for a client socket application
to connect to the port before continuing, unless the <code>nowait</code>
option was specified.  The <code>nodelay</code> option disables the Nagle buffering
algorithm.  The <code>reconnect</code> option only applies if <var>noserver</var> is
set, if the connection goes down it will attempt to reconnect at the
given interval.  If <var>host</var> is omitted, 0.0.0.0 is assumed. Only
one TCP connection at a time is accepted. You can use <code>telnet</code> to
connect to the corresponding character device.
</p><dl compact="compact">
<dt><code>Example to send tcp console to 192.168.0.2 port 4444</code></dt>
<dd><p>-serial tcp:192.168.0.2:4444
</p></dd>
<dt><code>Example to listen and wait on port 4444 for connection</code></dt>
<dd><p>-serial tcp::4444,server
</p></dd>
<dt><code>Example to not wait and listen on ip 192.168.0.100 port 4444</code></dt>
<dd><p>-serial tcp:192.168.0.100:4444,server,nowait
</p></dd>
</dl>

</dd>
<dt><samp>telnet:<var>host</var>:<var>port</var>[,server][,nowait][,nodelay]</samp></dt>
<dd><p>The telnet protocol is used instead of raw tcp sockets.  The options
work the same as if you had specified <code>-serial tcp</code>.  The
difference is that the port acts like a telnet server or client using
telnet option negotiation.  This will also allow you to send the
MAGIC_SYSRQ sequence if you use a telnet that supports sending the break
sequence.  Typically in unix telnet you do it with Control-] and then
type &quot;send break&quot; followed by pressing the enter key.
</p>
</dd>
<dt><samp>unix:<var>path</var>[,server][,nowait][,reconnect=<var>seconds</var>]</samp></dt>
<dd><p>A unix domain socket is used instead of a tcp socket.  The option works the
same as if you had specified <code>-serial tcp</code> except the unix domain socket
<var>path</var> is used for connections.
</p>
</dd>
<dt><samp>mon:<var>dev_string</var></samp></dt>
<dd><p>This is a special option to allow the monitor to be multiplexed onto
another serial port.  The monitor is accessed with key sequence of
<tt class="key">Control-a</tt> and then pressing <tt class="key">c</tt>.
<var>dev_string</var> should be any one of the serial devices specified
above.  An example to multiplex the monitor onto a telnet server
listening on port 4444 would be:
</p><dl compact="compact">
<dt><code>-serial mon:telnet::4444,server,nowait</code></dt>
</dl>
<p>When the monitor is multiplexed to stdio in this way, Ctrl+C will not terminate
QEMU any more but will be passed to the guest instead.
</p>
</dd>
<dt><samp>braille</samp></dt>
<dd><p>Braille device.  This will use BrlAPI to display the braille output on a real
or fake device.
</p>
</dd>
<dt><samp>msmouse</samp></dt>
<dd><p>Three button serial mouse. Configure the guest to use Microsoft protocol.
</p></dd>
</dl>
</dd>
<dt><samp>-parallel <var>dev</var></samp></dt>
<dd><a name="index-_002dparallel"></a>
<p>Redirect the virtual parallel port to host device <var>dev</var> (same
devices as the serial port). On Linux hosts, <samp>/dev/parportN</samp> can
be used to use hardware devices connected on the corresponding host
parallel port.
</p>
<p>This option can be used several times to simulate up to 3 parallel
ports.
</p>
<p>Use <code>-parallel none</code> to disable all parallel ports.
</p></dd>
<dt><samp>-monitor <var>dev</var></samp></dt>
<dd><a name="index-_002dmonitor"></a>
<p>Redirect the monitor to host device <var>dev</var> (same devices as the
serial port).
The default device is <code>vc</code> in graphical mode and <code>stdio</code> in
non graphical mode.
Use <code>-monitor none</code> to disable the default monitor.
</p></dd>
<dt><samp>-qmp <var>dev</var></samp></dt>
<dd><a name="index-_002dqmp"></a>
<p>Like -monitor but opens in &rsquo;control&rsquo; mode.
</p></dd>
<dt><samp>-qmp-pretty <var>dev</var></samp></dt>
<dd><a name="index-_002dqmp_002dpretty"></a>
<p>Like -qmp but uses pretty JSON formatting.
</p></dd>
<dt><samp>-mon [chardev=]name[,mode=readline|control][,default]</samp></dt>
<dd><a name="index-_002dmon"></a>
<p>Setup monitor on chardev <var>name</var>.
</p></dd>
<dt><samp>-debugcon <var>dev</var></samp></dt>
<dd><a name="index-_002ddebugcon"></a>
<p>Redirect the debug console to host device <var>dev</var> (same devices as the
serial port).  The debug console is an I/O port which is typically port
0xe9; writing to that I/O port sends output to this device.
The default device is <code>vc</code> in graphical mode and <code>stdio</code> in
non graphical mode.
</p></dd>
<dt><samp>-pidfile <var>file</var></samp></dt>
<dd><a name="index-_002dpidfile"></a>
<p>Store the QEMU process PID in <var>file</var>. It is useful if you launch QEMU
from a script.
</p></dd>
<dt><samp>-singlestep</samp></dt>
<dd><a name="index-_002dsinglestep"></a>
<p>Run the emulation in single step mode.
</p></dd>
<dt><samp>-S</samp></dt>
<dd><a name="index-_002dS"></a>
<p>Do not start CPU at startup (you must type &rsquo;c&rsquo; in the monitor).
</p></dd>
<dt><samp>-realtime mlock=on|off</samp></dt>
<dd><a name="index-_002drealtime"></a>
<p>Run qemu with realtime features.
mlocking qemu and guest memory can be enabled via <samp>mlock=on</samp>
(enabled by default).
</p></dd>
<dt><samp>-gdb <var>dev</var></samp></dt>
<dd><a name="index-_002dgdb"></a>
<p>Wait for gdb connection on device <var>dev</var> (see <a href="#gdb_005fusage">gdb_usage</a>). Typical
connections will likely be TCP-based, but also UDP, pseudo TTY, or even
stdio are reasonable use case. The latter is allowing to start QEMU from
within gdb and establish the connection via a pipe:
</p><div class="example">
<pre class="example">(gdb) target remote | exec qemu-system-i386 -gdb stdio ...
</pre></div>
</dd>
<dt><samp>-s</samp></dt>
<dd><a name="index-_002ds"></a>
<p>Shorthand for -gdb tcp::1234, i.e. open a gdbserver on TCP port 1234
(see <a href="#gdb_005fusage">gdb_usage</a>).
</p></dd>
<dt><samp>-d <var>item1</var>[,...]</samp></dt>
<dd><a name="index-_002dd"></a>
<p>Enable logging of specified items. Use &rsquo;-d help&rsquo; for a list of log items.
</p></dd>
<dt><samp>-D <var>logfile</var></samp></dt>
<dd><a name="index-_002dD"></a>
<p>Output log in <var>logfile</var> instead of to stderr
</p></dd>
<dt><samp>-dfilter <var>range1</var>[,...]</samp></dt>
<dd><a name="index-_002ddfilter"></a>
<p>Filter debug output to that relevant to a range of target addresses. The filter
spec can be either <var>start</var>+<var>size</var>, <var>start</var>-<var>size</var> or
<var>start</var>..<var>end</var> where <var>start</var> <var>end</var> and <var>size</var> are the
addresses and sizes required. For example:
</p><div class="example">
<pre class="example">-dfilter 0x8000..0x8fff,0xffffffc000080000+0x200,0xffffffc000060000-0x1000
</pre></div>
<p>Will dump output for any code in the 0x1000 sized block starting at 0x8000 and
the 0x200 sized block starting at 0xffffffc000080000 and another 0x1000 sized
block starting at 0xffffffc00005f000.
</p></dd>
<dt><samp>-L  <var>path</var></samp></dt>
<dd><a name="index-_002dL"></a>
<p>Set the directory for the BIOS, VGA BIOS and keymaps.
</p>
<p>To list all the data directories, use <code>-L help</code>.
</p></dd>
<dt><samp>-bios <var>file</var></samp></dt>
<dd><a name="index-_002dbios"></a>
<p>Set the filename for the BIOS.
</p></dd>
<dt><samp>-enable-kvm</samp></dt>
<dd><a name="index-_002denable_002dkvm"></a>
<p>Enable KVM full virtualization support. This option is only available
if KVM support is enabled when compiling.
</p></dd>
<dt><samp>-xen-domid <var>id</var></samp></dt>
<dd><a name="index-_002dxen_002ddomid"></a>
<p>Specify xen guest domain <var>id</var> (XEN only).
</p></dd>
<dt><samp>-xen-create</samp></dt>
<dd><a name="index-_002dxen_002dcreate"></a>
<p>Create domain using xen hypercalls, bypassing xend.
Warning: should not be used when xend is in use (XEN only).
</p></dd>
<dt><samp>-xen-attach</samp></dt>
<dd><a name="index-_002dxen_002dattach"></a>
<p>Attach to existing xen domain.
xend will use this when starting QEMU (XEN only).
</p></dd>
<dt><samp>-no-reboot</samp></dt>
<dd><a name="index-_002dno_002dreboot"></a>
<p>Exit instead of rebooting.
</p></dd>
<dt><samp>-no-shutdown</samp></dt>
<dd><a name="index-_002dno_002dshutdown"></a>
<p>Don&rsquo;t exit QEMU on guest shutdown, but instead only stop the emulation.
This allows for instance switching to monitor to commit changes to the
disk image.
</p></dd>
<dt><samp>-loadvm <var>file</var></samp></dt>
<dd><a name="index-_002dloadvm"></a>
<p>Start right away with a saved state (<code>loadvm</code> in monitor)
</p></dd>
<dt><samp>-daemonize</samp></dt>
<dd><a name="index-_002ddaemonize"></a>
<p>Daemonize the QEMU process after initialization.  QEMU will not detach from
standard IO until it is ready to receive connections on any of its devices.
This option is a useful way for external programs to launch QEMU without having
to cope with initialization race conditions.
</p></dd>
<dt><samp>-option-rom <var>file</var></samp></dt>
<dd><a name="index-_002doption_002drom"></a>
<p>Load the contents of <var>file</var> as an option ROM.
This option is useful to load things like EtherBoot.
</p>
</dd>
<dt><samp>-rtc [base=utc|localtime|<var>date</var>][,clock=host|vm][,driftfix=none|slew]</samp></dt>
<dd><a name="index-_002drtc"></a>
<p>Specify <samp>base</samp> as <code>utc</code> or <code>localtime</code> to let the RTC start at the current
UTC or local time, respectively. <code>localtime</code> is required for correct date in
MS-DOS or Windows. To start at a specific point in time, provide <var>date</var> in the
format <code>2006-06-17T16:01:21</code> or <code>2006-06-17</code>. The default base is UTC.
</p>
<p>By default the RTC is driven by the host system time. This allows using of the
RTC as accurate reference clock inside the guest, specifically if the host
time is smoothly following an accurate external reference clock, e.g. via NTP.
If you want to isolate the guest time from the host, you can set <samp>clock</samp>
to <code>rt</code> instead.  To even prevent it from progressing during suspension,
you can set it to <code>vm</code>.
</p>
<p>Enable <samp>driftfix</samp> (i386 targets only) if you experience time drift problems,
specifically with Windows&rsquo; ACPI HAL. This option will try to figure out how
many timer interrupts were not processed by the Windows guest and will
re-inject them.
</p></dd>
<dt><samp>-icount [shift=<var>N</var>|auto][,rr=record|replay,rrfile=<var>filename</var>]</samp></dt>
<dd><a name="index-_002dicount"></a>
<p>Enable virtual instruction counter.  The virtual cpu will execute one
instruction every 2^<var>N</var> ns of virtual time.  If <code>auto</code> is specified
then the virtual cpu speed will be automatically adjusted to keep virtual
time within a few seconds of real time.
</p>
<p>When the virtual cpu is sleeping, the virtual time will advance at default
speed unless <samp>sleep=on|off</samp> is specified.
With <samp>sleep=on|off</samp>, the virtual time will jump to the next timer deadline
instantly whenever the virtual cpu goes to sleep mode and will not advance
if no timer is enabled. This behavior give deterministic execution times from
the guest point of view.
</p>
<p>Note that while this option can give deterministic behavior, it does not
provide cycle accurate emulation.  Modern CPUs contain superscalar out of
order cores with complex cache hierarchies.  The number of instructions
executed often has little or no correlation with actual performance.
</p>
<p><samp>align=on</samp> will activate the delay algorithm which will try
to synchronise the host clock and the virtual clock. The goal is to
have a guest running at the real frequency imposed by the shift option.
Whenever the guest clock is behind the host clock and if
<samp>align=on</samp> is specified then we print a message to the user
to inform about the delay.
Currently this option does not work when <samp>shift</samp> is <code>auto</code>.
Note: The sync algorithm will work for those shift values for which
the guest clock runs ahead of the host clock. Typically this happens
when the shift value is high (how high depends on the host machine).
</p>
<p>When <samp>rr</samp> option is specified deterministic record/replay is enabled.
Replay log is written into <var>filename</var> file in record mode and
read from this file in replay mode.
</p></dd>
<dt><samp>-watchdog <var>model</var></samp></dt>
<dd><a name="index-_002dwatchdog"></a>
<p>Create a virtual hardware watchdog device.  Once enabled (by a guest
action), the watchdog must be periodically polled by an agent inside
the guest or else the guest will be restarted. Choose a model for
which your guest has drivers.
</p>
<p>The <var>model</var> is the model of hardware watchdog to emulate. Use
<code>-watchdog help</code> to list available hardware models. Only one
watchdog can be enabled for a guest.
</p>
<p>The following models may be available:
</p><dl compact="compact">
<dt><samp>ib700</samp></dt>
<dd><p>iBASE 700 is a very simple ISA watchdog with a single timer.
</p></dd>
<dt><samp>i6300esb</samp></dt>
<dd><p>Intel 6300ESB I/O controller hub is a much more featureful PCI-based
dual-timer watchdog.
</p></dd>
<dt><samp>diag288</samp></dt>
<dd><p>A virtual watchdog for s390x backed by the diagnose 288 hypercall
(currently KVM only).
</p></dd>
</dl>
</dd>
<dt><samp>-watchdog-action <var>action</var></samp></dt>
<dd><a name="index-_002dwatchdog_002daction"></a>

<p>The <var>action</var> controls what QEMU will do when the watchdog timer
expires.
The default is
<code>reset</code> (forcefully reset the guest).
Other possible actions are:
<code>shutdown</code> (attempt to gracefully shutdown the guest),
<code>poweroff</code> (forcefully poweroff the guest),
<code>pause</code> (pause the guest),
<code>debug</code> (print a debug message and continue), or
<code>none</code> (do nothing).
</p>
<p>Note that the <code>shutdown</code> action requires that the guest responds
to ACPI signals, which it may not be able to do in the sort of
situations where the watchdog would have expired, and thus
<code>-watchdog-action shutdown</code> is not recommended for production use.
</p>
<p>Examples:
</p>
<dl compact="compact">
<dt><code>-watchdog i6300esb -watchdog-action pause</code></dt>
<dt><code>-watchdog ib700</code></dt>
</dl>

</dd>
<dt><samp>-echr <var>numeric_ascii_value</var></samp></dt>
<dd><a name="index-_002dechr"></a>
<p>Change the escape character used for switching to the monitor when using
monitor and serial sharing.  The default is <code>0x01</code> when using the
<code>-nographic</code> option.  <code>0x01</code> is equal to pressing
<code>Control-a</code>.  You can select a different character from the ascii
control keys where 1 through 26 map to Control-a through Control-z.  For
instance you could use the either of the following to change the escape
character to Control-t.
</p><dl compact="compact">
<dt><code>-echr 0x14</code></dt>
<dt><code>-echr 20</code></dt>
</dl>
</dd>
<dt><samp>-virtioconsole <var>c</var></samp></dt>
<dd><a name="index-_002dvirtioconsole"></a>
<p>Set virtio console.
</p>
<p>This option is maintained for backward compatibility.
</p>
<p>Please use <code>-device virtconsole</code> for the new way of invocation.
</p></dd>
<dt><samp>-show-cursor</samp></dt>
<dd><a name="index-_002dshow_002dcursor"></a>
<p>Show cursor.
</p></dd>
<dt><samp>-tb-size <var>n</var></samp></dt>
<dd><a name="index-_002dtb_002dsize"></a>
<p>Set TB size.
</p></dd>
<dt><samp>-incoming tcp:[<var>host</var>]:<var>port</var>[,to=<var>maxport</var>][,ipv4][,ipv6]</samp></dt>
<dt><samp>-incoming rdma:<var>host</var>:<var>port</var>[,ipv4][,ipv6]</samp></dt>
<dd><a name="index-_002dincoming"></a>
<p>Prepare for incoming migration, listen on a given tcp port.
</p>
</dd>
<dt><samp>-incoming unix:<var>socketpath</var></samp></dt>
<dd><p>Prepare for incoming migration, listen on a given unix socket.
</p>
</dd>
<dt><samp>-incoming fd:<var>fd</var></samp></dt>
<dd><p>Accept incoming migration from a given filedescriptor.
</p>
</dd>
<dt><samp>-incoming exec:<var>cmdline</var></samp></dt>
<dd><p>Accept incoming migration as an output from specified external command.
</p>
</dd>
<dt><samp>-incoming defer</samp></dt>
<dd><p>Wait for the URI to be specified via migrate_incoming.  The monitor can
be used to change settings (such as migration parameters) prior to issuing
the migrate_incoming to allow the migration to begin.
</p></dd>
<dt><samp>-nodefaults</samp></dt>
<dd><a name="index-_002dnodefaults"></a>
<p>Don&rsquo;t create default devices. Normally, QEMU sets the default devices like serial
port, parallel port, virtual console, monitor device, VGA adapter, floppy and
CD-ROM drive and others. The <code>-nodefaults</code> option will disable all those
default devices.
</p></dd>
<dt><samp>-chroot <var>dir</var></samp></dt>
<dd><a name="index-_002dchroot"></a>
<p>Immediately before starting guest execution, chroot to the specified
directory.  Especially useful in combination with -runas.
This option is not supported for Windows hosts.
</p></dd>
<dt><samp>-runas <var>user</var></samp></dt>
<dd><a name="index-_002drunas"></a>
<p>Immediately before starting guest execution, drop root privileges, switching
to the specified user.
</p></dd>
<dt><samp>-prom-env <var>variable</var>=<var>value</var></samp></dt>
<dd><a name="index-_002dprom_002denv"></a>
<p>Set OpenBIOS nvram <var>variable</var> to given <var>value</var> (PPC, SPARC only).
</p></dd>
<dt><samp>-semihosting</samp></dt>
<dd><a name="index-_002dsemihosting"></a>
<p>Enable semihosting mode (ARM, M68K, Xtensa, MIPS only).
</p></dd>
<dt><samp>-semihosting-config [enable=on|off][,target=native|gdb|auto][,arg=str[,...]]</samp></dt>
<dd><a name="index-_002dsemihosting_002dconfig"></a>
<p>Enable and configure semihosting (ARM, M68K, Xtensa, MIPS only).
</p><dl compact="compact">
<dt><samp>target=<code>native|gdb|auto</code></samp></dt>
<dd><p>Defines where the semihosting calls will be addressed, to QEMU (<code>native</code>)
or to GDB (<code>gdb</code>). The default is <code>auto</code>, which means <code>gdb</code>
during debug sessions and <code>native</code> otherwise.
</p></dd>
<dt><samp>arg=<var>str1</var>,arg=<var>str2</var>,...</samp></dt>
<dd><p>Allows the user to pass input arguments, and can be used multiple times to build
up a list. The old-style <code>-kernel</code>/<code>-append</code> method of passing a
command line is still supported for backward compatibility. If both the
<code>--semihosting-config arg</code> and the <code>-kernel</code>/<code>-append</code> are
specified, the former is passed to semihosting as it always takes precedence.
</p></dd>
</dl>
</dd>
<dt><samp>-old-param</samp></dt>
<dd><a name="index-_002dold_002dparam-_0028ARM_0029"></a>
<p>Old param mode (ARM only).
</p></dd>
<dt><samp>-sandbox <var>arg</var></samp></dt>
<dd><a name="index-_002dsandbox"></a>
<p>Enable Seccomp mode 2 system call filter. &rsquo;on&rsquo; will enable syscall filtering and &rsquo;off&rsquo; will
disable it.  The default is &rsquo;off&rsquo;.
</p></dd>
<dt><samp>-readconfig <var>file</var></samp></dt>
<dd><a name="index-_002dreadconfig"></a>
<p>Read device configuration from <var>file</var>. This approach is useful when you want to spawn
QEMU process with many command line options but you don&rsquo;t want to exceed the command line
character limit.
</p></dd>
<dt><samp>-writeconfig <var>file</var></samp></dt>
<dd><a name="index-_002dwriteconfig"></a>
<p>Write device configuration to <var>file</var>. The <var>file</var> can be either filename to save
command line and device configuration into file or dash <code>-</code>) character to print the
output to stdout. This can be later used as input file for <code>-readconfig</code> option.
</p></dd>
<dt><samp>-nodefconfig</samp></dt>
<dd><a name="index-_002dnodefconfig"></a>
<p>Normally QEMU loads configuration files from <var>sysconfdir</var> and <var>datadir</var> at startup.
The <code>-nodefconfig</code> option will prevent QEMU from loading any of those config files.
</p></dd>
<dt><samp>-no-user-config</samp></dt>
<dd><a name="index-_002dno_002duser_002dconfig"></a>
<p>The <code>-no-user-config</code> option makes QEMU not load any of the user-provided
config files on <var>sysconfdir</var>, but won&rsquo;t make it skip the QEMU-provided config
files from <var>datadir</var>.
</p></dd>
<dt><samp>-trace-unassigned</samp></dt>
<dd><a name="index-_002dtrace_002dunassigned"></a>
<p>Trace unassigned memory or i/o accesses to stderr.
</p></dd>
<dt><samp>-trace [[enable=]<var>pattern</var>][,events=<var>file</var>][,file=<var>file</var>]</samp></dt>
<dd><a name="index-_002dtrace"></a>
<p>Specify tracing options.
</p>
<dl compact="compact">
<dt><samp>[enable=]<var>pattern</var></samp></dt>
<dd><p>Immediately enable events matching <var>pattern</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var>
or <var>ftrace</var> tracing backend.  To specify multiple events or patterns,
specify the <samp>-trace</samp> option multiple times.
</p>
<p>Use <code>-trace help</code> to print a list of names of trace points.
</p>
</dd>
<dt><samp>events=<var>file</var></samp></dt>
<dd><p>Immediately enable events listed in <var>file</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var> or
<var>ftrace</var> tracing backend.
</p>
</dd>
<dt><samp>file=<var>file</var></samp></dt>
<dd><p>Log output traces to <var>file</var>.
This option is only available if QEMU has been compiled with
the <var>simple</var> tracing backend.
</p></dd>
</dl>
</dd>
<dt><samp>-enable-fips</samp></dt>
<dd><a name="index-_002denable_002dfips"></a>
<p>Enable FIPS 140-2 compliance mode.
</p></dd>
<dt><samp>-msg timestamp[=on|off]</samp></dt>
<dd><a name="index-_002dmsg"></a>
<p>prepend a timestamp to each log message.(default:on)
</p></dd>
<dt><samp>-dump-vmstate <var>file</var></samp></dt>
<dd><a name="index-_002ddump_002dvmstate"></a>
<p>Dump json-encoded vmstate information for current machine type to file
in <var>file</var>
Generic object creation
</p></dd>
<dt><samp>-object <var>typename</var>[,<var>prop1</var>=<var>value1</var>,...]</samp></dt>
<dd><a name="index-_002dobject"></a>
<p>Create a new object of type <var>typename</var> setting properties
in the order they are specified.  Note that the &rsquo;id&rsquo;
property must be set.  These objects are placed in the
&rsquo;/objects&rsquo; path.
</p>
<dl compact="compact">
<dt><samp>-object memory-backend-file,id=<var>id</var>,size=<var>size</var>,mem-path=<var>dir</var>,share=<var>on|off</var></samp></dt>
<dd>
<p>Creates a memory file backend object, which can be used to back
the guest RAM with huge pages. The <samp>id</samp> parameter is a
unique ID that will be used to reference this memory region
when configuring the <samp>-numa</samp> argument. The <samp>size</samp>
option provides the size of the memory region, and accepts
common suffixes, eg <samp>500M</samp>. The <samp>mem-path</samp> provides
the path to either a shared memory or huge page filesystem mount.
The <samp>share</samp> boolean option determines whether the memory
region is marked as private to QEMU, or shared. The latter allows
a co-operating external process to access the QEMU memory region.
</p>
</dd>
<dt><samp>-object rng-random,id=<var>id</var>,filename=<var>/dev/random</var></samp></dt>
<dd>
<p>Creates a random number generator backend which obtains entropy from
a device on the host. The <samp>id</samp> parameter is a unique ID that
will be used to reference this entropy backend from the <samp>virtio-rng</samp>
device. The <samp>filename</samp> parameter specifies which file to obtain
entropy from and if omitted defaults to <samp>/dev/random</samp>.
</p>
</dd>
<dt><samp>-object rng-egd,id=<var>id</var>,chardev=<var>chardevid</var></samp></dt>
<dd>
<p>Creates a random number generator backend which obtains entropy from
an external daemon running on the host. The <samp>id</samp> parameter is
a unique ID that will be used to reference this entropy backend from
the <samp>virtio-rng</samp> device. The <samp>chardev</samp> parameter is
the unique ID of a character device backend that provides the connection
to the RNG daemon.
</p>
</dd>
<dt><samp>-object tls-creds-anon,id=<var>id</var>,endpoint=<var>endpoint</var>,dir=<var>/path/to/cred/dir</var>,verify-peer=<var>on|off</var></samp></dt>
<dd>
<p>Creates a TLS anonymous credentials object, which can be used to provide
TLS support on network backends. The <samp>id</samp> parameter is a unique
ID which network backends will use to access the credentials. The
<samp>endpoint</samp> is either <samp>server</samp> or <samp>client</samp> depending
on whether the QEMU network backend that uses the credentials will be
acting as a client or as a server. If <samp>verify-peer</samp> is enabled
(the default) then once the handshake is completed, the peer credentials
will be verified, though this is a no-op for anonymous credentials.
</p>
<p>The <var>dir</var> parameter tells QEMU where to find the credential
files. For server endpoints, this directory may contain a file
<var>dh-params.pem</var> providing diffie-hellman parameters to use
for the TLS server. If the file is missing, QEMU will generate
a set of DH parameters at startup. This is a computationally
expensive operation that consumes random pool entropy, so it is
recommended that a persistent set of parameters be generated
upfront and saved.
</p>
</dd>
<dt><samp>-object tls-creds-x509,id=<var>id</var>,endpoint=<var>endpoint</var>,dir=<var>/path/to/cred/dir</var>,verify-peer=<var>on|off</var>,passwordid=<var>id</var></samp></dt>
<dd>
<p>Creates a TLS anonymous credentials object, which can be used to provide
TLS support on network backends. The <samp>id</samp> parameter is a unique
ID which network backends will use to access the credentials. The
<samp>endpoint</samp> is either <samp>server</samp> or <samp>client</samp> depending
on whether the QEMU network backend that uses the credentials will be
acting as a client or as a server. If <samp>verify-peer</samp> is enabled
(the default) then once the handshake is completed, the peer credentials
will be verified. With x509 certificates, this implies that the clients
must be provided with valid client certificates too.
</p>
<p>The <var>dir</var> parameter tells QEMU where to find the credential
files. For server endpoints, this directory may contain a file
<var>dh-params.pem</var> providing diffie-hellman parameters to use
for the TLS server. If the file is missing, QEMU will generate
a set of DH parameters at startup. This is a computationally
expensive operation that consumes random pool entropy, so it is
recommended that a persistent set of parameters be generated
upfront and saved.
</p>
<p>For x509 certificate credentials the directory will contain further files
providing the x509 certificates. The certificates must be stored
in PEM format, in filenames <var>ca-cert.pem</var>, <var>ca-crl.pem</var> (optional),
<var>server-cert.pem</var> (only servers), <var>server-key.pem</var> (only servers),
<var>client-cert.pem</var> (only clients), and <var>client-key.pem</var> (only clients).
</p>
<p>For the <var>server-key.pem</var> and <var>client-key.pem</var> files which
contain sensitive private keys, it is possible to use an encrypted
version by providing the <var>passwordid</var> parameter. This provides
the ID of a previously created <code>secret</code> object containing the
password for decryption.
</p>
</dd>
<dt><samp>-object filter-buffer,id=<var>id</var>,netdev=<var>netdevid</var>,interval=<var>t</var>[,queue=<var>all|rx|tx</var>][,status=<var>on|off</var>]</samp></dt>
<dd>
<p>Interval <var>t</var> can&rsquo;t be 0, this filter batches the packet delivery: all
packets arriving in a given interval on netdev <var>netdevid</var> are delayed
until the end of the interval. Interval is in microseconds.
<samp>status</samp> is optional that indicate whether the netfilter is
on (enabled) or off (disabled), the default status for netfilter will be &rsquo;on&rsquo;.
</p>
<p>queue <var>all|rx|tx</var> is an option that can be applied to any netfilter.
</p>
<p><samp>all</samp>: the filter is attached both to the receive and the transmit
queue of the netdev (default).
</p>
<p><samp>rx</samp>: the filter is attached to the receive queue of the netdev,
where it will receive packets sent to the netdev.
</p>
<p><samp>tx</samp>: the filter is attached to the transmit queue of the netdev,
where it will receive packets sent by the netdev.
</p>
</dd>
<dt><samp>-object filter-mirror,id=<var>id</var>,netdev=<var>netdevid</var>,outdev=<var>chardevid</var>[,queue=<var>all|rx|tx</var>]</samp></dt>
<dd>
<p>filter-mirror on netdev <var>netdevid</var>,mirror net packet to chardev
<var>chardevid</var>
</p>
</dd>
<dt><samp>-object filter-redirector,id=<var>id</var>,netdev=<var>netdevid</var>,indev=<var>chardevid</var>,</samp></dt>
<dd><p>outdev=<var>chardevid</var>[,queue=<var>all|rx|tx</var>]
</p>
<p>filter-redirector on netdev <var>netdevid</var>,redirect filter&rsquo;s net packet to chardev
<var>chardevid</var>,and redirect indev&rsquo;s packet to filter.
Create a filter-redirector we need to differ outdev id from indev id, id can not
be the same. we can just use indev or outdev, but at least one of indev or outdev
need to be specified.
</p>
</dd>
<dt><samp>-object filter-dump,id=<var>id</var>,netdev=<var>dev</var>,file=<var>filename</var>][,maxlen=<var>len</var>]</samp></dt>
<dd>
<p>Dump the network traffic on netdev <var>dev</var> to the file specified by
<var>filename</var>. At most <var>len</var> bytes (64k by default) per packet are stored.
The file format is libpcap, so it can be analyzed with tools such as tcpdump
or Wireshark.
</p>
</dd>
<dt><samp>-object secret,id=<var>id</var>,data=<var>string</var>,format=<var>raw|base64</var>[,keyid=<var>secretid</var>,iv=<var>string</var>]</samp></dt>
<dt><samp>-object secret,id=<var>id</var>,file=<var>filename</var>,format=<var>raw|base64</var>[,keyid=<var>secretid</var>,iv=<var>string</var>]</samp></dt>
<dd>
<p>Defines a secret to store a password, encryption key, or some other sensitive
data. The sensitive data can either be passed directly via the <var>data</var>
parameter, or indirectly via the <var>file</var> parameter. Using the <var>data</var>
parameter is insecure unless the sensitive data is encrypted.
</p>
<p>The sensitive data can be provided in raw format (the default), or base64.
When encoded as JSON, the raw format only supports valid UTF-8 characters,
so base64 is recommended for sending binary data. QEMU will convert from
which ever format is provided to the format it needs internally. eg, an
RBD password can be provided in raw format, even though it will be base64
encoded when passed onto the RBD sever.
</p>
<p>For added protection, it is possible to encrypt the data associated with
a secret using the AES-256-CBC cipher. Use of encryption is indicated
by providing the <var>keyid</var> and <var>iv</var> parameters. The <var>keyid</var>
parameter provides the ID of a previously defined secret that contains
the AES-256 decryption key. This key should be 32-bytes long and be
base64 encoded. The <var>iv</var> parameter provides the random initialization
vector used for encryption of this particular secret and should be a
base64 encrypted string of the 16-byte IV.
</p>
<p>The simplest (insecure) usage is to provide the secret inline
</p>
<div class="example">
<pre class="example">
# $QEMU -object secret,id=sec0,data=letmein,format=raw

</pre></div>

<p>The simplest secure usage is to provide the secret via a file
</p>
<p># echo -n &quot;letmein&quot; &gt; mypasswd.txt
# $QEMU -object secret,id=sec0,file=mypasswd.txt,format=raw
</p>
<p>For greater security, AES-256-CBC should be used. To illustrate usage,
consider the openssl command line tool which can encrypt the data. Note
that when encrypting, the plaintext must be padded to the cipher block
size (32 bytes) using the standard PKCS#5/6 compatible padding algorithm.
</p>
<p>First a master key needs to be created in base64 encoding:
</p>
<div class="example">
<pre class="example"># openssl rand -base64 32 &gt; key.b64
# KEY=$(base64 -d key.b64 | hexdump  -v -e '/1 &quot;%02X&quot;')
</pre></div>

<p>Each secret to be encrypted needs to have a random initialization vector
generated. These do not need to be kept secret
</p>
<div class="example">
<pre class="example"># openssl rand -base64 16 &gt; iv.b64
# IV=$(base64 -d iv.b64 | hexdump  -v -e '/1 &quot;%02X&quot;')
</pre></div>

<p>The secret to be defined can now be encrypted, in this case we&rsquo;re
telling openssl to base64 encode the result, but it could be left
as raw bytes if desired.
</p>
<div class="example">
<pre class="example"># SECRET=$(echo -n &quot;letmein&quot; |
openssl enc -aes-256-cbc -a -K $KEY -iv $IV)
</pre></div>

<p>When launching QEMU, create a master secret pointing to <code>key.b64</code>
and specify that to be used to decrypt the user password. Pass the
contents of <code>iv.b64</code> to the second secret
</p>
<div class="example">
<pre class="example"># $QEMU \
-object secret,id=secmaster0,format=base64,file=key.b64 \
-object secret,id=sec0,keyid=secmaster0,format=base64,\
data=$SECRET,iv=$(&lt;iv.b64)
</pre></div>

</dd>
</dl>

</dd>
</dl>


<hr>
<a name="pcsys_005fkeys"></a>
<a name="Keys-in-the-graphical-frontends"></a>
<h3 class="section">3.4 Keys in the graphical frontends</h3>


<p>During the graphical emulation, you can use special key combinations to change
modes. The default key mappings are shown below, but if you use <code>-alt-grab</code>
then the modifier is Ctrl-Alt-Shift (instead of Ctrl-Alt) and if you use
<code>-ctrl-grab</code> then the modifier is the right Ctrl key (instead of Ctrl-Alt):
</p>
<dl compact="compact">
<dt><tt class="key">Ctrl-Alt-f</tt></dt>
<dd><a name="index-Ctrl_002dAlt_002df"></a>
<p>Toggle full screen
</p>
</dd>
<dt><tt class="key">Ctrl-Alt-+</tt></dt>
<dd><a name="index-Ctrl_002dAlt_002d_002b"></a>
<p>Enlarge the screen
</p>
</dd>
<dt><tt class="key">Ctrl-Alt--</tt></dt>
<dd><a name="index-Ctrl_002dAlt_002d_002d"></a>
<p>Shrink the screen
</p>
</dd>
<dt><tt class="key">Ctrl-Alt-u</tt></dt>
<dd><a name="index-Ctrl_002dAlt_002du"></a>
<p>Restore the screen&rsquo;s un-scaled dimensions
</p>
</dd>
<dt><tt class="key">Ctrl-Alt-n</tt></dt>
<dd><a name="index-Ctrl_002dAlt_002dn"></a>
<p>Switch to virtual console &rsquo;n&rsquo;. Standard console mappings are:
</p><dl compact="compact">
<dt><em>1</em></dt>
<dd><p>Target system display
</p></dd>
<dt><em>2</em></dt>
<dd><p>Monitor
</p></dd>
<dt><em>3</em></dt>
<dd><p>Serial port
</p></dd>
</dl>

</dd>
<dt><tt class="key">Ctrl-Alt</tt></dt>
<dd><a name="index-Ctrl_002dAlt"></a>
<p>Toggle mouse and keyboard grab.
</p></dd>
</dl>

<a name="index-Ctrl_002dUp"></a>
<a name="index-Ctrl_002dDown"></a>
<a name="index-Ctrl_002dPageUp"></a>
<a name="index-Ctrl_002dPageDown"></a>
<p>In the virtual consoles, you can use <tt class="key">Ctrl-Up</tt>, <tt class="key">Ctrl-Down</tt>,
<tt class="key">Ctrl-PageUp</tt> and <tt class="key">Ctrl-PageDown</tt> to move in the back log.
</p>

<hr>
<a name="mux_005fkeys"></a>
<a name="Keys-in-the-character-backend-multiplexer"></a>
<h3 class="section">3.5 Keys in the character backend multiplexer</h3>


<p>During emulation, if you are using a character backend multiplexer
(which is the default if you are using <samp>-nographic</samp>) then
several commands are available via an escape sequence. These
key sequences all start with an escape character, which is <tt class="key">Ctrl-a</tt>
by default, but can be changed with <samp>-echr</samp>. The list below assumes
you&rsquo;re using the default.
</p>
<dl compact="compact">
<dt><tt class="key">Ctrl-a h</tt></dt>
<dd><a name="index-Ctrl_002da-h"></a>
<p>Print this help
</p></dd>
<dt><tt class="key">Ctrl-a x</tt></dt>
<dd><a name="index-Ctrl_002da-x"></a>
<p>Exit emulator
</p></dd>
<dt><tt class="key">Ctrl-a s</tt></dt>
<dd><a name="index-Ctrl_002da-s"></a>
<p>Save disk data back to file (if -snapshot)
</p></dd>
<dt><tt class="key">Ctrl-a t</tt></dt>
<dd><a name="index-Ctrl_002da-t"></a>
<p>Toggle console timestamps
</p></dd>
<dt><tt class="key">Ctrl-a b</tt></dt>
<dd><a name="index-Ctrl_002da-b"></a>
<p>Send break (magic sysrq in Linux)
</p></dd>
<dt><tt class="key">Ctrl-a c</tt></dt>
<dd><a name="index-Ctrl_002da-c"></a>
<p>Rotate between the frontends connected to the multiplexer (usually
this switches between the monitor and the console)
</p></dd>
<dt><tt class="key">Ctrl-a Ctrl-a</tt></dt>
<dd><a name="index-Ctrl_002da-Ctrl_002da"></a>
<p>Send the escape character to the frontend
</p></dd>
</dl>


<hr>
<a name="pcsys_005fmonitor"></a>
<a name="QEMU-Monitor"></a>
<h3 class="section">3.6 QEMU Monitor</h3>
<a name="index-QEMU-monitor"></a>

<p>The QEMU monitor is used to give complex commands to the QEMU
emulator. You can use it to:
</p>
<ul class="no-bullet">
<li>- Remove or insert removable media images
(such as CD-ROM or floppies).

</li><li>- Freeze/unfreeze the Virtual Machine (VM) and save or restore its state
from a disk file.

</li><li>- Inspect the VM state without an external debugger.

</li></ul>

<a name="Commands"></a>
<h4 class="subsection">3.6.1 Commands</h4>

<p>The following commands are available:
</p>
<dl compact="compact">
<dt><samp>help or ? [<var>cmd</var>]</samp></dt>
<dd><a name="index-help"></a>
<p>Show the help for all commands or just for command <var>cmd</var>.
</p></dd>
<dt><samp>commit</samp></dt>
<dd><a name="index-commit"></a>
<p>Commit changes to the disk images (if -snapshot is used) or backing files.
If the backing file is smaller than the snapshot, then the backing file will be
resized to be the same size as the snapshot.  If the snapshot is smaller than
the backing file, the backing file will not be truncated.  If you want the
backing file to match the size of the smaller snapshot, you can safely truncate
it yourself once the commit operation successfully completes.
</p></dd>
<dt><samp>q or quit</samp></dt>
<dd><a name="index-quit"></a>
<p>Quit the emulator.
</p></dd>
<dt><samp>block_resize</samp></dt>
<dd><a name="index-block_005fresize"></a>
<p>Resize a block image while a guest is running.  Usually requires guest
action to see the updated size.  Resize to a lower size is supported,
but should be used with extreme caution.  Note that this command only
resizes image files, it can not resize block devices like LVM volumes.
</p></dd>
<dt><samp>block_stream</samp></dt>
<dd><a name="index-block_005fstream"></a>
<p>Copy data from a backing file into a block device.
</p></dd>
<dt><samp>block_job_set_speed</samp></dt>
<dd><a name="index-block_005fjob_005fset_005fspeed"></a>
<p>Set maximum speed for a background block operation.
</p></dd>
<dt><samp>block_job_cancel</samp></dt>
<dd><a name="index-block_005fjob_005fcancel"></a>
<p>Stop an active background block operation (streaming, mirroring).
</p></dd>
<dt><samp>block_job_complete</samp></dt>
<dd><a name="index-block_005fjob_005fcomplete"></a>
<p>Manually trigger completion of an active background block operation.
For mirroring, this will switch the device to the destination path.
</p></dd>
<dt><samp>block_job_pause</samp></dt>
<dd><a name="index-block_005fjob_005fpause"></a>
<p>Pause an active block streaming operation.
</p></dd>
<dt><samp>block_job_resume</samp></dt>
<dd><a name="index-block_005fjob_005fresume"></a>
<p>Resume a paused block streaming operation.
</p></dd>
<dt><samp>eject [-f] <var>device</var></samp></dt>
<dd><a name="index-eject"></a>
<p>Eject a removable medium (use -f to force it).
</p></dd>
<dt><samp>drive_del <var>device</var></samp></dt>
<dd><a name="index-drive_005fdel"></a>
<p>Remove host block device.  The result is that guest generated IO is no longer
submitted against the host device underlying the disk.  Once a drive has
been deleted, the QEMU Block layer returns -EIO which results in IO
errors in the guest for applications that are reading/writing to the device.
These errors are always reported to the guest, regardless of the drive&rsquo;s error
actions (drive options rerror, werror).
</p></dd>
<dt><samp>change <var>device</var> <var>setting</var></samp></dt>
<dd><a name="index-change"></a>
<p>Change the configuration of a device.
</p>
<dl compact="compact">
<dt><samp>change <var>diskdevice</var> <var>filename</var> [<var>format</var> [<var>read-only-mode</var>]]</samp></dt>
<dd><p>Change the medium for a removable disk device to point to <var>filename</var>. eg
</p>
<div class="example">
<pre class="example">(qemu) change ide1-cd0 /path/to/some.iso
</pre></div>

<p><var>format</var> is optional.
</p>
<p><var>read-only-mode</var> may be used to change the read-only status of the device.
It accepts the following values:
</p>
<dl compact="compact">
<dt><var>retain</var></dt>
<dd><p>Retains the current status; this is the default.
</p>
</dd>
<dt><var>read-only</var></dt>
<dd><p>Makes the device read-only.
</p>
</dd>
<dt><var>read-write</var></dt>
<dd><p>Makes the device writable.
</p></dd>
</dl>

</dd>
<dt><samp>change vnc <var>display</var>,<var>options</var></samp></dt>
<dd><p>Change the configuration of the VNC server. The valid syntax for <var>display</var>
and <var>options</var> are described at <a href="#sec_005finvocation">sec_invocation</a>. eg
</p>
<div class="example">
<pre class="example">(qemu) change vnc localhost:1
</pre></div>

</dd>
<dt><samp>change vnc password [<var>password</var>]</samp></dt>
<dd>
<p>Change the password associated with the VNC server. If the new password is not
supplied, the monitor will prompt for it to be entered. VNC passwords are only
significant up to 8 letters. eg
</p>
<div class="example">
<pre class="example">(qemu) change vnc password
Password: ********
</pre></div>

</dd>
</dl>
</dd>
<dt><samp>screendump <var>filename</var></samp></dt>
<dd><a name="index-screendump"></a>
<p>Save screen into PPM image <var>filename</var>.
</p></dd>
<dt><samp>logfile <var>filename</var></samp></dt>
<dd><a name="index-logfile"></a>
<p>Output logs to <var>filename</var>.
</p></dd>
<dt><samp>trace-event</samp></dt>
<dd><a name="index-trace_002devent"></a>
<p>changes status of a trace event
</p></dd>
<dt><samp>trace-file on|off|flush</samp></dt>
<dd><a name="index-trace_002dfile"></a>
<p>Open, close, or flush the trace file.  If no argument is given, the status of the trace file is displayed.
</p></dd>
<dt><samp>log <var>item1</var>[,...]</samp></dt>
<dd><a name="index-log"></a>
<p>Activate logging of the specified items.
</p></dd>
<dt><samp>savevm [<var>tag</var>|<var>id</var>]</samp></dt>
<dd><a name="index-savevm"></a>
<p>Create a snapshot of the whole virtual machine. If <var>tag</var> is
provided, it is used as human readable identifier. If there is already
a snapshot with the same tag or ID, it is replaced. More info at
<a href="#vm_005fsnapshots">vm_snapshots</a>.
</p></dd>
<dt><samp>loadvm <var>tag</var>|<var>id</var></samp></dt>
<dd><a name="index-loadvm"></a>
<p>Set the whole virtual machine to the snapshot identified by the tag
<var>tag</var> or the unique snapshot ID <var>id</var>.
</p></dd>
<dt><samp>delvm <var>tag</var>|<var>id</var></samp></dt>
<dd><a name="index-delvm"></a>
<p>Delete the snapshot identified by <var>tag</var> or <var>id</var>.
</p></dd>
<dt><samp>singlestep [off]</samp></dt>
<dd><a name="index-singlestep"></a>
<p>Run the emulation in single step mode.
If called with option off, the emulation returns to normal mode.
</p></dd>
<dt><samp>stop</samp></dt>
<dd><a name="index-stop"></a>
<p>Stop emulation.
</p></dd>
<dt><samp>c or cont</samp></dt>
<dd><a name="index-cont"></a>
<p>Resume emulation.
</p></dd>
<dt><samp>system_wakeup</samp></dt>
<dd><a name="index-system_005fwakeup"></a>
<p>Wakeup guest from suspend.
</p></dd>
<dt><samp>gdbserver [<var>port</var>]</samp></dt>
<dd><a name="index-gdbserver"></a>
<p>Start gdbserver session (default <var>port</var>=1234)
</p></dd>
<dt><samp>x/fmt <var>addr</var></samp></dt>
<dd><a name="index-x"></a>
<p>Virtual memory dump starting at <var>addr</var>.
</p></dd>
<dt><samp>xp /<var>fmt</var> <var>addr</var></samp></dt>
<dd><a name="index-xp"></a>
<p>Physical memory dump starting at <var>addr</var>.
</p>
<p><var>fmt</var> is a format which tells the command how to format the
data. Its syntax is: <samp>/{count}{format}{size}</samp>
</p>
<dl compact="compact">
<dt><var>count</var></dt>
<dd><p>is the number of items to be dumped.
</p>
</dd>
<dt><var>format</var></dt>
<dd><p>can be x (hex), d (signed decimal), u (unsigned decimal), o (octal),
c (char) or i (asm instruction).
</p>
</dd>
<dt><var>size</var></dt>
<dd><p>can be b (8 bits), h (16 bits), w (32 bits) or g (64 bits). On x86,
<code>h</code> or <code>w</code> can be specified with the <code>i</code> format to
respectively select 16 or 32 bit code instruction size.
</p>
</dd>
</dl>

<p>Examples:
</p><ul>
<li> Dump 10 instructions at the current instruction pointer:
<div class="example">
<pre class="example">(qemu) x/10i $eip
0x90107063:  ret
0x90107064:  sti
0x90107065:  lea    0x0(%esi,1),%esi
0x90107069:  lea    0x0(%edi,1),%edi
0x90107070:  ret
0x90107071:  jmp    0x90107080
0x90107073:  nop
0x90107074:  nop
0x90107075:  nop
0x90107076:  nop
</pre></div>

</li><li> Dump 80 16 bit values at the start of the video memory.
<div class="smallexample">
<pre class="smallexample">(qemu) xp/80hx 0xb8000
0x000b8000: 0x0b50 0x0b6c 0x0b65 0x0b78 0x0b38 0x0b36 0x0b2f 0x0b42
0x000b8010: 0x0b6f 0x0b63 0x0b68 0x0b73 0x0b20 0x0b56 0x0b47 0x0b41
0x000b8020: 0x0b42 0x0b69 0x0b6f 0x0b73 0x0b20 0x0b63 0x0b75 0x0b72
0x000b8030: 0x0b72 0x0b65 0x0b6e 0x0b74 0x0b2d 0x0b63 0x0b76 0x0b73
0x000b8040: 0x0b20 0x0b30 0x0b35 0x0b20 0x0b4e 0x0b6f 0x0b76 0x0b20
0x000b8050: 0x0b32 0x0b30 0x0b30 0x0b33 0x0720 0x0720 0x0720 0x0720
0x000b8060: 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720
0x000b8070: 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720
0x000b8080: 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720
0x000b8090: 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720 0x0720
</pre></div>
</li></ul>
</dd>
<dt><samp>p or print/<var>fmt</var> <var>expr</var></samp></dt>
<dd><a name="index-print"></a>
<p>Print expression value. Only the <var>format</var> part of <var>fmt</var> is
used.
</p></dd>
<dt><samp>i/<var>fmt</var> <var>addr</var> [.<var>index</var>]</samp></dt>
<dd><a name="index-i"></a>
<p>Read I/O port.
</p></dd>
<dt><samp>o/<var>fmt</var> <var>addr</var> <var>val</var></samp></dt>
<dd><a name="index-o"></a>
<p>Write to I/O port.
</p></dd>
<dt><samp>sendkey <var>keys</var></samp></dt>
<dd><a name="index-sendkey"></a>
<p>Send <var>keys</var> to the guest. <var>keys</var> could be the name of the
key or the raw value in hexadecimal format. Use <code>-</code> to press
several keys simultaneously. Example:
</p><div class="example">
<pre class="example">sendkey ctrl-alt-f1
</pre></div>

<p>This command is useful to send keys that your graphical user interface
intercepts at low level, such as <code>ctrl-alt-f1</code> in X Window.
</p></dd>
<dt><samp>system_reset</samp></dt>
<dd><a name="index-system_005freset"></a>
<p>Reset the system.
</p></dd>
<dt><samp>system_powerdown</samp></dt>
<dd><a name="index-system_005fpowerdown"></a>
<p>Power down the system (if supported).
</p></dd>
<dt><samp>sum <var>addr</var> <var>size</var></samp></dt>
<dd><a name="index-sum"></a>
<p>Compute the checksum of a memory region.
</p></dd>
<dt><samp>usb_add <var>devname</var></samp></dt>
<dd><a name="index-usb_005fadd"></a>
<p>Add the USB device <var>devname</var>.  For details of available devices see
<a href="#usb_005fdevices">usb_devices</a>
</p></dd>
<dt><samp>usb_del <var>devname</var></samp></dt>
<dd><a name="index-usb_005fdel"></a>
<p>Remove the USB device <var>devname</var> from the QEMU virtual USB
hub. <var>devname</var> has the syntax <code>bus.addr</code>. Use the monitor
command <code>info usb</code> to see the devices you can remove.
</p></dd>
<dt><samp>device_add <var>config</var></samp></dt>
<dd><a name="index-device_005fadd"></a>
<p>Add device.
</p></dd>
<dt><samp>device_del <var>id</var></samp></dt>
<dd><a name="index-device_005fdel"></a>
<p>Remove device <var>id</var>. <var>id</var> may be a short ID
or a QOM object path.
</p></dd>
<dt><samp>cpu <var>index</var></samp></dt>
<dd><a name="index-cpu"></a>
<p>Set the default CPU.
</p></dd>
<dt><samp>mouse_move <var>dx</var> <var>dy</var> [<var>dz</var>]</samp></dt>
<dd><a name="index-mouse_005fmove"></a>
<p>Move the active mouse to the specified coordinates <var>dx</var> <var>dy</var>
with optional scroll axis <var>dz</var>.
</p></dd>
<dt><samp>mouse_button <var>val</var></samp></dt>
<dd><a name="index-mouse_005fbutton"></a>
<p>Change the active mouse button state <var>val</var> (1=L, 2=M, 4=R).
</p></dd>
<dt><samp>mouse_set <var>index</var></samp></dt>
<dd><a name="index-mouse_005fset"></a>
<p>Set which mouse device receives events at given <var>index</var>, index
can be obtained with
</p><div class="example">
<pre class="example">info mice
</pre></div>
</dd>
<dt><samp>wavcapture <var>filename</var> [<var>frequency</var> [<var>bits</var> [<var>channels</var>]]]</samp></dt>
<dd><a name="index-wavcapture"></a>
<p>Capture audio into <var>filename</var>. Using sample rate <var>frequency</var>
bits per sample <var>bits</var> and number of channels <var>channels</var>.
</p>
<p>Defaults:
</p><ul class="no-bullet">
<li>- Sample rate = 44100 Hz - CD quality
</li><li>- Bits = 16
</li><li>- Number of channels = 2 - Stereo
</li></ul>
</dd>
<dt><samp>stopcapture <var>index</var></samp></dt>
<dd><a name="index-stopcapture"></a>
<p>Stop capture with a given <var>index</var>, index can be obtained with
</p><div class="example">
<pre class="example">info capture
</pre></div>
</dd>
<dt><samp>memsave <var>addr</var> <var>size</var> <var>file</var></samp></dt>
<dd><a name="index-memsave"></a>
<p>save to disk virtual memory dump starting at <var>addr</var> of size <var>size</var>.
</p></dd>
<dt><samp>pmemsave <var>addr</var> <var>size</var> <var>file</var></samp></dt>
<dd><a name="index-pmemsave"></a>
<p>save to disk physical memory dump starting at <var>addr</var> of size <var>size</var>.
</p></dd>
<dt><samp>boot_set <var>bootdevicelist</var></samp></dt>
<dd><a name="index-boot_005fset"></a>
<p>Define new values for the boot device list. Those values will override
the values specified on the command line through the <code>-boot</code> option.
</p>
<p>The values that can be specified here depend on the machine type, but are
the same that can be specified in the <code>-boot</code> command line option.
</p></dd>
<dt><samp>nmi <var>cpu</var></samp></dt>
<dd><a name="index-nmi"></a>
<p>Inject an NMI on the default CPU (x86/s390) or all CPUs (ppc64).
</p>
</dd>
<dt><samp>ringbuf_write <var>device</var> <var>data</var></samp></dt>
<dd><a name="index-ringbuf_005fwrite"></a>
<p>Write <var>data</var> to ring buffer character device <var>device</var>.
<var>data</var> must be a UTF-8 string.
</p>
</dd>
<dt><samp>ringbuf_read <var>device</var></samp></dt>
<dd><a name="index-ringbuf_005fread"></a>
<p>Read and print up to <var>size</var> bytes from ring buffer character
device <var>device</var>.
Certain non-printable characters are printed \uXXXX, where XXXX is the
character code in hexadecimal.  Character \ is printed \.
Bug: can screw up when the buffer contains invalid UTF-8 sequences,
NUL characters, after the ring buffer lost data, and when reading
stops because the size limit is reached.
</p>
</dd>
<dt><samp>migrate [-d] [-b] [-i] <var>uri</var></samp></dt>
<dd><a name="index-migrate"></a>
<p>Migrate to <var>uri</var> (using -d to not wait for completion).
-b for migration with full copy of disk
-i for migration with incremental copy of disk (base image is shared)
</p></dd>
<dt><samp>migrate_cancel</samp></dt>
<dd><a name="index-migrate_005fcancel"></a>
<p>Cancel the current VM migration.
</p>
</dd>
<dt><samp>migrate_incoming <var>uri</var></samp></dt>
<dd><a name="index-migrate_005fincoming"></a>
<p>Continue an incoming migration using the <var>uri</var> (that has the same syntax
as the -incoming option).
</p>
</dd>
<dt><samp>migrate_set_cache_size <var>value</var></samp></dt>
<dd><a name="index-migrate_005fset_005fcache_005fsize"></a>
<p>Set cache size to <var>value</var> (in bytes) for xbzrle migrations.
</p></dd>
<dt><samp>migrate_set_speed <var>value</var></samp></dt>
<dd><a name="index-migrate_005fset_005fspeed"></a>
<p>Set maximum speed to <var>value</var> (in bytes) for migrations.
</p></dd>
<dt><samp>migrate_set_downtime <var>second</var></samp></dt>
<dd><a name="index-migrate_005fset_005fdowntime"></a>
<p>Set maximum tolerated downtime (in seconds) for migration.
</p></dd>
<dt><samp>migrate_set_capability <var>capability</var> <var>state</var></samp></dt>
<dd><a name="index-migrate_005fset_005fcapability"></a>
<p>Enable/Disable the usage of a capability <var>capability</var> for migration.
</p></dd>
<dt><samp>migrate_set_parameter <var>parameter</var> <var>value</var></samp></dt>
<dd><a name="index-migrate_005fset_005fparameter"></a>
<p>Set the parameter <var>parameter</var> for migration.
</p></dd>
<dt><samp>migrate_start_postcopy</samp></dt>
<dd><a name="index-migrate_005fstart_005fpostcopy"></a>
<p>Switch in-progress migration to postcopy mode. Ignored after the end of
migration (or once already in postcopy).
</p></dd>
<dt><samp>client_migrate_info <var>protocol</var> <var>hostname</var> <var>port</var> <var>tls-port</var> <var>cert-subject</var></samp></dt>
<dd><a name="index-client_005fmigrate_005finfo"></a>
<p>Set migration information for remote display.  This makes the server
ask the client to automatically reconnect using the new parameters
once migration finished successfully.  Only implemented for SPICE.
</p></dd>
<dt><samp>dump-guest-memory [-p] <var>filename</var> <var>begin</var> <var>length</var></samp></dt>
<dt><samp>dump-guest-memory [-z|-l|-s] <var>filename</var></samp></dt>
<dd><a name="index-dump_002dguest_002dmemory"></a>
<p>Dump guest memory to <var>protocol</var>. The file can be processed with crash or
gdb. Without -z|-l|-s, the dump format is ELF.
-p: do paging to get guest&rsquo;s memory mapping.
-z: dump in kdump-compressed format, with zlib compression.
-l: dump in kdump-compressed format, with lzo compression.
-s: dump in kdump-compressed format, with snappy compression.
filename: dump file name.
begin: the starting physical address. It&rsquo;s optional, and should be
specified together with length.
length: the memory size, in bytes. It&rsquo;s optional, and should be specified
together with begin.
</p></dd>
<dt><samp>dump-skeys <var>filename</var></samp></dt>
<dd><a name="index-dump_002dskeys"></a>
<p>Save guest storage keys to a file.
</p></dd>
<dt><samp>snapshot_blkdev</samp></dt>
<dd><a name="index-snapshot_005fblkdev"></a>
<p>Snapshot device, using snapshot file as target if provided
</p></dd>
<dt><samp>snapshot_blkdev_internal</samp></dt>
<dd><a name="index-snapshot_005fblkdev_005finternal"></a>
<p>Take an internal snapshot on device if it support
</p></dd>
<dt><samp>snapshot_delete_blkdev_internal</samp></dt>
<dd><a name="index-snapshot_005fdelete_005fblkdev_005finternal"></a>
<p>Delete an internal snapshot on device if it support
</p></dd>
<dt><samp>drive_mirror</samp></dt>
<dd><a name="index-drive_005fmirror"></a>
<p>Start mirroring a block device&rsquo;s writes to a new destination,
using the specified target.
</p></dd>
<dt><samp>drive_backup</samp></dt>
<dd><a name="index-drive_005fbackup"></a>
<p>Start a point-in-time copy of a block device to a specificed target.
</p></dd>
<dt><samp>drive_add</samp></dt>
<dd><a name="index-drive_005fadd"></a>
<p>Add drive to PCI storage controller.
</p></dd>
<dt><samp>pcie_aer_inject_error</samp></dt>
<dd><a name="index-pcie_005faer_005finject_005ferror"></a>
<p>Inject PCIe AER error
</p></dd>
<dt><samp>host_net_add</samp></dt>
<dd><a name="index-host_005fnet_005fadd"></a>
<p>Add host VLAN client.
</p></dd>
<dt><samp>host_net_remove</samp></dt>
<dd><a name="index-host_005fnet_005fremove"></a>
<p>Remove host VLAN client.
</p></dd>
<dt><samp>netdev_add</samp></dt>
<dd><a name="index-netdev_005fadd"></a>
<p>Add host network device.
</p></dd>
<dt><samp>netdev_del</samp></dt>
<dd><a name="index-netdev_005fdel"></a>
<p>Remove host network device.
</p></dd>
<dt><samp>object_add</samp></dt>
<dd><a name="index-object_005fadd"></a>
<p>Create QOM object.
</p></dd>
<dt><samp>object_del</samp></dt>
<dd><a name="index-object_005fdel"></a>
<p>Destroy QOM object.
</p></dd>
<dt><samp>hostfwd_add</samp></dt>
<dd><a name="index-hostfwd_005fadd"></a>
<p>Redirect TCP or UDP connections from host to guest (requires -net user).
</p></dd>
<dt><samp>hostfwd_remove</samp></dt>
<dd><a name="index-hostfwd_005fremove"></a>
<p>Remove host-to-guest TCP or UDP redirection.
</p></dd>
<dt><samp>balloon <var>value</var></samp></dt>
<dd><a name="index-balloon"></a>
<p>Request VM to change its memory allocation to <var>value</var> (in MB).
</p></dd>
<dt><samp>set_link <var>name</var> [on|off]</samp></dt>
<dd><a name="index-set_005flink"></a>
<p>Switch link <var>name</var> on (i.e. up) or off (i.e. down).
</p></dd>
<dt><samp>watchdog_action</samp></dt>
<dd><a name="index-watchdog_005faction"></a>
<p>Change watchdog action.
</p></dd>
<dt><samp>acl_show <var>aclname</var></samp></dt>
<dd><a name="index-acl_005fshow"></a>
<p>List all the matching rules in the access control list, and the default
policy. There are currently two named access control lists,
<var>vnc.x509dname</var> and <var>vnc.username</var> matching on the x509 client
certificate distinguished name, and SASL username respectively.
</p></dd>
<dt><samp>acl_policy <var>aclname</var> <code>allow|deny</code></samp></dt>
<dd><a name="index-acl_005fpolicy"></a>
<p>Set the default access control list policy, used in the event that
none of the explicit rules match. The default policy at startup is
always <code>deny</code>.
</p></dd>
<dt><samp>acl_add <var>aclname</var> <var>match</var> <code>allow|deny</code> [<var>index</var>]</samp></dt>
<dd><a name="index-acl_005fadd"></a>
<p>Add a match rule to the access control list, allowing or denying access.
The match will normally be an exact username or x509 distinguished name,
but can optionally include wildcard globs. eg <code>*@EXAMPLE.COM</code> to
allow all users in the <code>EXAMPLE.COM</code> kerberos realm. The match will
normally be appended to the end of the ACL, but can be inserted
earlier in the list if the optional <var>index</var> parameter is supplied.
</p></dd>
<dt><samp>acl_remove <var>aclname</var> <var>match</var></samp></dt>
<dd><a name="index-acl_005fremove"></a>
<p>Remove the specified match rule from the access control list.
</p></dd>
<dt><samp>acl_reset <var>aclname</var></samp></dt>
<dd><a name="index-acl_005freset"></a>
<p>Remove all matches from the access control list, and set the default
policy back to <code>deny</code>.
</p></dd>
<dt><samp>nbd_server_start <var>host</var>:<var>port</var></samp></dt>
<dd><a name="index-nbd_005fserver_005fstart"></a>
<p>Start an NBD server on the given host and/or port.  If the <samp>-a</samp>
option is included, all of the virtual machine&rsquo;s block devices that
have an inserted media on them are automatically exported; in this case,
the <samp>-w</samp> option makes the devices writable too.
</p></dd>
<dt><samp>nbd_server_add <var>device</var></samp></dt>
<dd><a name="index-nbd_005fserver_005fadd"></a>
<p>Export a block device through QEMU&rsquo;s NBD server, which must be started
beforehand with <code>nbd_server_start</code>.  The <samp>-w</samp> option makes the
exported device writable too.
</p></dd>
<dt><samp>nbd_server_stop</samp></dt>
<dd><a name="index-nbd_005fserver_005fstop"></a>
<p>Stop the QEMU embedded NBD server.
</p></dd>
<dt><samp>mce <var>cpu</var> <var>bank</var> <var>status</var> <var>mcgstatus</var> <var>addr</var> <var>misc</var></samp></dt>
<dd><a name="index-mce-_0028x86_0029"></a>
<p>Inject an MCE on the given CPU (x86 only).
</p></dd>
<dt><samp>getfd <var>fdname</var></samp></dt>
<dd><a name="index-getfd"></a>
<p>If a file descriptor is passed alongside this command using the SCM_RIGHTS
mechanism on unix sockets, it is stored using the name <var>fdname</var> for
later use by other monitor commands.
</p></dd>
<dt><samp>closefd <var>fdname</var></samp></dt>
<dd><a name="index-closefd"></a>
<p>Close the file descriptor previously assigned to <var>fdname</var> using the
<code>getfd</code> command. This is only needed if the file descriptor was never
used by another monitor command.
</p></dd>
<dt><samp>block_passwd <var>device</var> <var>password</var></samp></dt>
<dd><a name="index-block_005fpasswd"></a>
<p>Set the encrypted device <var>device</var> password to <var>password</var>
</p></dd>
<dt><samp>block_set_io_throttle <var>device</var> <var>bps</var> <var>bps_rd</var> <var>bps_wr</var> <var>iops</var> <var>iops_rd</var> <var>iops_wr</var></samp></dt>
<dd><a name="index-block_005fset_005fio_005fthrottle"></a>
<p>Change I/O throttle limits for a block drive to <var>bps</var> <var>bps_rd</var> <var>bps_wr</var> <var>iops</var> <var>iops_rd</var> <var>iops_wr</var>
</p></dd>
<dt><samp>set_password [ vnc | spice ] password [ action-if-connected ]</samp></dt>
<dd><a name="index-set_005fpassword"></a>
<p>Change spice/vnc password.  Use zero to make the password stay valid
forever.  <var>action-if-connected</var> specifies what should happen in
case a connection is established: <var>fail</var> makes the password change
fail.  <var>disconnect</var> changes the password and disconnects the
client.  <var>keep</var> changes the password and keeps the connection up.
<var>keep</var> is the default.
</p></dd>
<dt><samp>expire_password [ vnc | spice ] expire-time</samp></dt>
<dd><a name="index-expire_005fpassword"></a>
<p>Specify when a password for spice/vnc becomes
invalid. <var>expire-time</var> accepts:
</p>
<dl compact="compact">
<dt><var>now</var></dt>
<dd><p>Invalidate password instantly.
</p>
</dd>
<dt><var>never</var></dt>
<dd><p>Password stays valid forever.
</p>
</dd>
<dt><var>+nsec</var></dt>
<dd><p>Password stays valid for <var>nsec</var> seconds starting now.
</p>
</dd>
<dt><var>nsec</var></dt>
<dd><p>Password is invalidated at the given time.  <var>nsec</var> are the seconds
passed since 1970, i.e. unix epoch.
</p>
</dd>
</dl>
</dd>
<dt><samp>chardev-add args</samp></dt>
<dd><a name="index-chardev_002dadd"></a>
<p>chardev_add accepts the same parameters as the -chardev command line switch.
</p>
</dd>
<dt><samp>chardev-remove id</samp></dt>
<dd><a name="index-chardev_002dremove"></a>
<p>Removes the chardev <var>id</var>.
</p>
</dd>
<dt><samp>qemu-io <var>device</var> <var>command</var></samp></dt>
<dd><a name="index-qemu_002dio"></a>
<p>Executes a qemu-io command on the given block device.
</p>
</dd>
<dt><samp>cpu-add <var>id</var></samp></dt>
<dd><a name="index-cpu_002dadd"></a>
<p>Add CPU with id <var>id</var>
</p></dd>
<dt><samp>qom-list [<var>path</var>]</samp></dt>
<dd><p>Print QOM properties of object at location <var>path</var>
</p></dd>
<dt><samp>qom-set <var>path</var> <var>property</var> <var>value</var></samp></dt>
<dd><p>Set QOM property <var>property</var> of object at location <var>path</var> to value <var>value</var>
</p></dd>
</dl>

<dl compact="compact">
<dt><samp>info <var>subcommand</var></samp></dt>
<dd><a name="index-info"></a>
<p>Show various information about the system state.
</p><dl compact="compact">
<dt><samp>info version</samp></dt>
<dd><a name="index-version"></a>
<p>Show the version of QEMU.
</p></dd>
<dt><samp>info network</samp></dt>
<dd><a name="index-network"></a>
<p>Show the network state.
</p></dd>
<dt><samp>info chardev</samp></dt>
<dd><a name="index-chardev"></a>
<p>Show the character devices.
</p></dd>
<dt><samp>info block</samp></dt>
<dd><a name="index-block"></a>
<p>Show info of one block device or all block devices.
</p></dd>
<dt><samp>info blockstats</samp></dt>
<dd><a name="index-blockstats"></a>
<p>Show block device statistics.
</p></dd>
<dt><samp>info block-jobs</samp></dt>
<dd><a name="index-block_002djobs"></a>
<p>Show progress of ongoing block device operations.
</p></dd>
<dt><samp>info registers</samp></dt>
<dd><a name="index-registers"></a>
<p>Show the cpu registers.
</p></dd>
<dt><samp>info lapic</samp></dt>
<dd><a name="index-lapic"></a>
<p>Show local APIC state
</p></dd>
<dt><samp>info ioapic</samp></dt>
<dd><a name="index-ioapic"></a>
<p>Show io APIC state
</p></dd>
<dt><samp>info cpus</samp></dt>
<dd><a name="index-cpus"></a>
<p>Show infos for each CPU.
</p></dd>
<dt><samp>info history</samp></dt>
<dd><a name="index-history"></a>
<p>Show the command line history.
</p></dd>
<dt><samp>info irq</samp></dt>
<dd><a name="index-irq"></a>
<p>Show the interrupts statistics (if available).
</p></dd>
<dt><samp>info pic</samp></dt>
<dd><a name="index-pic"></a>
<p>Show i8259 (PIC) state.
</p></dd>
<dt><samp>info pci</samp></dt>
<dd><a name="index-pci"></a>
<p>Show PCI information.
</p></dd>
<dt><samp>info tlb</samp></dt>
<dd><a name="index-tlb"></a>
<p>Show virtual to physical memory mappings.
</p></dd>
<dt><samp>info mem</samp></dt>
<dd><a name="index-mem"></a>
<p>Show the active virtual memory mappings.
</p></dd>
<dt><samp>info mtree</samp></dt>
<dd><a name="index-mtree"></a>
<p>Show memory tree.
</p></dd>
<dt><samp>info jit</samp></dt>
<dd><a name="index-jit"></a>
<p>Show dynamic compiler info.
</p></dd>
<dt><samp>info opcount</samp></dt>
<dd><a name="index-opcount"></a>
<p>Show dynamic compiler opcode counters
</p></dd>
<dt><samp>info kvm</samp></dt>
<dd><a name="index-kvm"></a>
<p>Show KVM information.
</p></dd>
<dt><samp>info numa</samp></dt>
<dd><a name="index-numa"></a>
<p>Show NUMA information.
</p></dd>
<dt><samp>info usb</samp></dt>
<dd><a name="index-usb"></a>
<p>Show guest USB devices.
</p></dd>
<dt><samp>info usbhost</samp></dt>
<dd><a name="index-usbhost"></a>
<p>Show host USB devices.
</p></dd>
<dt><samp>info profile</samp></dt>
<dd><a name="index-profile"></a>
<p>Show profiling information.
</p></dd>
<dt><samp>info capture</samp></dt>
<dd><a name="index-capture"></a>
<p>Show capture information.
</p></dd>
<dt><samp>info snapshots</samp></dt>
<dd><a name="index-snapshots"></a>
<p>Show the currently saved VM snapshots.
</p></dd>
<dt><samp>info status</samp></dt>
<dd><a name="index-status"></a>
<p>Show the current VM status (running|paused).
</p></dd>
<dt><samp>info mice</samp></dt>
<dd><a name="index-mice"></a>
<p>Show which guest mouse is receiving events.
</p></dd>
<dt><samp>info vnc</samp></dt>
<dd><a name="index-vnc"></a>
<p>Show the vnc server status.
</p></dd>
<dt><samp>info spice</samp></dt>
<dd><a name="index-spice"></a>
<p>Show the spice server status.
</p></dd>
<dt><samp>info name</samp></dt>
<dd><a name="index-name"></a>
<p>Show the current VM name.
</p></dd>
<dt><samp>info uuid</samp></dt>
<dd><a name="index-uuid"></a>
<p>Show the current VM UUID.
</p></dd>
<dt><samp>info cpustats</samp></dt>
<dd><a name="index-cpustats"></a>
<p>Show CPU statistics.
</p></dd>
<dt><samp>info usernet</samp></dt>
<dd><a name="index-usernet"></a>
<p>Show user network stack connection states.
</p></dd>
<dt><samp>info migrate</samp></dt>
<dd><a name="index-migrate-1"></a>
<p>Show migration status.
</p></dd>
<dt><samp>info migrate_capabilities</samp></dt>
<dd><a name="index-migrate_005fcapabilities"></a>
<p>Show current migration capabilities.
</p></dd>
<dt><samp>info migrate_parameters</samp></dt>
<dd><a name="index-migrate_005fparameters"></a>
<p>Show current migration parameters.
</p></dd>
<dt><samp>info migrate_cache_size</samp></dt>
<dd><a name="index-migrate_005fcache_005fsize"></a>
<p>Show current migration xbzrle cache size.
</p></dd>
<dt><samp>info balloon</samp></dt>
<dd><a name="index-balloon-1"></a>
<p>Show balloon information.
</p></dd>
<dt><samp>info qtree</samp></dt>
<dd><a name="index-qtree"></a>
<p>Show device tree.
</p></dd>
<dt><samp>info qdm</samp></dt>
<dd><a name="index-qdm"></a>
<p>Show qdev device model list.
</p></dd>
<dt><samp>info qom-tree</samp></dt>
<dd><a name="index-qom_002dtree"></a>
<p>Show QOM composition tree.
</p></dd>
<dt><samp>info roms</samp></dt>
<dd><a name="index-roms"></a>
<p>Show roms.
</p></dd>
<dt><samp>info trace-events</samp></dt>
<dd><a name="index-trace_002devents"></a>
<p>Show available trace-events &amp; their state.
</p></dd>
<dt><samp>info tpm</samp></dt>
<dd><a name="index-tpm"></a>
<p>Show the TPM device.
</p></dd>
<dt><samp>info memdev</samp></dt>
<dd><a name="index-memdev"></a>
<p>Show memory backends
</p></dd>
<dt><samp>info memory-devices</samp></dt>
<dd><a name="index-memory_002ddevices"></a>
<p>Show memory devices.
</p></dd>
<dt><samp>info iothreads</samp></dt>
<dd><a name="index-iothreads"></a>
<p>Show iothread&rsquo;s identifiers.
</p></dd>
<dt><samp>info rocker <var>name</var></samp></dt>
<dd><a name="index-rocker"></a>
<p>Show rocker switch.
</p></dd>
<dt><samp>info rocker_ports <var>name</var>-ports</samp></dt>
<dd><a name="index-ocker_002dports"></a>
<p>Show rocker ports.
</p></dd>
<dt><samp>info rocker_of_dpa_flows <var>name</var> [<var>tbl_id</var>]</samp></dt>
<dd><a name="index-rocker_002dof_002ddpa_002dflows"></a>
<p>Show rocker OF-DPA flow tables.
</p></dd>
<dt><samp>info rocker-of-dpa-groups <var>name</var> [<var>type</var>]</samp></dt>
<dd><a name="index-rocker_002dof_002ddpa_002dgroups"></a>
<p>Show rocker OF-DPA groups.
</p></dd>
<dt><samp>info skeys <var>address</var></samp></dt>
<dd><a name="index-skeys"></a>
<p>Display the value of a storage key (s390 only)
</p></dd>
<dt><samp>info dump</samp></dt>
<dd><a name="index-dump"></a>
<p>Display the latest dump status.
</p></dd>
<dt><samp>info hotpluggable-cpus</samp></dt>
<dd><a name="index-hotpluggable_002dcpus"></a>
<p>Show information about hotpluggable CPUs
</p></dd>
</dl>
</dd>
</dl>

<a name="Integer-expressions"></a>
<h4 class="subsection">3.6.2 Integer expressions</h4>

<p>The monitor understands integers expressions for every integer
argument. You can use register names to get the value of specifics
CPU registers by prefixing them with <em>$</em>.
</p>
<hr>
<a name="disk_005fimages"></a>
<a name="Disk-Images"></a>
<h3 class="section">3.7 Disk Images</h3>

<p>Since version 0.6.1, QEMU supports many disk image formats, including
growable disk images (their size increase as non empty sectors are
written), compressed and encrypted disk images. Version 0.8.3 added
the new qcow2 disk image format which is essential to support VM
snapshots.
</p>

<hr>
<a name="disk_005fimages_005fquickstart"></a>
<a name="Quick-start-for-disk-image-creation"></a>
<h4 class="subsection">3.7.1 Quick start for disk image creation</h4>

<p>You can create a disk image with the command:
</p><div class="example">
<pre class="example">qemu-img create myimage.img mysize
</pre></div>
<p>where <var>myimage.img</var> is the disk image filename and <var>mysize</var> is its
size in kilobytes. You can add an <code>M</code> suffix to give the size in
megabytes and a <code>G</code> suffix for gigabytes.
</p>
<p>See <a href="#qemu_005fimg_005finvocation">qemu_img_invocation</a> for more information.
</p>
<hr>
<a name="disk_005fimages_005fsnapshot_005fmode"></a>
<a name="Snapshot-mode"></a>
<h4 class="subsection">3.7.2 Snapshot mode</h4>

<p>If you use the option <samp>-snapshot</samp>, all disk images are
considered as read only. When sectors in written, they are written in
a temporary file created in <samp>/tmp</samp>. You can however force the
write back to the raw disk images by using the <code>commit</code> monitor
command (or <tt class="key">C-a s</tt> in the serial console).
</p>
<hr>
<a name="vm_005fsnapshots"></a>
<a name="VM-snapshots"></a>
<h4 class="subsection">3.7.3 VM snapshots</h4>

<p>VM snapshots are snapshots of the complete virtual machine including
CPU state, RAM, device state and the content of all the writable
disks. In order to use VM snapshots, you must have at least one non
removable and writable block device using the <code>qcow2</code> disk image
format. Normally this device is the first virtual hard drive.
</p>
<p>Use the monitor command <code>savevm</code> to create a new VM snapshot or
replace an existing one. A human readable name can be assigned to each
snapshot in addition to its numerical ID.
</p>
<p>Use <code>loadvm</code> to restore a VM snapshot and <code>delvm</code> to remove
a VM snapshot. <code>info snapshots</code> lists the available snapshots
with their associated information:
</p>
<div class="example">
<pre class="example">(qemu) info snapshots
Snapshot devices: hda
Snapshot list (from hda):
ID        TAG                 VM SIZE                DATE       VM CLOCK
1         start                   41M 2006-08-06 12:38:02   00:00:14.954
2                                 40M 2006-08-06 12:43:29   00:00:18.633
3         msys                    40M 2006-08-06 12:44:04   00:00:23.514
</pre></div>

<p>A VM snapshot is made of a VM state info (its size is shown in
<code>info snapshots</code>) and a snapshot of every writable disk image.
The VM state info is stored in the first <code>qcow2</code> non removable
and writable block device. The disk image snapshots are stored in
every disk image. The size of a snapshot in a disk image is difficult
to evaluate and is not shown by <code>info snapshots</code> because the
associated disk sectors are shared among all the snapshots to save
disk space (otherwise each snapshot would need a full copy of all the
disk images).
</p>
<p>When using the (unrelated) <code>-snapshot</code> option
(<a href="#disk_005fimages_005fsnapshot_005fmode">disk_images_snapshot_mode</a>), you can always make VM snapshots,
but they are deleted as soon as you exit QEMU.
</p>
<p>VM snapshots currently have the following known limitations:
</p><ul>
<li> They cannot cope with removable devices if they are removed or
inserted after a snapshot is done.
</li><li> A few device drivers still have incomplete snapshot support so their
state is not saved or restored properly (in particular USB).
</li></ul>

<hr>
<a name="qemu_005fimg_005finvocation"></a>
<a name="qemu_002dimg-Invocation"></a>
<h4 class="subsection">3.7.4 <code>qemu-img</code> Invocation</h4>

<div class="example">
<pre class="example"><code>qemu-img</code> [<var>standard</var> <var>options</var>] <var>command</var> [<var>command</var> <var>options</var>]
</pre></div>

<p>qemu-img allows you to create, convert and modify images offline. It can handle
all image formats supported by QEMU.
</p>
<p><b>Warning:</b> Never use qemu-img to modify images in use by a running virtual
machine or any other process; this may destroy the image. Also, be aware that
querying an image that is being modified by another process may encounter
inconsistent state.
</p>

<p>Standard options:
</p><dl compact="compact">
<dt><samp>-h, --help</samp></dt>
<dd><p>Display this help and exit
</p></dd>
<dt><samp>-V, --version</samp></dt>
<dd><p>Display version information and exit
</p></dd>
<dt><samp>-T, --trace [[enable=]<var>pattern</var>][,events=<var>file</var>][,file=<var>file</var>]</samp></dt>
<dd><a name="index-_002d_002dtrace"></a>
<p>Specify tracing options.
</p>
<dl compact="compact">
<dt><samp>[enable=]<var>pattern</var></samp></dt>
<dd><p>Immediately enable events matching <var>pattern</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var>
or <var>ftrace</var> tracing backend.  To specify multiple events or patterns,
specify the <samp>-trace</samp> option multiple times.
</p>
<p>Use <code>-trace help</code> to print a list of names of trace points.
</p>
</dd>
<dt><samp>events=<var>file</var></samp></dt>
<dd><p>Immediately enable events listed in <var>file</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var> or
<var>ftrace</var> tracing backend.
</p>
</dd>
<dt><samp>file=<var>file</var></samp></dt>
<dd><p>Log output traces to <var>file</var>.
This option is only available if QEMU has been compiled with
the <var>simple</var> tracing backend.
</p></dd>
</dl>
</dd>
</dl>

<p>The following commands are supported:
</p>
<dl compact="compact">
<dt><samp>bench [-c <var>count</var>] [-d <var>depth</var>] [-f <var>fmt</var>] [--flush-interval=<var>flush_interval</var>] [-n] [--no-drain] [-o <var>offset</var>] [--pattern=<var>pattern</var>] [-q] [-s <var>buffer_size</var>] [-S <var>step_size</var>] [-t <var>cache</var>] [-w] <var>filename</var></samp></dt>
<dt><samp>check [--object <var>objectdef</var>] [--image-opts] [-q] [-f <var>fmt</var>] [--output=<var>ofmt</var>] [-r [leaks | all]] [-T <var>src_cache</var>] <var>filename</var></samp></dt>
<dt><samp>create [--object <var>objectdef</var>] [--image-opts] [-q] [-f <var>fmt</var>] [-o <var>options</var>] <var>filename</var> [<var>size</var>]</samp></dt>
<dt><samp>commit [--object <var>objectdef</var>] [--image-opts] [-q] [-f <var>fmt</var>] [-t <var>cache</var>] [-b <var>base</var>] [-d] [-p] <var>filename</var></samp></dt>
<dt><samp>compare [--object <var>objectdef</var>] [--image-opts] [-f <var>fmt</var>] [-F <var>fmt</var>] [-T <var>src_cache</var>] [-p] [-q] [-s] <var>filename1</var> <var>filename2</var></samp></dt>
<dt><samp>convert [--object <var>objectdef</var>] [--image-opts] [-c] [-p] [-q] [-n] [-f <var>fmt</var>] [-t <var>cache</var>] [-T <var>src_cache</var>] [-O <var>output_fmt</var>] [-o <var>options</var>] [-s <var>snapshot_id_or_name</var>] [-l <var>snapshot_param</var>] [-S <var>sparse_size</var>] <var>filename</var> [<var>filename2</var> [...]] <var>output_filename</var></samp></dt>
<dt><samp>info [--object <var>objectdef</var>] [--image-opts] [-f <var>fmt</var>] [--output=<var>ofmt</var>] [--backing-chain] <var>filename</var></samp></dt>
<dt><samp>map [--object <var>objectdef</var>] [--image-opts] [-f <var>fmt</var>] [--output=<var>ofmt</var>] <var>filename</var></samp></dt>
<dt><samp>snapshot [--object <var>objectdef</var>] [--image-opts] [-q] [-l | -a <var>snapshot</var> | -c <var>snapshot</var> | -d <var>snapshot</var>] <var>filename</var></samp></dt>
<dt><samp>rebase [--object <var>objectdef</var>] [--image-opts] [-q] [-f <var>fmt</var>] [-t <var>cache</var>] [-T <var>src_cache</var>] [-p] [-u] -b <var>backing_file</var> [-F <var>backing_fmt</var>] <var>filename</var></samp></dt>
<dt><samp>resize [--object <var>objectdef</var>] [--image-opts] [-q] <var>filename</var> [+ | -]<var>size</var></samp></dt>
<dt><samp>amend [--object <var>objectdef</var>] [--image-opts] [-p] [-q] [-f <var>fmt</var>] [-t <var>cache</var>] -o <var>options</var> <var>filename</var></samp></dt>
</dl>

<p>Command parameters:
</p><dl compact="compact">
<dt><var>filename</var></dt>
<dd><p>is a disk image filename
</p>
</dd>
<dt><var>&ndash;object <var>objectdef</var></var></dt>
<dd>
<p>is a QEMU user creatable object definition. See the <code>qemu(1)</code> manual
page for a description of the object properties. The most common object
type is a <code>secret</code>, which is used to supply passwords and/or encryption
keys.
</p>
</dd>
<dt><var>&ndash;image-opts</var></dt>
<dd>
<p>Indicates that the <var>filename</var> parameter is to be interpreted as a
full option string, not a plain filename. This parameter is mutually
exclusive with the <var>-f</var> and <var>-F</var> parameters.
</p>
</dd>
<dt><var>fmt</var></dt>
<dd><p>is the disk image format. It is guessed automatically in most cases. See below
for a description of the supported disk formats.
</p>
</dd>
<dt><var>&ndash;backing-chain</var></dt>
<dd><p>will enumerate information about backing files in a disk image chain. Refer
below for further description.
</p>
</dd>
<dt><var>size</var></dt>
<dd><p>is the disk image size in bytes. Optional suffixes <code>k</code> or <code>K</code>
(kilobyte, 1024) <code>M</code> (megabyte, 1024k) and <code>G</code> (gigabyte, 1024M)
and T (terabyte, 1024G) are supported.  <code>b</code> is ignored.
</p>
</dd>
<dt><var>output_filename</var></dt>
<dd><p>is the destination disk image filename
</p>
</dd>
<dt><var>output_fmt</var></dt>
<dd><p>is the destination format
</p></dd>
<dt><var>options</var></dt>
<dd><p>is a comma separated list of format specific options in a
name=value format. Use <code>-o ?</code> for an overview of the options supported
by the used format or see the format descriptions below for details.
</p></dd>
<dt><var>snapshot_param</var></dt>
<dd><p>is param used for internal snapshot, format is
&rsquo;snapshot.id=[ID],snapshot.name=[NAME]&rsquo; or &rsquo;[ID_OR_NAME]&rsquo;
</p></dd>
<dt><var>snapshot_id_or_name</var></dt>
<dd><p>is deprecated, use snapshot_param instead
</p>
</dd>
<dt><var>-c</var></dt>
<dd><p>indicates that target image must be compressed (qcow format only)
</p></dd>
<dt><var>-h</var></dt>
<dd><p>with or without a command shows help and lists the supported formats
</p></dd>
<dt><var>-p</var></dt>
<dd><p>display progress bar (compare, convert and rebase commands only).
If the <var>-p</var> option is not used for a command that supports it, the
progress is reported when the process receives a <code>SIGUSR1</code> signal.
</p></dd>
<dt><var>-q</var></dt>
<dd><p>Quiet mode - do not print any output (except errors). There&rsquo;s no progress bar
in case both <var>-q</var> and <var>-p</var> options are used.
</p></dd>
<dt><var>-S <var>size</var></var></dt>
<dd><p>indicates the consecutive number of bytes that must contain only zeros
for qemu-img to create a sparse image during conversion. This value is rounded
down to the nearest 512 bytes. You may use the common size suffixes like
<code>k</code> for kilobytes.
</p></dd>
<dt><var>-t <var>cache</var></var></dt>
<dd><p>specifies the cache mode that should be used with the (destination) file. See
the documentation of the emulator&rsquo;s <code>-drive cache=...</code> option for allowed
values.
</p></dd>
<dt><var>-T <var>src_cache</var></var></dt>
<dd><p>specifies the cache mode that should be used with the source file(s). See
the documentation of the emulator&rsquo;s <code>-drive cache=...</code> option for allowed
values.
</p></dd>
</dl>

<p>Parameters to snapshot subcommand:
</p>
<dl compact="compact">
<dt><samp>snapshot</samp></dt>
<dd><p>is the name of the snapshot to create, apply or delete
</p></dd>
<dt><samp>-a</samp></dt>
<dd><p>applies a snapshot (revert disk to saved state)
</p></dd>
<dt><samp>-c</samp></dt>
<dd><p>creates a snapshot
</p></dd>
<dt><samp>-d</samp></dt>
<dd><p>deletes a snapshot
</p></dd>
<dt><samp>-l</samp></dt>
<dd><p>lists all snapshots in the given image
</p></dd>
</dl>

<p>Parameters to compare subcommand:
</p>
<dl compact="compact">
<dt><samp>-f</samp></dt>
<dd><p>First image format
</p></dd>
<dt><samp>-F</samp></dt>
<dd><p>Second image format
</p></dd>
<dt><samp>-s</samp></dt>
<dd><p>Strict mode - fail on different image size or sector allocation
</p></dd>
</dl>

<p>Parameters to convert subcommand:
</p>
<dl compact="compact">
<dt><samp>-n</samp></dt>
<dd><p>Skip the creation of the target volume
</p></dd>
</dl>

<p>Command description:
</p>
<dl compact="compact">
<dt><samp>bench [-c <var>count</var>] [-d <var>depth</var>] [-f <var>fmt</var>] [--flush-interval=<var>flush_interval</var>] [-n] [--no-drain] [-o <var>offset</var>] [--pattern=<var>pattern</var>] [-q] [-s <var>buffer_size</var>] [-S <var>step_size</var>] [-t <var>cache</var>] [-w] <var>filename</var></samp></dt>
<dd>
<p>Run a simple sequential I/O benchmark on the specified image. If <code>-w</code> is
specified, a write test is performed, otherwise a read test is performed.
</p>
<p>A total number of <var>count</var> I/O requests is performed, each <var>buffer_size</var>
bytes in size, and with <var>depth</var> requests in parallel. The first request
starts at the position given by <var>offset</var>, each following request increases
the current position by <var>step_size</var>. If <var>step_size</var> is not given,
<var>buffer_size</var> is used for its value.
</p>
<p>If <var>flush_interval</var> is specified for a write test, the request queue is
drained and a flush is issued before new writes are made whenever the number of
remaining requests is a multiple of <var>flush_interval</var>. If additionally
<code>--no-drain</code> is specified, a flush is issued without draining the request
queue first.
</p>
<p>If <code>-n</code> is specified, the native AIO backend is used if possible. On
Linux, this option only works if <code>-t none</code> or <code>-t directsync</code> is
specified as well.
</p>
<p>For write tests, by default a buffer filled with zeros is written. This can be
overridden with a pattern byte specified by <var>pattern</var>.
</p>
</dd>
<dt><samp>check [-f <var>fmt</var>] [--output=<var>ofmt</var>] [-r [leaks | all]] [-T <var>src_cache</var>] <var>filename</var></samp></dt>
<dd>
<p>Perform a consistency check on the disk image <var>filename</var>. The command can
output in the format <var>ofmt</var> which is either <code>human</code> or <code>json</code>.
</p>
<p>If <code>-r</code> is specified, qemu-img tries to repair any inconsistencies found
during the check. <code>-r leaks</code> repairs only cluster leaks, whereas
<code>-r all</code> fixes all kinds of errors, with a higher risk of choosing the
wrong fix or hiding corruption that has already occurred.
</p>
<p>Only the formats <code>qcow2</code>, <code>qed</code> and <code>vdi</code> support
consistency checks.
</p>
<p>In case the image does not have any inconsistencies, check exits with <code>0</code>.
Other exit codes indicate the kind of inconsistency found or if another error
occurred. The following table summarizes all exit codes of the check subcommand:
</p>
<dl compact="compact">
<dt><samp>0</samp></dt>
<dd><p>Check completed, the image is (now) consistent
</p></dd>
<dt><samp>1</samp></dt>
<dd><p>Check not completed because of internal errors
</p></dd>
<dt><samp>2</samp></dt>
<dd><p>Check completed, image is corrupted
</p></dd>
<dt><samp>3</samp></dt>
<dd><p>Check completed, image has leaked clusters, but is not corrupted
</p></dd>
<dt><samp>63</samp></dt>
<dd><p>Checks are not supported by the image format
</p>
</dd>
</dl>

<p>If <code>-r</code> is specified, exit codes representing the image state refer to the
state after (the attempt at) repairing it. That is, a successful <code>-r all</code>
will yield the exit code 0, independently of the image state before.
</p>
</dd>
<dt><samp>create [-f <var>fmt</var>] [-o <var>options</var>] <var>filename</var> [<var>size</var>]</samp></dt>
<dd>
<p>Create the new disk image <var>filename</var> of size <var>size</var> and format
<var>fmt</var>. Depending on the file format, you can add one or more <var>options</var>
that enable additional features of this format.
</p>
<p>If the option <var>backing_file</var> is specified, then the image will record
only the differences from <var>backing_file</var>. No size needs to be specified in
this case. <var>backing_file</var> will never be modified unless you use the
<code>commit</code> monitor command (or qemu-img commit).
</p>
<p>The size can also be specified using the <var>size</var> option with <code>-o</code>,
it doesn&rsquo;t need to be specified separately in this case.
</p>
</dd>
<dt><samp>commit [-q] [-f <var>fmt</var>] [-t <var>cache</var>] [-b <var>base</var>] [-d] [-p] <var>filename</var></samp></dt>
<dd>
<p>Commit the changes recorded in <var>filename</var> in its base image or backing file.
If the backing file is smaller than the snapshot, then the backing file will be
resized to be the same size as the snapshot.  If the snapshot is smaller than
the backing file, the backing file will not be truncated.  If you want the
backing file to match the size of the smaller snapshot, you can safely truncate
it yourself once the commit operation successfully completes.
</p>
<p>The image <var>filename</var> is emptied after the operation has succeeded. If you do
not need <var>filename</var> afterwards and intend to drop it, you may skip emptying
<var>filename</var> by specifying the <code>-d</code> flag.
</p>
<p>If the backing chain of the given image file <var>filename</var> has more than one
layer, the backing file into which the changes will be committed may be
specified as <var>base</var> (which has to be part of <var>filename</var>&rsquo;s backing
chain). If <var>base</var> is not specified, the immediate backing file of the top
image (which is <var>filename</var>) will be used. For reasons of consistency,
explicitly specifying <var>base</var> will always imply <code>-d</code> (since emptying an
image after committing to an indirect backing file would lead to different data
being read from the image due to content in the intermediate backing chain
overruling the commit target).
</p>
</dd>
<dt><samp>compare [-f <var>fmt</var>] [-F <var>fmt</var>] [-T <var>src_cache</var>] [-p] [-s] [-q] <var>filename1</var> <var>filename2</var></samp></dt>
<dd>
<p>Check if two images have the same content. You can compare images with
different format or settings.
</p>
<p>The format is probed unless you specify it by <var>-f</var> (used for
<var>filename1</var>) and/or <var>-F</var> (used for <var>filename2</var>) option.
</p>
<p>By default, images with different size are considered identical if the larger
image contains only unallocated and/or zeroed sectors in the area after the end
of the other image. In addition, if any sector is not allocated in one image
and contains only zero bytes in the second one, it is evaluated as equal. You
can use Strict mode by specifying the <var>-s</var> option. When compare runs in
Strict mode, it fails in case image size differs or a sector is allocated in
one image and is not allocated in the second one.
</p>
<p>By default, compare prints out a result message. This message displays
information that both images are same or the position of the first different
byte. In addition, result message can report different image size in case
Strict mode is used.
</p>
<p>Compare exits with <code>0</code> in case the images are equal and with <code>1</code>
in case the images differ. Other exit codes mean an error occurred during
execution and standard error output should contain an error message.
The following table sumarizes all exit codes of the compare subcommand:
</p>
<dl compact="compact">
<dt><samp>0</samp></dt>
<dd><p>Images are identical
</p></dd>
<dt><samp>1</samp></dt>
<dd><p>Images differ
</p></dd>
<dt><samp>2</samp></dt>
<dd><p>Error on opening an image
</p></dd>
<dt><samp>3</samp></dt>
<dd><p>Error on checking a sector allocation
</p></dd>
<dt><samp>4</samp></dt>
<dd><p>Error on reading data
</p>
</dd>
</dl>

</dd>
<dt><samp>convert [-c] [-p] [-n] [-f <var>fmt</var>] [-t <var>cache</var>] [-T <var>src_cache</var>] [-O <var>output_fmt</var>] [-o <var>options</var>] [-s <var>snapshot_id_or_name</var>] [-l <var>snapshot_param</var>] [-S <var>sparse_size</var>] <var>filename</var> [<var>filename2</var> [...]] <var>output_filename</var></samp></dt>
<dd>
<p>Convert the disk image <var>filename</var> or a snapshot <var>snapshot_param</var>(<var>snapshot_id_or_name</var> is deprecated)
to disk image <var>output_filename</var> using format <var>output_fmt</var>. It can be optionally compressed (<code>-c</code>
option) or use any format specific options like encryption (<code>-o</code> option).
</p>
<p>Only the formats <code>qcow</code> and <code>qcow2</code> support compression. The
compression is read-only. It means that if a compressed sector is
rewritten, then it is rewritten as uncompressed data.
</p>
<p>Image conversion is also useful to get smaller image when using a
growable format such as <code>qcow</code>: the empty sectors are detected and
suppressed from the destination image.
</p>
<p><var>sparse_size</var> indicates the consecutive number of bytes (defaults to 4k)
that must contain only zeros for qemu-img to create a sparse image during
conversion. If <var>sparse_size</var> is 0, the source will not be scanned for
unallocated or zero sectors, and the destination image will always be
fully allocated.
</p>
<p>You can use the <var>backing_file</var> option to force the output image to be
created as a copy on write image of the specified base image; the
<var>backing_file</var> should have the same content as the input&rsquo;s base image,
however the path, image format, etc may differ.
</p>
<p>If the <code>-n</code> option is specified, the target volume creation will be
skipped. This is useful for formats such as <code>rbd</code> if the target
volume has already been created with site specific options that cannot
be supplied through qemu-img.
</p>
</dd>
<dt><samp>info [-f <var>fmt</var>] [--output=<var>ofmt</var>] [--backing-chain] <var>filename</var></samp></dt>
<dd>
<p>Give information about the disk image <var>filename</var>. Use it in
particular to know the size reserved on disk which can be different
from the displayed size. If VM snapshots are stored in the disk image,
they are displayed too. The command can output in the format <var>ofmt</var>
which is either <code>human</code> or <code>json</code>.
</p>
<p>If a disk image has a backing file chain, information about each disk image in
the chain can be recursively enumerated by using the option <code>--backing-chain</code>.
</p>
<p>For instance, if you have an image chain like:
</p>
<div class="example">
<pre class="example">base.qcow2 &lt;- snap1.qcow2 &lt;- snap2.qcow2
</pre></div>

<p>To enumerate information about each disk image in the above chain, starting from top to base, do:
</p>
<div class="example">
<pre class="example">qemu-img info --backing-chain snap2.qcow2
</pre></div>

</dd>
<dt><samp>map [-f <var>fmt</var>] [--output=<var>ofmt</var>] <var>filename</var></samp></dt>
<dd>
<p>Dump the metadata of image <var>filename</var> and its backing file chain.
In particular, this commands dumps the allocation state of every sector
of <var>filename</var>, together with the topmost file that allocates it in
the backing file chain.
</p>
<p>Two option formats are possible.  The default format (<code>human</code>)
only dumps known-nonzero areas of the file.  Known-zero parts of the
file are omitted altogether, and likewise for parts that are not allocated
throughout the chain.  <code>qemu-img</code> output will identify a file
from where the data can be read, and the offset in the file.  Each line
will include four fields, the first three of which are hexadecimal
numbers.  For example the first line of:
</p><div class="example">
<pre class="example">Offset          Length          Mapped to       File
0               0x20000         0x50000         /tmp/overlay.qcow2
0x100000        0x10000         0x95380000      /tmp/backing.qcow2
</pre></div>
<p>means that 0x20000 (131072) bytes starting at offset 0 in the image are
available in /tmp/overlay.qcow2 (opened in <code>raw</code> format) starting
at offset 0x50000 (327680).  Data that is compressed, encrypted, or
otherwise not available in raw format will cause an error if <code>human</code>
format is in use.  Note that file names can include newlines, thus it is
not safe to parse this output format in scripts.
</p>
<p>The alternative format <code>json</code> will return an array of dictionaries
in JSON format.  It will include similar information in
the <code>start</code>, <code>length</code>, <code>offset</code> fields;
it will also include other more specific information:
</p><ul class="no-bullet">
<li>- whether the sectors contain actual data or not (boolean field <code>data</code>;
if false, the sectors are either unallocated or stored as optimized
all-zero clusters);

</li><li>- whether the data is known to read as zero (boolean field <code>zero</code>);

</li><li>- in order to make the output shorter, the target file is expressed as
a <code>depth</code>; for example, a depth of 2 refers to the backing file
of the backing file of <var>filename</var>.
</li></ul>

<p>In JSON format, the <code>offset</code> field is optional; it is absent in
cases where <code>human</code> format would omit the entry or exit with an error.
If <code>data</code> is false and the <code>offset</code> field is present, the
corresponding sectors in the file are not yet in use, but they are
preallocated.
</p>
<p>For more information, consult <samp>include/block/block.h</samp> in QEMU&rsquo;s
source code.
</p>
</dd>
<dt><samp>snapshot [-l | -a <var>snapshot</var> | -c <var>snapshot</var> | -d <var>snapshot</var> ] <var>filename</var></samp></dt>
<dd>
<p>List, apply, create or delete snapshots in image <var>filename</var>.
</p>
</dd>
<dt><samp>rebase [-f <var>fmt</var>] [-t <var>cache</var>] [-T <var>src_cache</var>] [-p] [-u] -b <var>backing_file</var> [-F <var>backing_fmt</var>] <var>filename</var></samp></dt>
<dd>
<p>Changes the backing file of an image. Only the formats <code>qcow2</code> and
<code>qed</code> support changing the backing file.
</p>
<p>The backing file is changed to <var>backing_file</var> and (if the image format of
<var>filename</var> supports this) the backing file format is changed to
<var>backing_fmt</var>. If <var>backing_file</var> is specified as &ldquo;&rdquo; (the empty
string), then the image is rebased onto no backing file (i.e. it will exist
independently of any backing file).
</p>
<p><var>cache</var> specifies the cache mode to be used for <var>filename</var>, whereas
<var>src_cache</var> specifies the cache mode for reading backing files.
</p>
<p>There are two different modes in which <code>rebase</code> can operate:
</p><dl compact="compact">
<dt><samp>Safe mode</samp></dt>
<dd><p>This is the default mode and performs a real rebase operation. The new backing
file may differ from the old one and qemu-img rebase will take care of keeping
the guest-visible content of <var>filename</var> unchanged.
</p>
<p>In order to achieve this, any clusters that differ between <var>backing_file</var>
and the old backing file of <var>filename</var> are merged into <var>filename</var>
before actually changing the backing file.
</p>
<p>Note that the safe mode is an expensive operation, comparable to converting
an image. It only works if the old backing file still exists.
</p>
</dd>
<dt><samp>Unsafe mode</samp></dt>
<dd><p>qemu-img uses the unsafe mode if <code>-u</code> is specified. In this mode, only the
backing file name and format of <var>filename</var> is changed without any checks
on the file contents. The user must take care of specifying the correct new
backing file, or the guest-visible content of the image will be corrupted.
</p>
<p>This mode is useful for renaming or moving the backing file to somewhere else.
It can be used without an accessible old backing file, i.e. you can use it to
fix an image whose backing file has already been moved/renamed.
</p></dd>
</dl>

<p>You can use <code>rebase</code> to perform a &ldquo;diff&rdquo; operation on two
disk images.  This can be useful when you have copied or cloned
a guest, and you want to get back to a thin image on top of a
template or base image.
</p>
<p>Say that <code>base.img</code> has been cloned as <code>modified.img</code> by
copying it, and that the <code>modified.img</code> guest has run so there
are now some changes compared to <code>base.img</code>.  To construct a thin
image called <code>diff.qcow2</code> that contains just the differences, do:
</p>
<div class="example">
<pre class="example">qemu-img create -f qcow2 -b modified.img diff.qcow2
qemu-img rebase -b base.img diff.qcow2
</pre></div>

<p>At this point, <code>modified.img</code> can be discarded, since
<code>base.img + diff.qcow2</code> contains the same information.
</p>
</dd>
<dt><samp>resize <var>filename</var> [+ | -]<var>size</var></samp></dt>
<dd>
<p>Change the disk image as if it had been created with <var>size</var>.
</p>
<p>Before using this command to shrink a disk image, you MUST use file system and
partitioning tools inside the VM to reduce allocated file systems and partition
sizes accordingly.  Failure to do so will result in data loss!
</p>
<p>After using this command to grow a disk image, you must use file system and
partitioning tools inside the VM to actually begin using the new space on the
device.
</p>
</dd>
<dt><samp>amend [-p] [-f <var>fmt</var>] [-t <var>cache</var>] -o <var>options</var> <var>filename</var></samp></dt>
<dd>
<p>Amends the image format specific <var>options</var> for the image file
<var>filename</var>. Not all file formats support this operation.
</p></dd>
</dl>


<hr>
<a name="qemu_005fnbd_005finvocation"></a>
<a name="qemu_002dnbd-Invocation"></a>
<h4 class="subsection">3.7.5 <code>qemu-nbd</code> Invocation</h4>

<div class="example">
<pre class="example"><code>qemu-nbd</code> [OPTION]... <var>filename</var>

<code>qemu-nbd</code> <samp>-d</samp> <var>dev</var>
</pre></div>


<p>Export a QEMU disk image using the NBD protocol.
</p>

<p><var>filename</var> is a disk image filename, or a set of block
driver options if <var>&ndash;image-opts</var> is specified.
</p>
<p><var>dev</var> is an NBD device.
</p>
<dl compact="compact">
<dt><samp>--object type,id=<var>id</var>,...props...</samp></dt>
<dd><p>Define a new instance of the <var>type</var> object class identified by <var>id</var>.
See the <code>qemu(1)</code> manual page for full details of the properties
supported. The common object types that it makes sense to define are the
<code>secret</code> object, which is used to supply passwords and/or encryption
keys, and the <code>tls-creds</code> object, which is used to supply TLS
credentials for the qemu-nbd server.
</p></dd>
<dt><samp>-p, --port=<var>port</var></samp></dt>
<dd><p>The TCP port to listen on (default &lsquo;<samp>10809</samp>&rsquo;)
</p></dd>
<dt><samp>-o, --offset=<var>offset</var></samp></dt>
<dd><p>The offset into the image
</p></dd>
<dt><samp>-b, --bind=<var>iface</var></samp></dt>
<dd><p>The interface to bind to (default &lsquo;<samp>0.0.0.0</samp>&rsquo;)
</p></dd>
<dt><samp>-k, --socket=<var>path</var></samp></dt>
<dd><p>Use a unix socket with path <var>path</var>
</p></dd>
<dt><samp>--image-opts</samp></dt>
<dd><p>Treat <var>filename</var> as a set of image options, instead of a plain
filename. If this flag is specified, the <var>-f</var> flag should
not be used, instead the &rsquo;<code>format=</code>&rsquo; option should be set.
</p></dd>
<dt><samp>-f, --format=<var>fmt</var></samp></dt>
<dd><p>Force the use of the block driver for format <var>fmt</var> instead of
auto-detecting
</p></dd>
<dt><samp>-r, --read-only</samp></dt>
<dd><p>Export the disk as read-only
</p></dd>
<dt><samp>-P, --partition=<var>num</var></samp></dt>
<dd><p>Only expose partition <var>num</var>
</p></dd>
<dt><samp>-s, --snapshot</samp></dt>
<dd><p>Use <var>filename</var> as an external snapshot, create a temporary
file with backing_file=<var>filename</var>, redirect the write to
the temporary one
</p></dd>
<dt><samp>-l, --load-snapshot=<var>snapshot_param</var></samp></dt>
<dd><p>Load an internal snapshot inside <var>filename</var> and export it
as an read-only device, <var>snapshot_param</var> format is
&rsquo;snapshot.id=[ID],snapshot.name=[NAME]&rsquo; or &rsquo;[ID_OR_NAME]&rsquo;
</p></dd>
<dt><samp>-n, --nocache</samp></dt>
<dt><samp>--cache=<var>cache</var></samp></dt>
<dd><p>The cache mode to be used with the file.  See the documentation of
the emulator&rsquo;s <code>-drive cache=...</code> option for allowed values.
</p></dd>
<dt><samp>--aio=<var>aio</var></samp></dt>
<dd><p>Set the asynchronous I/O mode between &lsquo;<samp>threads</samp>&rsquo; (the default)
and &lsquo;<samp>native</samp>&rsquo; (Linux only).
</p></dd>
<dt><samp>--discard=<var>discard</var></samp></dt>
<dd><p>Control whether <em>discard</em> (also known as <em>trim</em> or <em>unmap</em>)
requests are ignored or passed to the filesystem.  <var>discard</var> is one of
&lsquo;<samp>ignore</samp>&rsquo; (or &lsquo;<samp>off</samp>&rsquo;), &lsquo;<samp>unmap</samp>&rsquo; (or &lsquo;<samp>on</samp>&rsquo;).  The default is
&lsquo;<samp>ignore</samp>&rsquo;.
</p></dd>
<dt><samp>--detect-zeroes=<var>detect-zeroes</var></samp></dt>
<dd><p>Control the automatic conversion of plain zero writes by the OS to
driver-specific optimized zero write commands.  <var>detect-zeroes</var> is one of
&lsquo;<samp>off</samp>&rsquo;, &lsquo;<samp>on</samp>&rsquo; or &lsquo;<samp>unmap</samp>&rsquo;.  &lsquo;<samp>unmap</samp>&rsquo;
converts a zero write to an unmap operation and can only be used if
<var>discard</var> is set to &lsquo;<samp>unmap</samp>&rsquo;.  The default is &lsquo;<samp>off</samp>&rsquo;.
</p></dd>
<dt><samp>-c, --connect=<var>dev</var></samp></dt>
<dd><p>Connect <var>filename</var> to NBD device <var>dev</var>
</p></dd>
<dt><samp>-d, --disconnect</samp></dt>
<dd><p>Disconnect the device <var>dev</var>
</p></dd>
<dt><samp>-e, --shared=<var>num</var></samp></dt>
<dd><p>Allow up to <var>num</var> clients to share the device (default &lsquo;<samp>1</samp>&rsquo;)
</p></dd>
<dt><samp>-t, --persistent</samp></dt>
<dd><p>Don&rsquo;t exit on the last connection
</p></dd>
<dt><samp>-x NAME, --export-name=NAME</samp></dt>
<dd><p>Set the NBD volume export name. This switches the server to use
the new style NBD protocol negotiation
</p></dd>
<dt><samp>--tls-creds=ID</samp></dt>
<dd><p>Enable mandatory TLS encryption for the server by setting the ID
of the TLS credentials object previously created with the &ndash;object
option.
</p></dd>
<dt><samp>-v, --verbose</samp></dt>
<dd><p>Display extra debugging information
</p></dd>
<dt><samp>-h, --help</samp></dt>
<dd><p>Display this help and exit
</p></dd>
<dt><samp>-V, --version</samp></dt>
<dd><p>Display version information and exit
</p></dd>
<dt><samp>-T, --trace [[enable=]<var>pattern</var>][,events=<var>file</var>][,file=<var>file</var>]</samp></dt>
<dd><a name="index-_002d_002dtrace-1"></a>
<p>Specify tracing options.
</p>
<dl compact="compact">
<dt><samp>[enable=]<var>pattern</var></samp></dt>
<dd><p>Immediately enable events matching <var>pattern</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var>
or <var>ftrace</var> tracing backend.  To specify multiple events or patterns,
specify the <samp>-trace</samp> option multiple times.
</p>
<p>Use <code>-trace help</code> to print a list of names of trace points.
</p>
</dd>
<dt><samp>events=<var>file</var></samp></dt>
<dd><p>Immediately enable events listed in <var>file</var>.
The file must contain one event name (as listed in the <samp>trace-events-all</samp>
file) per line; globbing patterns are accepted too.  This option is only
available if QEMU has been compiled with the <var>simple</var>, <var>stderr</var> or
<var>ftrace</var> tracing backend.
</p>
</dd>
<dt><samp>file=<var>file</var></samp></dt>
<dd><p>Log output traces to <var>file</var>.
This option is only available if QEMU has been compiled with
the <var>simple</var> tracing backend.
</p></dd>
</dl>
</dd>
</dl>



<hr>
<a name="qemu_005fga_005finvocation"></a>
<a name="qemu_002dga-Invocation"></a>
<h4 class="subsection">3.7.6 <code>qemu-ga</code> Invocation</h4>

<div class="example">
<pre class="example"><code>qemu-ga</code> [<var>OPTIONS</var>]
</pre></div>


<p>The QEMU Guest Agent is a daemon intended to be run within virtual
machines. It allows the hypervisor host to perform various operations
in the guest, such as:
</p>
<ul>
<li> get information from the guest
</li><li> set the guest&rsquo;s system time
</li><li> read/write a file
</li><li> sync and freeze the filesystems
</li><li> suspend the guest
</li><li> reconfigure guest local processors
</li><li> set user&rsquo;s password
</li><li> ...
</li></ul>

<p>qemu-ga will read a system configuration file on startup (located at
q<samp>/etc/qemu/qemu-ga.conf</samp> by default), then parse remaining
configuration options on the command line. For the same key, the last
option wins, but the lists accumulate (see below for configuration
file format).
</p>

<dl compact="compact">
<dt><samp>-m, --method=<var>method</var></samp></dt>
<dd><p>Transport method: one of &lsquo;<samp>unix-listen</samp>&rsquo;, &lsquo;<samp>virtio-serial</samp>&rsquo;, or
  &lsquo;<samp>isa-serial</samp>&rsquo; (&lsquo;<samp>virtio-serial</samp>&rsquo; is the default).
</p>
</dd>
<dt><samp>-p, --path=<var>path</var></samp></dt>
<dd><p>Device/socket path (the default for virtio-serial is
  &lsquo;<samp>/dev/virtio-ports/org.qemu.guest_agent.0</samp>&rsquo;,
  the default for isa-serial is &lsquo;<samp>/dev/ttyS0</samp>&rsquo;)
</p>
</dd>
<dt><samp>-l, --logfile=<var>path</var></samp></dt>
<dd><p>Set log file path (default is stderr).
</p>
</dd>
<dt><samp>-f, --pidfile=<var>path</var></samp></dt>
<dd><p>Specify pid file (default is &lsquo;<samp>/var/run/qemu-ga.pid</samp>&rsquo;).
</p>
</dd>
<dt><samp>-F, --fsfreeze-hook=<var>path</var></samp></dt>
<dd><p>Enable fsfreeze hook. Accepts an optional argument that specifies
  script to run on freeze/thaw. Script will be called with
  &rsquo;freeze&rsquo;/&rsquo;thaw&rsquo; arguments accordingly (default is
  &lsquo;<samp>/etc/qemu/fsfreeze-hook</samp>&rsquo;). If using -F with an argument, do
  not follow -F with a space (for example:
  &lsquo;<samp>-F/var/run/fsfreezehook.sh</samp>&rsquo;).
</p>
</dd>
<dt><samp>-t, --statedir=<var>path</var></samp></dt>
<dd><p>Specify the directory to store state information (absolute paths only,
  default is &lsquo;<samp>/var/run</samp>&rsquo;).
</p>
</dd>
<dt><samp>-v, --verbose</samp></dt>
<dd><p>Log extra debugging information.
</p>
</dd>
<dt><samp>-V, --version</samp></dt>
<dd><p>Print version information and exit.
</p>
</dd>
<dt><samp>-d, --daemon</samp></dt>
<dd><p>Daemonize after startup (detach from terminal).
</p>
</dd>
<dt><samp>-b, --blacklist=<var>list</var></samp></dt>
<dd><p>Comma-separated list of RPCs to disable (no spaces, &lsquo;<samp>?</samp>&rsquo; to list
  available RPCs).
</p>
</dd>
<dt><samp>-D, --dump-conf</samp></dt>
<dd><p>Dump the configuration in a format compatible with <samp>qemu-ga.conf</samp>
  and exit.
</p>
</dd>
<dt><samp>-h, --help</samp></dt>
<dd><p>Display this help and exit.
</p></dd>
</dl>



<p>The syntax of the <samp>qemu-ga.conf</samp> configuration file follows the
Desktop Entry Specification, here is a quick summary: it consists of
groups of key-value pairs, interspersed with comments.
</p>
<div class="example">
<pre class="example"># qemu-ga configuration sample
[general]
daemonize = 0
pidfile = /var/run/qemu-ga.pid
verbose = 0
method = virtio-serial
path = /dev/virtio-ports/org.qemu.guest_agent.0
statedir = /var/run
</pre></div>

<p>The list of keys follows the command line options:
</p><dl compact="compact">
<dt><samp>daemon= boolean</samp></dt>
<dt><samp>method= string</samp></dt>
<dt><samp>path= string</samp></dt>
<dt><samp>logfile= string</samp></dt>
<dt><samp>pidfile= string</samp></dt>
<dt><samp>fsfreeze-hook= string</samp></dt>
<dt><samp>statedir= string</samp></dt>
<dt><samp>verbose= boolean</samp></dt>
<dt><samp>blacklist= string list</samp></dt>
</dl>



<hr>
<a name="disk_005fimages_005fformats"></a>
<a name="Disk-image-file-formats"></a>
<h4 class="subsection">3.7.7 Disk image file formats</h4>

<p>QEMU supports many image file formats that can be used with VMs as well as with
any of the tools (like <code>qemu-img</code>). This includes the preferred formats
raw and qcow2 as well as formats that are supported for compatibility with
older QEMU versions or other hypervisors.
</p>
<p>Depending on the image format, different options can be passed to
<code>qemu-img create</code> and <code>qemu-img convert</code> using the <code>-o</code> option.
This section describes each format and the options that are supported for it.
</p>
<dl compact="compact">
<dt><samp>raw</samp></dt>
<dd>
<p>Raw disk image format. This format has the advantage of
being simple and easily exportable to all other emulators. If your
file system supports <em>holes</em> (for example in ext2 or ext3 on
Linux or NTFS on Windows), then only the written sectors will reserve
space. Use <code>qemu-img info</code> to know the real size used by the
image or <code>ls -ls</code> on Unix/Linux.
</p>
<p>Supported options:
</p><dl compact="compact">
<dt><code>preallocation</code></dt>
<dd><p>Preallocation mode (allowed values: <code>off</code>, <code>falloc</code>, <code>full</code>).
<code>falloc</code> mode preallocates space for image by calling posix_fallocate().
<code>full</code> mode preallocates space for image by writing zeros to underlying
storage.
</p></dd>
</dl>

</dd>
<dt><samp>qcow2</samp></dt>
<dd><p>QEMU image format, the most versatile format. Use it to have smaller
images (useful if your filesystem does not supports holes, for example
on Windows), zlib based compression and support of multiple VM
snapshots.
</p>
<p>Supported options:
</p><dl compact="compact">
<dt><code>compat</code></dt>
<dd><p>Determines the qcow2 version to use. <code>compat=0.10</code> uses the
traditional image format that can be read by any QEMU since 0.10.
<code>compat=1.1</code> enables image format extensions that only QEMU 1.1 and
newer understand (this is the default). Amongst others, this includes
zero clusters, which allow efficient copy-on-read for sparse images.
</p>
</dd>
<dt><code>backing_file</code></dt>
<dd><p>File name of a base image (see <samp>create</samp> subcommand)
</p></dd>
<dt><code>backing_fmt</code></dt>
<dd><p>Image format of the base image
</p></dd>
<dt><code>encryption</code></dt>
<dd><p>If this option is set to <code>on</code>, the image is encrypted with 128-bit AES-CBC.
</p>
<p>The use of encryption in qcow and qcow2 images is considered to be flawed by
modern cryptography standards, suffering from a number of design problems:
</p>
<ul class="no-bullet">
<li>- The AES-CBC cipher is used with predictable initialization vectors based
on the sector number. This makes it vulnerable to chosen plaintext attacks
which can reveal the existence of encrypted data.
</li><li>- The user passphrase is directly used as the encryption key. A poorly
chosen or short passphrase will compromise the security of the encryption.
</li><li>- In the event of the passphrase being compromised there is no way to
change the passphrase to protect data in any qcow images. The files must
be cloned, using a different encryption passphrase in the new file. The
original file must then be securely erased using a program like shred,
though even this is ineffective with many modern storage technologies.
</li></ul>

<p>Use of qcow / qcow2 encryption with QEMU is deprecated, and support for
it will go away in a future release.  Users are recommended to use an
alternative encryption technology such as the Linux dm-crypt / LUKS
system.
</p>
</dd>
<dt><code>cluster_size</code></dt>
<dd><p>Changes the qcow2 cluster size (must be between 512 and 2M). Smaller cluster
sizes can improve the image file size whereas larger cluster sizes generally
provide better performance.
</p>
</dd>
<dt><code>preallocation</code></dt>
<dd><p>Preallocation mode (allowed values: <code>off</code>, <code>metadata</code>, <code>falloc</code>,
<code>full</code>). An image with preallocated metadata is initially larger but can
improve performance when the image needs to grow. <code>falloc</code> and <code>full</code>
preallocations are like the same options of <code>raw</code> format, but sets up
metadata also.
</p>
</dd>
<dt><code>lazy_refcounts</code></dt>
<dd><p>If this option is set to <code>on</code>, reference count updates are postponed with
the goal of avoiding metadata I/O and improving performance. This is
particularly interesting with <samp>cache=writethrough</samp> which doesn&rsquo;t batch
metadata updates. The tradeoff is that after a host crash, the reference count
tables must be rebuilt, i.e. on the next open an (automatic) <code>qemu-img
check -r all</code> is required, which may take some time.
</p>
<p>This option can only be enabled if <code>compat=1.1</code> is specified.
</p>
</dd>
<dt><code>nocow</code></dt>
<dd><p>If this option is set to <code>on</code>, it will turn off COW of the file. It&rsquo;s only
valid on btrfs, no effect on other file systems.
</p>
<p>Btrfs has low performance when hosting a VM image file, even more when the guest
on the VM also using btrfs as file system. Turning off COW is a way to mitigate
this bad performance. Generally there are two ways to turn off COW on btrfs:
a) Disable it by mounting with nodatacow, then all newly created files will be
NOCOW. b) For an empty file, add the NOCOW file attribute. That&rsquo;s what this option
does.
</p>
<p>Note: this option is only valid to new or empty files. If there is an existing
file which is COW and has data blocks already, it couldn&rsquo;t be changed to NOCOW
by setting <code>nocow=on</code>. One can issue <code>lsattr filename</code> to check if
the NOCOW flag is set or not (Capital &rsquo;C&rsquo; is NOCOW flag).
</p>
</dd>
</dl>

</dd>
<dt><samp>qed</samp></dt>
<dd><p>Old QEMU image format with support for backing files and compact image files
(when your filesystem or transport medium does not support holes).
</p>
<p>When converting QED images to qcow2, you might want to consider using the
<code>lazy_refcounts=on</code> option to get a more QED-like behaviour.
</p>
<p>Supported options:
</p><dl compact="compact">
<dt><code>backing_file</code></dt>
<dd><p>File name of a base image (see <samp>create</samp> subcommand).
</p></dd>
<dt><code>backing_fmt</code></dt>
<dd><p>Image file format of backing file (optional).  Useful if the format cannot be
autodetected because it has no header, like some vhd/vpc files.
</p></dd>
<dt><code>cluster_size</code></dt>
<dd><p>Changes the cluster size (must be power-of-2 between 4K and 64K). Smaller
cluster sizes can improve the image file size whereas larger cluster sizes
generally provide better performance.
</p></dd>
<dt><code>table_size</code></dt>
<dd><p>Changes the number of clusters per L1/L2 table (must be power-of-2 between 1
and 16).  There is normally no need to change this value but this option can be
used for performance benchmarking.
</p></dd>
</dl>

</dd>
<dt><samp>qcow</samp></dt>
<dd><p>Old QEMU image format with support for backing files, compact image files,
encryption and compression.
</p>
<p>Supported options:
</p><dl compact="compact">
<dt><code>backing_file</code></dt>
<dd><p>File name of a base image (see <samp>create</samp> subcommand)
</p></dd>
<dt><code>encryption</code></dt>
<dd><p>If this option is set to <code>on</code>, the image is encrypted.
</p></dd>
</dl>

</dd>
<dt><samp>vdi</samp></dt>
<dd><p>VirtualBox 1.1 compatible image format.
Supported options:
</p><dl compact="compact">
<dt><code>static</code></dt>
<dd><p>If this option is set to <code>on</code>, the image is created with metadata
preallocation.
</p></dd>
</dl>

</dd>
<dt><samp>vmdk</samp></dt>
<dd><p>VMware 3 and 4 compatible image format.
</p>
<p>Supported options:
</p><dl compact="compact">
<dt><code>backing_file</code></dt>
<dd><p>File name of a base image (see <samp>create</samp> subcommand).
</p></dd>
<dt><code>compat6</code></dt>
<dd><p>Create a VMDK version 6 image (instead of version 4)
</p></dd>
<dt><code>hwversion</code></dt>
<dd><p>Specify vmdk virtual hardware version. Compat6 flag cannot be enabled
if hwversion is specified.
</p></dd>
<dt><code>subformat</code></dt>
<dd><p>Specifies which VMDK subformat to use. Valid options are
<code>monolithicSparse</code> (default),
<code>monolithicFlat</code>,
<code>twoGbMaxExtentSparse</code>,
<code>twoGbMaxExtentFlat</code> and
<code>streamOptimized</code>.
</p></dd>
</dl>

</dd>
<dt><samp>vpc</samp></dt>
<dd><p>VirtualPC compatible image format (VHD).
Supported options:
</p><dl compact="compact">
<dt><code>subformat</code></dt>
<dd><p>Specifies which VHD subformat to use. Valid options are
<code>dynamic</code> (default) and <code>fixed</code>.
</p></dd>
</dl>

</dd>
<dt><samp>VHDX</samp></dt>
<dd><p>Hyper-V compatible image format (VHDX).
Supported options:
</p><dl compact="compact">
<dt><code>subformat</code></dt>
<dd><p>Specifies which VHDX subformat to use. Valid options are
<code>dynamic</code> (default) and <code>fixed</code>.
</p></dd>
<dt><code>block_state_zero</code></dt>
<dd><p>Force use of payload blocks of type &rsquo;ZERO&rsquo;.  Can be set to <code>on</code> (default)
or <code>off</code>.  When set to <code>off</code>, new blocks will be created as
<code>PAYLOAD_BLOCK_NOT_PRESENT</code>, which means parsers are free to return
arbitrary data for those blocks.  Do not set to <code>off</code> when using
<code>qemu-img convert</code> with <code>subformat=dynamic</code>.
</p></dd>
<dt><code>block_size</code></dt>
<dd><p>Block size; min 1 MB, max 256 MB.  0 means auto-calculate based on image size.
</p></dd>
<dt><code>log_size</code></dt>
<dd><p>Log size; min 1 MB.
</p></dd>
</dl>
</dd>
</dl>

<a name="Read_002donly-formats"></a>
<h4 class="subsubsection">3.7.7.1 Read-only formats</h4>
<p>More disk image file formats are supported in a read-only mode.
</p><dl compact="compact">
<dt><samp>bochs</samp></dt>
<dd><p>Bochs images of <code>growing</code> type.
</p></dd>
<dt><samp>cloop</samp></dt>
<dd><p>Linux Compressed Loop image, useful only to reuse directly compressed
CD-ROM images present for example in the Knoppix CD-ROMs.
</p></dd>
<dt><samp>dmg</samp></dt>
<dd><p>Apple disk image.
</p></dd>
<dt><samp>parallels</samp></dt>
<dd><p>Parallels disk image format.
</p></dd>
</dl>


<hr>
<a name="host_005fdrives"></a>
<a name="Using-host-drives"></a>
<h4 class="subsection">3.7.8 Using host drives</h4>

<p>In addition to disk image files, QEMU can directly access host
devices. We describe here the usage for QEMU version &gt;= 0.8.3.
</p>
<a name="Linux-1"></a>
<h4 class="subsubsection">3.7.8.1 Linux</h4>

<p>On Linux, you can directly use the host device filename instead of a
disk image filename provided you have enough privileges to access
it. For example, use <samp>/dev/cdrom</samp> to access to the CDROM.
</p>
<dl compact="compact">
<dt><code>CD</code></dt>
<dd><p>You can specify a CDROM device even if no CDROM is loaded. QEMU has
specific code to detect CDROM insertion or removal. CDROM ejection by
the guest OS is supported. Currently only data CDs are supported.
</p></dd>
<dt><code>Floppy</code></dt>
<dd><p>You can specify a floppy device even if no floppy is loaded. Floppy
removal is currently not detected accurately (if you change floppy
without doing floppy access while the floppy is not loaded, the guest
OS will think that the same floppy is loaded).
Use of the host&rsquo;s floppy device is deprecated, and support for it will
be removed in a future release.
</p></dd>
<dt><code>Hard disks</code></dt>
<dd><p>Hard disks can be used. Normally you must specify the whole disk
(<samp>/dev/hdb</samp> instead of <samp>/dev/hdb1</samp>) so that the guest OS can
see it as a partitioned disk. WARNING: unless you know what you do, it
is better to only make READ-ONLY accesses to the hard disk otherwise
you may corrupt your host data (use the <samp>-snapshot</samp> command
line option or modify the device permissions accordingly).
</p></dd>
</dl>

<a name="Windows-2"></a>
<h4 class="subsubsection">3.7.8.2 Windows</h4>

<dl compact="compact">
<dt><code>CD</code></dt>
<dd><p>The preferred syntax is the drive letter (e.g. <samp>d:</samp>). The
alternate syntax <samp>\\.\d:</samp> is supported. <samp>/dev/cdrom</samp> is
supported as an alias to the first CDROM drive.
</p>
<p>Currently there is no specific code to handle removable media, so it
is better to use the <code>change</code> or <code>eject</code> monitor commands to
change or eject media.
</p></dd>
<dt><code>Hard disks</code></dt>
<dd><p>Hard disks can be used with the syntax: <samp>\\.\PhysicalDrive<var>N</var></samp>
where <var>N</var> is the drive number (0 is the first hard disk).
<samp>/dev/hda</samp> is supported as an alias to
the first hard disk drive <samp>\\.\PhysicalDrive0</samp>.
</p>
<p>WARNING: unless you know what you do, it is better to only make
READ-ONLY accesses to the hard disk otherwise you may corrupt your
host data (use the <samp>-snapshot</samp> command line so that the
modifications are written in a temporary file).
</p></dd>
</dl>


<a name="Mac-OS-X-2"></a>
<h4 class="subsubsection">3.7.8.3 Mac OS X</h4>

<p><samp>/dev/cdrom</samp> is an alias to the first CDROM.
</p>
<p>Currently there is no specific code to handle removable media, so it
is better to use the <code>change</code> or <code>eject</code> monitor commands to
change or eject media.
</p>
<hr>
<a name="disk_005fimages_005ffat_005fimages"></a>
<a name="Virtual-FAT-disk-images"></a>
<h4 class="subsection">3.7.9 Virtual FAT disk images</h4>

<p>QEMU can automatically create a virtual FAT disk image from a
directory tree. In order to use it, just type:
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img -hdb fat:/my_directory
</pre></div>

<p>Then you access access to all the files in the <samp>/my_directory</samp>
directory without having to copy them in a disk image or to export
them via SAMBA or NFS. The default access is <em>read-only</em>.
</p>
<p>Floppies can be emulated with the <code>:floppy:</code> option:
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img -fda fat:floppy:/my_directory
</pre></div>

<p>A read/write support is available for testing (beta stage) with the
<code>:rw:</code> option:
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img -fda fat:floppy:rw:/my_directory
</pre></div>

<p>What you should <em>never</em> do:
</p><ul>
<li> use non-ASCII filenames ;
</li><li> use &quot;-snapshot&quot; together with &quot;:rw:&quot; ;
</li><li> expect it to work when loadvm&rsquo;ing ;
</li><li> write to the FAT directory on the host system while accessing it with the guest system.
</li></ul>

<hr>
<a name="disk_005fimages_005fnbd"></a>
<a name="NBD-access"></a>
<h4 class="subsection">3.7.10 NBD access</h4>

<p>QEMU can access directly to block device exported using the Network Block Device
protocol.
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img -hdb nbd://my_nbd_server.mydomain.org:1024/
</pre></div>

<p>If the NBD server is located on the same host, you can use an unix socket instead
of an inet socket:
</p>
<div class="example">
<pre class="example">qemu-system-i386 linux.img -hdb nbd+unix://?socket=/tmp/my_socket
</pre></div>

<p>In this case, the block device must be exported using qemu-nbd:
</p>
<div class="example">
<pre class="example">qemu-nbd --socket=/tmp/my_socket my_disk.qcow2
</pre></div>

<p>The use of qemu-nbd allows sharing of a disk between several guests:
</p><div class="example">
<pre class="example">qemu-nbd --socket=/tmp/my_socket --share=2 my_disk.qcow2
</pre></div>

<p>and then you can use it with two guests:
</p><div class="example">
<pre class="example">qemu-system-i386 linux1.img -hdb nbd+unix://?socket=/tmp/my_socket
qemu-system-i386 linux2.img -hdb nbd+unix://?socket=/tmp/my_socket
</pre></div>

<p>If the nbd-server uses named exports (supported since NBD 2.9.18, or with QEMU&rsquo;s
own embedded NBD server), you must specify an export name in the URI:
</p><div class="example">
<pre class="example">qemu-system-i386 -cdrom nbd://localhost/debian-500-ppc-netinst
qemu-system-i386 -cdrom nbd://localhost/openSUSE-11.1-ppc-netinst
</pre></div>

<p>The URI syntax for NBD is supported since QEMU 1.3.  An alternative syntax is
also available.  Here are some example of the older syntax:
</p><div class="example">
<pre class="example">qemu-system-i386 linux.img -hdb nbd:my_nbd_server.mydomain.org:1024
qemu-system-i386 linux2.img -hdb nbd:unix:/tmp/my_socket
qemu-system-i386 -cdrom nbd:localhost:10809:exportname=debian-500-ppc-netinst
</pre></div>

<hr>
<a name="disk_005fimages_005fsheepdog"></a>
<a name="Sheepdog-disk-images"></a>
<h4 class="subsection">3.7.11 Sheepdog disk images</h4>

<p>Sheepdog is a distributed storage system for QEMU.  It provides highly
available block level storage volumes that can be attached to
QEMU-based virtual machines.
</p>
<p>You can create a Sheepdog disk image with the command:
</p><div class="example">
<pre class="example">qemu-img create sheepdog:///<var>image</var> <var>size</var>
</pre></div>
<p>where <var>image</var> is the Sheepdog image name and <var>size</var> is its
size.
</p>
<p>To import the existing <var>filename</var> to Sheepdog, you can use a
convert command.
</p><div class="example">
<pre class="example">qemu-img convert <var>filename</var> sheepdog:///<var>image</var>
</pre></div>

<p>You can boot from the Sheepdog disk image with the command:
</p><div class="example">
<pre class="example">qemu-system-i386 sheepdog:///<var>image</var>
</pre></div>

<p>You can also create a snapshot of the Sheepdog image like qcow2.
</p><div class="example">
<pre class="example">qemu-img snapshot -c <var>tag</var> sheepdog:///<var>image</var>
</pre></div>
<p>where <var>tag</var> is a tag name of the newly created snapshot.
</p>
<p>To boot from the Sheepdog snapshot, specify the tag name of the
snapshot.
</p><div class="example">
<pre class="example">qemu-system-i386 sheepdog:///<var>image</var>#<var>tag</var>
</pre></div>

<p>You can create a cloned image from the existing snapshot.
</p><div class="example">
<pre class="example">qemu-img create -b sheepdog:///<var>base</var>#<var>tag</var> sheepdog:///<var>image</var>
</pre></div>
<p>where <var>base</var> is a image name of the source snapshot and <var>tag</var>
is its tag name.
</p>
<p>You can use an unix socket instead of an inet socket:
</p>
<div class="example">
<pre class="example">qemu-system-i386 sheepdog+unix:///<var>image</var>?socket=<var>path</var>
</pre></div>

<p>If the Sheepdog daemon doesn&rsquo;t run on the local host, you need to
specify one of the Sheepdog servers to connect to.
</p><div class="example">
<pre class="example">qemu-img create sheepdog://<var>hostname</var>:<var>port</var>/<var>image</var> <var>size</var>
qemu-system-i386 sheepdog://<var>hostname</var>:<var>port</var>/<var>image</var>
</pre></div>

<hr>
<a name="disk_005fimages_005fiscsi"></a>
<a name="iSCSI-LUNs"></a>
<h4 class="subsection">3.7.12 iSCSI LUNs</h4>

<p>iSCSI is a popular protocol used to access SCSI devices across a computer
network.
</p>
<p>There are two different ways iSCSI devices can be used by QEMU.
</p>
<p>The first method is to mount the iSCSI LUN on the host, and make it appear as
any other ordinary SCSI device on the host and then to access this device as a
/dev/sd device from QEMU. How to do this differs between host OSes.
</p>
<p>The second method involves using the iSCSI initiator that is built into
QEMU. This provides a mechanism that works the same way regardless of which
host OS you are running QEMU on. This section will describe this second method
of using iSCSI together with QEMU.
</p>
<p>In QEMU, iSCSI devices are described using special iSCSI URLs
</p>
<div class="example">
<pre class="example">URL syntax:
iscsi://[&lt;username&gt;[%&lt;password&gt;]@]&lt;host&gt;[:&lt;port&gt;]/&lt;target-iqn-name&gt;/&lt;lun&gt;
</pre></div>

<p>Username and password are optional and only used if your target is set up
using CHAP authentication for access control.
Alternatively the username and password can also be set via environment
variables to have these not show up in the process list
</p>
<div class="example">
<pre class="example">export LIBISCSI_CHAP_USERNAME=&lt;username&gt;
export LIBISCSI_CHAP_PASSWORD=&lt;password&gt;
iscsi://&lt;host&gt;/&lt;target-iqn-name&gt;/&lt;lun&gt;
</pre></div>

<p>Various session related parameters can be set via special options, either
in a configuration file provided via &rsquo;-readconfig&rsquo; or directly on the
command line.
</p>
<p>If the initiator-name is not specified qemu will use a default name
of &rsquo;iqn.2008-11.org.linux-kvm[:&lt;name&gt;&rsquo;] where &lt;name&gt; is the name of the
virtual machine.
</p>

<div class="example">
<pre class="example">Setting a specific initiator name to use when logging in to the target
-iscsi initiator-name=iqn.qemu.test:my-initiator
</pre></div>

<div class="example">
<pre class="example">Controlling which type of header digest to negotiate with the target
-iscsi header-digest=CRC32C|CRC32C-NONE|NONE-CRC32C|NONE
</pre></div>

<p>These can also be set via a configuration file
</p><div class="example">
<pre class="example">[iscsi]
  user = &quot;CHAP username&quot;
  password = &quot;CHAP password&quot;
  initiator-name = &quot;iqn.qemu.test:my-initiator&quot;
  # header digest is one of CRC32C|CRC32C-NONE|NONE-CRC32C|NONE
  header-digest = &quot;CRC32C&quot;
</pre></div>


<p>Setting the target name allows different options for different targets
</p><div class="example">
<pre class="example">[iscsi &quot;iqn.target.name&quot;]
  user = &quot;CHAP username&quot;
  password = &quot;CHAP password&quot;
  initiator-name = &quot;iqn.qemu.test:my-initiator&quot;
  # header digest is one of CRC32C|CRC32C-NONE|NONE-CRC32C|NONE
  header-digest = &quot;CRC32C&quot;
</pre></div>


<p>Howto use a configuration file to set iSCSI configuration options:
</p><div class="example">
<pre class="example">cat &gt;iscsi.conf &lt;&lt;EOF
[iscsi]
  user = &quot;me&quot;
  password = &quot;my password&quot;
  initiator-name = &quot;iqn.qemu.test:my-initiator&quot;
  header-digest = &quot;CRC32C&quot;
EOF

qemu-system-i386 -drive file=iscsi://127.0.0.1/iqn.qemu.test/1 \
    -readconfig iscsi.conf
</pre></div>


<p>Howto set up a simple iSCSI target on loopback and accessing it via QEMU:
</p><div class="example">
<pre class="example">This example shows how to set up an iSCSI target with one CDROM and one DISK
using the Linux STGT software target. This target is available on Red Hat based
systems as the package 'scsi-target-utils'.

tgtd --iscsi portal=127.0.0.1:3260
tgtadm --lld iscsi --op new --mode target --tid 1 -T iqn.qemu.test
tgtadm --lld iscsi --mode logicalunit --op new --tid 1 --lun 1 \
    -b /IMAGES/disk.img --device-type=disk
tgtadm --lld iscsi --mode logicalunit --op new --tid 1 --lun 2 \
    -b /IMAGES/cd.iso --device-type=cd
tgtadm --lld iscsi --op bind --mode target --tid 1 -I ALL

qemu-system-i386 -iscsi initiator-name=iqn.qemu.test:my-initiator \
    -boot d -drive file=iscsi://127.0.0.1/iqn.qemu.test/1 \
    -cdrom iscsi://127.0.0.1/iqn.qemu.test/2
</pre></div>

<hr>
<a name="disk_005fimages_005fgluster"></a>
<a name="GlusterFS-disk-images"></a>
<h4 class="subsection">3.7.13 GlusterFS disk images</h4>

<p>GlusterFS is an user space distributed file system.
</p>
<p>You can boot from the GlusterFS disk image with the command:
</p><div class="example">
<pre class="example">qemu-system-x86_64 -drive file=gluster[+<var>transport</var>]://[<var>server</var>[:<var>port</var>]]/<var>volname</var>/<var>image</var>[?socket=...]
</pre></div>

<p><var>gluster</var> is the protocol.
</p>
<p><var>transport</var> specifies the transport type used to connect to gluster
management daemon (glusterd). Valid transport types are
tcp, unix and rdma. If a transport type isn&rsquo;t specified, then tcp
type is assumed.
</p>
<p><var>server</var> specifies the server where the volume file specification for
the given volume resides. This can be either hostname, ipv4 address
or ipv6 address. ipv6 address needs to be within square brackets [ ].
If transport type is unix, then <var>server</var> field should not be specified.
Instead <var>socket</var> field needs to be populated with the path to unix domain
socket.
</p>
<p><var>port</var> is the port number on which glusterd is listening. This is optional
and if not specified, QEMU will send 0 which will make gluster to use the
default port. If the transport type is unix, then <var>port</var> should not be
specified.
</p>
<p><var>volname</var> is the name of the gluster volume which contains the disk image.
</p>
<p><var>image</var> is the path to the actual disk image that resides on gluster volume.
</p>
<p>You can create a GlusterFS disk image with the command:
</p><div class="example">
<pre class="example">qemu-img create gluster://<var>server</var>/<var>volname</var>/<var>image</var> <var>size</var>
</pre></div>

<p>Examples
</p><div class="example">
<pre class="example">qemu-system-x86_64 -drive file=gluster://1.2.3.4/testvol/a.img
qemu-system-x86_64 -drive file=gluster+tcp://1.2.3.4/testvol/a.img
qemu-system-x86_64 -drive file=gluster+tcp://1.2.3.4:24007/testvol/dir/a.img
qemu-system-x86_64 -drive file=gluster+tcp://[1:2:3:4:5:6:7:8]/testvol/dir/a.img
qemu-system-x86_64 -drive file=gluster+tcp://[1:2:3:4:5:6:7:8]:24007/testvol/dir/a.img
qemu-system-x86_64 -drive file=gluster+tcp://server.domain.com:24007/testvol/dir/a.img
qemu-system-x86_64 -drive file=gluster+unix:///testvol/dir/a.img?socket=/tmp/glusterd.socket
qemu-system-x86_64 -drive file=gluster+rdma://1.2.3.4:24007/testvol/a.img
</pre></div>

<hr>
<a name="disk_005fimages_005fssh"></a>
<a name="Secure-Shell-_0028ssh_0029-disk-images"></a>
<h4 class="subsection">3.7.14 Secure Shell (ssh) disk images</h4>

<p>You can access disk images located on a remote ssh server
by using the ssh protocol:
</p>
<div class="example">
<pre class="example">qemu-system-x86_64 -drive file=ssh://[<var>user</var>@]<var>server</var>[:<var>port</var>]/<var>path</var>[?host_key_check=<var>host_key_check</var>]
</pre></div>

<p>Alternative syntax using properties:
</p>
<div class="example">
<pre class="example">qemu-system-x86_64 -drive file.driver=ssh[,file.user=<var>user</var>],file.host=<var>server</var>[,file.port=<var>port</var>],file.path=<var>path</var>[,file.host_key_check=<var>host_key_check</var>]
</pre></div>

<p><var>ssh</var> is the protocol.
</p>
<p><var>user</var> is the remote user.  If not specified, then the local
username is tried.
</p>
<p><var>server</var> specifies the remote ssh server.  Any ssh server can be
used, but it must implement the sftp-server protocol.  Most Unix/Linux
systems should work without requiring any extra configuration.
</p>
<p><var>port</var> is the port number on which sshd is listening.  By default
the standard ssh port (22) is used.
</p>
<p><var>path</var> is the path to the disk image.
</p>
<p>The optional <var>host_key_check</var> parameter controls how the remote
host&rsquo;s key is checked.  The default is <code>yes</code> which means to use
the local <samp>.ssh/known_hosts</samp> file.  Setting this to <code>no</code>
turns off known-hosts checking.  Or you can check that the host key
matches a specific fingerprint:
<code>host_key_check=md5:78:45:8e:14:57:4f:d5:45:83:0a:0e:f3:49:82:c9:c8</code>
(<code>sha1:</code> can also be used as a prefix, but note that OpenSSH
tools only use MD5 to print fingerprints).
</p>
<p>Currently authentication must be done using ssh-agent.  Other
authentication methods may be supported in future.
</p>
<p>Note: Many ssh servers do not support an <code>fsync</code>-style operation.
The ssh driver cannot guarantee that disk flush requests are
obeyed, and this causes a risk of disk corruption if the remote
server or network goes down during writes.  The driver will
print a warning when <code>fsync</code> is not supported:
</p>
<p>warning: ssh server <code>ssh.example.com:22</code> does not support fsync
</p>
<p>With sufficiently new versions of libssh2 and OpenSSH, <code>fsync</code> is
supported.
</p>
<hr>
<a name="pcsys_005fnetwork"></a>
<a name="Network-emulation"></a>
<h3 class="section">3.8 Network emulation</h3>

<p>QEMU can simulate several network cards (PCI or ISA cards on the PC
target) and can connect them to an arbitrary number of Virtual Local
Area Networks (VLANs). Host TAP devices can be connected to any QEMU
VLAN. VLAN can be connected between separate instances of QEMU to
simulate large networks. For simpler usage, a non privileged user mode
network stack can replace the TAP device to have a basic network
connection.
</p>
<a name="VLANs"></a>
<h4 class="subsection">3.8.1 VLANs</h4>

<p>QEMU simulates several VLANs. A VLAN can be symbolised as a virtual
connection between several network devices. These devices can be for
example QEMU virtual Ethernet cards or virtual Host ethernet devices
(TAP devices).
</p>
<a name="Using-TAP-network-interfaces"></a>
<h4 class="subsection">3.8.2 Using TAP network interfaces</h4>

<p>This is the standard way to connect QEMU to a real network. QEMU adds
a virtual network device on your host (called <code>tapN</code>), and you
can then configure it as if it was a real ethernet card.
</p>
<a name="Linux-host"></a>
<h4 class="subsubsection">3.8.2.1 Linux host</h4>

<p>As an example, you can download the <samp>linux-test-xxx.tar.gz</samp>
archive and copy the script <samp>qemu-ifup</samp> in <samp>/etc</samp> and
configure properly <code>sudo</code> so that the command <code>ifconfig</code>
contained in <samp>qemu-ifup</samp> can be executed as root. You must verify
that your host kernel supports the TAP network interfaces: the
device <samp>/dev/net/tun</samp> must be present.
</p>
<p>See <a href="#sec_005finvocation">sec_invocation</a> to have examples of command lines using the
TAP network interfaces.
</p>
<a name="Windows-host"></a>
<h4 class="subsubsection">3.8.2.2 Windows host</h4>

<p>There is a virtual ethernet driver for Windows 2000/XP systems, called
TAP-Win32. But it is not included in standard QEMU for Windows,
so you will need to get it separately. It is part of OpenVPN package,
so download OpenVPN from : <a href="http://openvpn.net/">http://openvpn.net/</a>.
</p>
<a name="Using-the-user-mode-network-stack"></a>
<h4 class="subsection">3.8.3 Using the user mode network stack</h4>

<p>By using the option <samp>-net user</samp> (default configuration if no
<samp>-net</samp> option is specified), QEMU uses a completely user mode
network stack (you don&rsquo;t need root privilege to use the virtual
network). The virtual network configuration is the following:
</p>
<div class="example">
<pre class="example">
         QEMU VLAN      &lt;------&gt;  Firewall/DHCP server &lt;-----&gt; Internet
                           |          (10.0.2.2)
                           |
                           ----&gt;  DNS server (10.0.2.3)
                           |
                           ----&gt;  SMB server (10.0.2.4)
</pre></div>

<p>The QEMU VM behaves as if it was behind a firewall which blocks all
incoming connections. You can use a DHCP client to automatically
configure the network in the QEMU VM. The DHCP server assign addresses
to the hosts starting from 10.0.2.15.
</p>
<p>In order to check that the user mode network is working, you can ping
the address 10.0.2.2 and verify that you got an address in the range
10.0.2.x from the QEMU virtual DHCP server.
</p>
<p>Note that ICMP traffic in general does not work with user mode networking.
<code>ping</code>, aka. ICMP echo, to the local router (10.0.2.2) shall work,
however. If you&rsquo;re using QEMU on Linux &gt;= 3.0, it can use unprivileged ICMP
ping sockets to allow <code>ping</code> to the Internet. The host admin has to set
the ping_group_range in order to grant access to those sockets. To allow ping
for GID 100 (usually users group):
</p>
<div class="example">
<pre class="example">echo 100 100 &gt; /proc/sys/net/ipv4/ping_group_range
</pre></div>

<p>When using the built-in TFTP server, the router is also the TFTP
server.
</p>
<p>When using the <samp>'-netdev user,hostfwd=...'</samp> option, TCP or UDP
connections can be redirected from the host to the guest. It allows for
example to redirect X11, telnet or SSH connections.
</p>
<a name="Connecting-VLANs-between-QEMU-instances"></a>
<h4 class="subsection">3.8.4 Connecting VLANs between QEMU instances</h4>

<p>Using the <samp>-net socket</samp> option, it is possible to make VLANs
that span several QEMU instances. See <a href="#sec_005finvocation">sec_invocation</a> to have a
basic example.
</p>
<hr>
<a name="pcsys_005fother_005fdevs"></a>
<a name="Other-Devices"></a>
<h3 class="section">3.9 Other Devices</h3>

<a name="Inter_002dVM-Shared-Memory-device"></a>
<h4 class="subsection">3.9.1 Inter-VM Shared Memory device</h4>

<p>On Linux hosts, a shared memory device is available.  The basic syntax
is:
</p>
<div class="example">
<pre class="example">qemu-system-x86_64 -device ivshmem-plain,memdev=<var>hostmem</var>
</pre></div>

<p>where <var>hostmem</var> names a host memory backend.  For a POSIX shared
memory backend, use something like
</p>
<div class="example">
<pre class="example">-object memory-backend-file,size=1M,share,mem-path=/dev/shm/ivshmem,id=<var>hostmem</var>
</pre></div>

<p>If desired, interrupts can be sent between guest VMs accessing the same shared
memory region.  Interrupt support requires using a shared memory server and
using a chardev socket to connect to it.  The code for the shared memory server
is qemu.git/contrib/ivshmem-server.  An example syntax when using the shared
memory server is:
</p>
<div class="example">
<pre class="example"># First start the ivshmem server once and for all
ivshmem-server -p <var>pidfile</var> -S <var>path</var> -m <var>shm-name</var> -l <var>shm-size</var> -n <var>vectors</var>

# Then start your qemu instances with matching arguments
qemu-system-x86_64 -device ivshmem-doorbell,vectors=<var>vectors</var>,chardev=<var>id</var>
                 -chardev socket,path=<var>path</var>,id=<var>id</var>
</pre></div>

<p>When using the server, the guest will be assigned a VM ID (&gt;=0) that allows guests
using the same server to communicate via interrupts.  Guests can read their
VM ID from a device register (see ivshmem-spec.txt).
</p>
<a name="Migration-with-ivshmem"></a>
<h4 class="subsubsection">3.9.1.1 Migration with ivshmem</h4>

<p>With device property <samp>master=on</samp>, the guest will copy the shared
memory on migration to the destination host.  With <samp>master=off</samp>,
the guest will not be able to migrate with the device attached.  In the
latter case, the device should be detached and then reattached after
migration using the PCI hotplug support.
</p>
<p>At most one of the devices sharing the same memory can be master.  The
master must complete migration before you plug back the other devices.
</p>
<a name="ivshmem-and-hugepages"></a>
<h4 class="subsubsection">3.9.1.2 ivshmem and hugepages</h4>

<p>Instead of specifying the &lt;shm size&gt; using POSIX shm, you may specify
a memory backend that has hugepage support:
</p>
<div class="example">
<pre class="example">qemu-system-x86_64 -object memory-backend-file,size=1G,mem-path=/dev/hugepages/my-shmem-file,share,id=mb1
                 -device ivshmem-plain,memdev=mb1
</pre></div>

<p>ivshmem-server also supports hugepages mount points with the
<samp>-m</samp> memory path argument.
</p>
<hr>
<a name="direct_005flinux_005fboot"></a>
<a name="Direct-Linux-Boot"></a>
<h3 class="section">3.10 Direct Linux Boot</h3>

<p>This section explains how to launch a Linux kernel inside QEMU without
having to make a full bootable image. It is very useful for fast Linux
kernel testing.
</p>
<p>The syntax is:
</p><div class="example">
<pre class="example">qemu-system-i386 -kernel arch/i386/boot/bzImage -hda root-2.4.20.img -append &quot;root=/dev/hda&quot;
</pre></div>

<p>Use <samp>-kernel</samp> to provide the Linux kernel image and
<samp>-append</samp> to give the kernel command line arguments. The
<samp>-initrd</samp> option can be used to provide an INITRD image.
</p>
<p>When using the direct Linux boot, a disk image for the first hard disk
<samp>hda</samp> is required because its boot sector is used to launch the
Linux kernel.
</p>
<p>If you do not need graphical output, you can disable it and redirect
the virtual serial port and the QEMU monitor to the console with the
<samp>-nographic</samp> option. The typical command line is:
</p><div class="example">
<pre class="example">qemu-system-i386 -kernel arch/i386/boot/bzImage -hda root-2.4.20.img \
                 -append &quot;root=/dev/hda console=ttyS0&quot; -nographic
</pre></div>

<p>Use <tt class="key">Ctrl-a c</tt> to switch between the serial console and the
monitor (see <a href="#pcsys_005fkeys">pcsys_keys</a>).
</p>
<hr>
<a name="pcsys_005fusb"></a>
<a name="USB-emulation"></a>
<h3 class="section">3.11 USB emulation</h3>

<p>QEMU emulates a PCI UHCI USB controller. You can virtually plug
virtual USB devices or real host USB devices (experimental, works only
on Linux hosts).  QEMU will automatically create and connect virtual USB hubs
as necessary to connect multiple USB devices.
</p>
<hr>
<a name="usb_005fdevices"></a>
<a name="Connecting-USB-devices"></a>
<h4 class="subsection">3.11.1 Connecting USB devices</h4>

<p>USB devices can be connected with the <samp>-usbdevice</samp> commandline option
or the <code>usb_add</code> monitor command.  Available devices are:
</p>
<dl compact="compact">
<dt><code>mouse</code></dt>
<dd><p>Virtual Mouse.  This will override the PS/2 mouse emulation when activated.
</p></dd>
<dt><code>tablet</code></dt>
<dd><p>Pointer device that uses absolute coordinates (like a touchscreen).
This means QEMU is able to report the mouse position without having
to grab the mouse.  Also overrides the PS/2 mouse emulation when activated.
</p></dd>
<dt><code>disk:<var>file</var></code></dt>
<dd><p>Mass storage device based on <var>file</var> (see <a href="#disk_005fimages">disk_images</a>)
</p></dd>
<dt><code>host:<var>bus.addr</var></code></dt>
<dd><p>Pass through the host device identified by <var>bus.addr</var>
(Linux only)
</p></dd>
<dt><code>host:<var>vendor_id:product_id</var></code></dt>
<dd><p>Pass through the host device identified by <var>vendor_id:product_id</var>
(Linux only)
</p></dd>
<dt><code>wacom-tablet</code></dt>
<dd><p>Virtual Wacom PenPartner tablet.  This device is similar to the <code>tablet</code>
above but it can be used with the tslib library because in addition to touch
coordinates it reports touch pressure.
</p></dd>
<dt><code>keyboard</code></dt>
<dd><p>Standard USB keyboard.  Will override the PS/2 keyboard (if present).
</p></dd>
<dt><code>serial:[vendorid=<var>vendor_id</var>][,product_id=<var>product_id</var>]:<var>dev</var></code></dt>
<dd><p>Serial converter. This emulates an FTDI FT232BM chip connected to host character
device <var>dev</var>. The available character devices are the same as for the
<code>-serial</code> option. The <code>vendorid</code> and <code>productid</code> options can be
used to override the default 0403:6001. For instance,
</p><div class="example">
<pre class="example">usb_add serial:productid=FA00:tcp:192.168.0.2:4444
</pre></div>
<p>will connect to tcp port 4444 of ip 192.168.0.2, and plug that to the virtual
serial converter, faking a Matrix Orbital LCD Display (USB ID 0403:FA00).
</p></dd>
<dt><code>braille</code></dt>
<dd><p>Braille device.  This will use BrlAPI to display the braille output on a real
or fake device.
</p></dd>
<dt><code>net:<var>options</var></code></dt>
<dd><p>Network adapter that supports CDC ethernet and RNDIS protocols.  <var>options</var>
specifies NIC options as with <code>-net nic,</code><var>options</var> (see description).
For instance, user-mode networking can be used with
</p><div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -net user,vlan=0 -usbdevice net:vlan=0
</pre></div>
<p>Currently this cannot be used in machines that support PCI NICs.
</p></dd>
<dt><code>bt[:<var>hci-type</var>]</code></dt>
<dd><p>Bluetooth dongle whose type is specified in the same format as with
the <samp>-bt hci</samp> option, see <a href="#bt_002dhcis">allowed HCI types</a>.  If
no type is given, the HCI logic corresponds to <code>-bt hci,vlan=0</code>.
This USB device implements the USB Transport Layer of HCI.  Example
usage:
</p><div class="example">
<pre class="example"><code>qemu-system-i386</code> [...<var>OPTIONS</var>...] <samp>-usbdevice</samp> bt:hci,vlan=3 <samp>-bt</samp> device:keyboard,vlan=3
</pre></div>
</dd>
</dl>

<hr>
<a name="host_005fusb_005fdevices"></a>
<a name="Using-host-USB-devices-on-a-Linux-host"></a>
<h4 class="subsection">3.11.2 Using host USB devices on a Linux host</h4>

<p>WARNING: this is an experimental feature. QEMU will slow down when
using it. USB devices requiring real time streaming (i.e. USB Video
Cameras) are not supported yet.
</p>
<ol>
<li> If you use an early Linux 2.4 kernel, verify that no Linux driver
is actually using the USB device. A simple way to do that is simply to
disable the corresponding kernel module by renaming it from <samp>mydriver.o</samp>
to <samp>mydriver.o.disabled</samp>.

</li><li> Verify that <samp>/proc/bus/usb</samp> is working (most Linux distributions should enable it by default). You should see something like that:
<div class="example">
<pre class="example">ls /proc/bus/usb
001  devices  drivers
</pre></div>

</li><li> Since only root can access to the USB devices directly, you can either launch QEMU as root or change the permissions of the USB devices you want to use. For testing, the following suffices:
<div class="example">
<pre class="example">chown -R myuid /proc/bus/usb
</pre></div>

</li><li> Launch QEMU and do in the monitor:
<div class="example">
<pre class="example">info usbhost
  Device 1.2, speed 480 Mb/s
    Class 00: USB device 1234:5678, USB DISK
</pre></div>
<p>You should see the list of the devices you can use (Never try to use
hubs, it won&rsquo;t work).
</p>
</li><li> Add the device in QEMU by using:
<div class="example">
<pre class="example">usb_add host:1234:5678
</pre></div>

<p>Normally the guest OS should report that a new USB device is
plugged. You can use the option <samp>-usbdevice</samp> to do the same.
</p>
</li><li> Now you can try to use the host USB device in QEMU.

</li></ol>

<p>When relaunching QEMU, you may have to unplug and plug again the USB
device to make it work again (this is a bug).
</p>
<hr>
<a name="vnc_005fsecurity"></a>
<a name="VNC-security"></a>
<h3 class="section">3.12 VNC security</h3>

<p>The VNC server capability provides access to the graphical console
of the guest VM across the network. This has a number of security
considerations depending on the deployment scenarios.
</p>
<hr>
<a name="vnc_005fsec_005fnone"></a>
<a name="Without-passwords"></a>
<h4 class="subsection">3.12.1 Without passwords</h4>

<p>The simplest VNC server setup does not include any form of authentication.
For this setup it is recommended to restrict it to listen on a UNIX domain
socket only. For example
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc unix:/home/joebloggs/.qemu-myvm-vnc
</pre></div>

<p>This ensures that only users on local box with read/write access to that
path can access the VNC server. To securely access the VNC server from a
remote machine, a combination of netcat+ssh can be used to provide a secure
tunnel.
</p>
<hr>
<a name="vnc_005fsec_005fpassword"></a>
<a name="With-passwords"></a>
<h4 class="subsection">3.12.2 With passwords</h4>

<p>The VNC protocol has limited support for password based authentication. Since
the protocol limits passwords to 8 characters it should not be considered
to provide high security. The password can be fairly easily brute-forced by
a client making repeat connections. For this reason, a VNC server using password
authentication should be restricted to only listen on the loopback interface
or UNIX domain sockets. Password authentication is not supported when operating
in FIPS 140-2 compliance mode as it requires the use of the DES cipher. Password
authentication is requested with the <code>password</code> option, and then once QEMU
is running the password is set with the monitor. Until the monitor is used to
set the password all clients will be rejected.
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,password -monitor stdio
(qemu) change vnc password
Password: ********
(qemu)
</pre></div>

<hr>
<a name="vnc_005fsec_005fcertificate"></a>
<a name="With-x509-certificates"></a>
<h4 class="subsection">3.12.3 With x509 certificates</h4>

<p>The QEMU VNC server also implements the VeNCrypt extension allowing use of
TLS for encryption of the session, and x509 certificates for authentication.
The use of x509 certificates is strongly recommended, because TLS on its
own is susceptible to man-in-the-middle attacks. Basic x509 certificate
support provides a secure session, but no authentication. This allows any
client to connect, and provides an encrypted session.
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,tls,x509=/etc/pki/qemu -monitor stdio
</pre></div>

<p>In the above example <code>/etc/pki/qemu</code> should contain at least three files,
<code>ca-cert.pem</code>, <code>server-cert.pem</code> and <code>server-key.pem</code>. Unprivileged
users will want to use a private directory, for example <code>$HOME/.pki/qemu</code>.
NB the <code>server-key.pem</code> file should be protected with file mode 0600 to
only be readable by the user owning it.
</p>
<hr>
<a name="vnc_005fsec_005fcertificate_005fverify"></a>
<a name="With-x509-certificates-and-client-verification"></a>
<h4 class="subsection">3.12.4 With x509 certificates and client verification</h4>

<p>Certificates can also provide a means to authenticate the client connecting.
The server will request that the client provide a certificate, which it will
then validate against the CA certificate. This is a good choice if deploying
in an environment with a private internal certificate authority.
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,tls,x509verify=/etc/pki/qemu -monitor stdio
</pre></div>


<hr>
<a name="vnc_005fsec_005fcertificate_005fpw"></a>
<a name="With-x509-certificates_002c-client-verification-and-passwords"></a>
<h4 class="subsection">3.12.5 With x509 certificates, client verification and passwords</h4>

<p>Finally, the previous method can be combined with VNC password authentication
to provide two layers of authentication for clients.
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,password,tls,x509verify=/etc/pki/qemu -monitor stdio
(qemu) change vnc password
Password: ********
(qemu)
</pre></div>


<hr>
<a name="vnc_005fsec_005fsasl"></a>
<a name="With-SASL-authentication"></a>
<h4 class="subsection">3.12.6 With SASL authentication</h4>

<p>The SASL authentication method is a VNC extension, that provides an
easily extendable, pluggable authentication method. This allows for
integration with a wide range of authentication mechanisms, such as
PAM, GSSAPI/Kerberos, LDAP, SQL databases, one-time keys and more.
The strength of the authentication depends on the exact mechanism
configured. If the chosen mechanism also provides a SSF layer, then
it will encrypt the datastream as well.
</p>
<p>Refer to the later docs on how to choose the exact SASL mechanism
used for authentication, but assuming use of one supporting SSF,
then QEMU can be launched with:
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,sasl -monitor stdio
</pre></div>

<hr>
<a name="vnc_005fsec_005fcertificate_005fsasl"></a>
<a name="With-x509-certificates-and-SASL-authentication"></a>
<h4 class="subsection">3.12.7 With x509 certificates and SASL authentication</h4>

<p>If the desired SASL authentication mechanism does not supported
SSF layers, then it is strongly advised to run it in combination
with TLS and x509 certificates. This provides securely encrypted
data stream, avoiding risk of compromising of the security
credentials. This can be enabled, by combining the &rsquo;sasl&rsquo; option
with the aforementioned TLS + x509 options:
</p>
<div class="example">
<pre class="example">qemu-system-i386 [...OPTIONS...] -vnc :1,tls,x509,sasl -monitor stdio
</pre></div>


<hr>
<a name="vnc_005fgenerate_005fcert"></a>
<a name="Generating-certificates-for-VNC"></a>
<h4 class="subsection">3.12.8 Generating certificates for VNC</h4>

<p>The GNU TLS packages provides a command called <code>certtool</code> which can
be used to generate certificates and keys in PEM format. At a minimum it
is necessary to setup a certificate authority, and issue certificates to
each server. If using certificates for authentication, then each client
will also need to be issued a certificate. The recommendation is for the
server to keep its certificates in either <code>/etc/pki/qemu</code> or for
unprivileged users in <code>$HOME/.pki/qemu</code>.
</p>
<hr>
<a name="vnc_005fgenerate_005fca"></a>
<a name="Setup-the-Certificate-Authority"></a>
<h4 class="subsubsection">3.12.8.1 Setup the Certificate Authority</h4>

<p>This step only needs to be performed once per organization / organizational
unit. First the CA needs a private key. This key must be kept VERY secret
and secure. If this key is compromised the entire trust chain of the certificates
issued with it is lost.
</p>
<div class="example">
<pre class="example"># certtool --generate-privkey &gt; ca-key.pem
</pre></div>

<p>A CA needs to have a public certificate. For simplicity it can be a self-signed
certificate, or one issue by a commercial certificate issuing authority. To
generate a self-signed certificate requires one core piece of information, the
name of the organization.
</p>
<div class="example">
<pre class="example"># cat &gt; ca.info &lt;&lt;EOF
cn = Name of your organization
ca
cert_signing_key
EOF
# certtool --generate-self-signed \
           --load-privkey ca-key.pem
           --template ca.info \
           --outfile ca-cert.pem
</pre></div>

<p>The <code>ca-cert.pem</code> file should be copied to all servers and clients wishing to utilize
TLS support in the VNC server. The <code>ca-key.pem</code> must not be disclosed/copied at all.
</p>
<hr>
<a name="vnc_005fgenerate_005fserver"></a>
<a name="Issuing-server-certificates"></a>
<h4 class="subsubsection">3.12.8.2 Issuing server certificates</h4>

<p>Each server (or host) needs to be issued with a key and certificate. When connecting
the certificate is sent to the client which validates it against the CA certificate.
The core piece of information for a server certificate is the hostname. This should
be the fully qualified hostname that the client will connect with, since the client
will typically also verify the hostname in the certificate. On the host holding the
secure CA private key:
</p>
<div class="example">
<pre class="example"># cat &gt; server.info &lt;&lt;EOF
organization = Name  of your organization
cn = server.foo.example.com
tls_www_server
encryption_key
signing_key
EOF
# certtool --generate-privkey &gt; server-key.pem
# certtool --generate-certificate \
           --load-ca-certificate ca-cert.pem \
           --load-ca-privkey ca-key.pem \
           --load-privkey server-key.pem \
           --template server.info \
           --outfile server-cert.pem
</pre></div>

<p>The <code>server-key.pem</code> and <code>server-cert.pem</code> files should now be securely copied
to the server for which they were generated. The <code>server-key.pem</code> is security
sensitive and should be kept protected with file mode 0600 to prevent disclosure.
</p>
<hr>
<a name="vnc_005fgenerate_005fclient"></a>
<a name="Issuing-client-certificates"></a>
<h4 class="subsubsection">3.12.8.3 Issuing client certificates</h4>

<p>If the QEMU VNC server is to use the <code>x509verify</code> option to validate client
certificates as its authentication mechanism, each client also needs to be issued
a certificate. The client certificate contains enough metadata to uniquely identify
the client, typically organization, state, city, building, etc. On the host holding
the secure CA private key:
</p>
<div class="example">
<pre class="example"># cat &gt; client.info &lt;&lt;EOF
country = GB
state = London
locality = London
organization = Name of your organization
cn = client.foo.example.com
tls_www_client
encryption_key
signing_key
EOF
# certtool --generate-privkey &gt; client-key.pem
# certtool --generate-certificate \
           --load-ca-certificate ca-cert.pem \
           --load-ca-privkey ca-key.pem \
           --load-privkey client-key.pem \
           --template client.info \
           --outfile client-cert.pem
</pre></div>

<p>The <code>client-key.pem</code> and <code>client-cert.pem</code> files should now be securely
copied to the client for which they were generated.
</p>

<hr>
<a name="vnc_005fsetup_005fsasl"></a>

<a name="Configuring-SASL-mechanisms"></a>
<h4 class="subsection">3.12.9 Configuring SASL mechanisms</h4>

<p>The following documentation assumes use of the Cyrus SASL implementation on a
Linux host, but the principals should apply to any other SASL impl. When SASL
is enabled, the mechanism configuration will be loaded from system default
SASL service config /etc/sasl2/qemu.conf. If running QEMU as an
unprivileged user, an environment variable SASL_CONF_PATH can be used
to make it search alternate locations for the service config.
</p>
<p>The default configuration might contain
</p>
<div class="example">
<pre class="example">mech_list: digest-md5
sasldb_path: /etc/qemu/passwd.db
</pre></div>

<p>This says to use the &rsquo;Digest MD5&rsquo; mechanism, which is similar to the HTTP
Digest-MD5 mechanism. The list of valid usernames &amp; passwords is maintained
in the /etc/qemu/passwd.db file, and can be updated using the saslpasswd2
command. While this mechanism is easy to configure and use, it is not
considered secure by modern standards, so only suitable for developers /
ad-hoc testing.
</p>
<p>A more serious deployment might use Kerberos, which is done with the &rsquo;gssapi&rsquo;
mechanism
</p>
<div class="example">
<pre class="example">mech_list: gssapi
keytab: /etc/qemu/krb5.tab
</pre></div>

<p>For this to work the administrator of your KDC must generate a Kerberos
principal for the server, with a name of  &rsquo;qemu/somehost.example.com@EXAMPLE.COM&rsquo;
replacing &rsquo;somehost.example.com&rsquo; with the fully qualified host name of the
machine running QEMU, and &rsquo;EXAMPLE.COM&rsquo; with the Kerberos Realm.
</p>
<p>Other configurations will be left as an exercise for the reader. It should
be noted that only Digest-MD5 and GSSAPI provides a SSF layer for data
encryption. For all other mechanisms, VNC should always be configured to
use TLS and x509 certificates to protect security credentials from snooping.
</p>
<hr>
<a name="gdb_005fusage"></a>
<a name="GDB-usage"></a>
<h3 class="section">3.13 GDB usage</h3>

<p>QEMU has a primitive support to work with gdb, so that you can do
&rsquo;Ctrl-C&rsquo; while the virtual machine is running and inspect its state.
</p>
<p>In order to use gdb, launch QEMU with the &rsquo;-s&rsquo; option. It will wait for a
gdb connection:
</p><div class="example">
<pre class="example">qemu-system-i386 -s -kernel arch/i386/boot/bzImage -hda root-2.4.20.img \
                    -append &quot;root=/dev/hda&quot;
Connected to host network interface: tun0
Waiting gdb connection on port 1234
</pre></div>

<p>Then launch gdb on the &rsquo;vmlinux&rsquo; executable:
</p><div class="example">
<pre class="example">&gt; gdb vmlinux
</pre></div>

<p>In gdb, connect to QEMU:
</p><div class="example">
<pre class="example">(gdb) target remote localhost:1234
</pre></div>

<p>Then you can use gdb normally. For example, type &rsquo;c&rsquo; to launch the kernel:
</p><div class="example">
<pre class="example">(gdb) c
</pre></div>

<p>Here are some useful tips in order to use gdb on system code:
</p>
<ol>
<li> Use <code>info reg</code> to display all the CPU registers.
</li><li> Use <code>x/10i $eip</code> to display the code at the PC position.
</li><li> Use <code>set architecture i8086</code> to dump 16 bit code. Then use
<code>x/10i $cs*16+$eip</code> to dump the code at the PC position.
</li></ol>

<p>Advanced debugging options:
</p>
<p>The default single stepping behavior is step with the IRQs and timer service routines off.  It is set this way because when gdb executes a single step it expects to advance beyond the current instruction.  With the IRQs and timer service routines on, a single step might jump into the one of the interrupt or exception vectors instead of executing the current instruction. This means you may hit the same breakpoint a number of times before executing the instruction gdb wants to have executed.  Because there are rare circumstances where you want to single step into an interrupt vector the behavior can be controlled from GDB.  There are three commands you can query and set the single step behavior:
</p><dl compact="compact">
<dt><code>maintenance packet qqemu.sstepbits</code></dt>
<dd>
<p>This will display the MASK bits used to control the single stepping IE:
</p><div class="example">
<pre class="example">(gdb) maintenance packet qqemu.sstepbits
sending: &quot;qqemu.sstepbits&quot;
received: &quot;ENABLE=1,NOIRQ=2,NOTIMER=4&quot;
</pre></div>
</dd>
<dt><code>maintenance packet qqemu.sstep</code></dt>
<dd>
<p>This will display the current value of the mask used when single stepping IE:
</p><div class="example">
<pre class="example">(gdb) maintenance packet qqemu.sstep
sending: &quot;qqemu.sstep&quot;
received: &quot;0x7&quot;
</pre></div>
</dd>
<dt><code>maintenance packet Qqemu.sstep=HEX_VALUE</code></dt>
<dd>
<p>This will change the single step mask, so if wanted to enable IRQs on the single step, but not timers, you would use:
</p><div class="example">
<pre class="example">(gdb) maintenance packet Qqemu.sstep=0x5
sending: &quot;qemu.sstep=0x5&quot;
received: &quot;OK&quot;
</pre></div>
</dd>
</dl>

<hr>
<a name="pcsys_005fos_005fspecific"></a>
<a name="Target-OS-specific-information"></a>
<h3 class="section">3.14 Target OS specific information</h3>

<a name="Linux-2"></a>
<h4 class="subsection">3.14.1 Linux</h4>

<p>To have access to SVGA graphic modes under X11, use the <code>vesa</code> or
the <code>cirrus</code> X11 driver. For optimal performances, use 16 bit
color depth in the guest and the host OS.
</p>
<p>When using a 2.6 guest Linux kernel, you should add the option
<code>clock=pit</code> on the kernel command line because the 2.6 Linux
kernels make very strict real time clock checks by default that QEMU
cannot simulate exactly.
</p>
<p>When using a 2.6 guest Linux kernel, verify that the 4G/4G patch is
not activated because QEMU is slower with this patch. The QEMU
Accelerator Module is also much slower in this case. Earlier Fedora
Core 3 Linux kernel (&lt; 2.6.9-1.724_FC3) were known to incorporate this
patch by default. Newer kernels don&rsquo;t have it.
</p>
<a name="Windows-3"></a>
<h4 class="subsection">3.14.2 Windows</h4>

<p>If you have a slow host, using Windows 95 is better as it gives the
best speed. Windows 2000 is also a good choice.
</p>
<a name="SVGA-graphic-modes-support"></a>
<h4 class="subsubsection">3.14.2.1 SVGA graphic modes support</h4>

<p>QEMU emulates a Cirrus Logic GD5446 Video
card. All Windows versions starting from Windows 95 should recognize
and use this graphic card. For optimal performances, use 16 bit color
depth in the guest and the host OS.
</p>
<p>If you are using Windows XP as guest OS and if you want to use high
resolution modes which the Cirrus Logic BIOS does not support (i.e. &gt;=
1280x1024x16), then you should use the VESA VBE virtual graphic card
(option <samp>-std-vga</samp>).
</p>
<a name="CPU-usage-reduction"></a>
<h4 class="subsubsection">3.14.2.2 CPU usage reduction</h4>

<p>Windows 9x does not correctly use the CPU HLT
instruction. The result is that it takes host CPU cycles even when
idle. You can install the utility from
<a href="http://www.user.cityline.ru/~maxamn/amnhltm.zip">http://www.user.cityline.ru/~maxamn/amnhltm.zip</a> to solve this
problem. Note that no such tool is needed for NT, 2000 or XP.
</p>
<a name="Windows-2000-disk-full-problem"></a>
<h4 class="subsubsection">3.14.2.3 Windows 2000 disk full problem</h4>

<p>Windows 2000 has a bug which gives a disk full problem during its
installation. When installing it, use the <samp>-win2k-hack</samp> QEMU
option to enable a specific workaround. After Windows 2000 is
installed, you no longer need this option (this option slows down the
IDE transfers).
</p>
<a name="Windows-2000-shutdown"></a>
<h4 class="subsubsection">3.14.2.4 Windows 2000 shutdown</h4>

<p>Windows 2000 cannot automatically shutdown in QEMU although Windows 98
can. It comes from the fact that Windows 2000 does not automatically
use the APM driver provided by the BIOS.
</p>
<p>In order to correct that, do the following (thanks to Struan
Bartlett): go to the Control Panel =&gt; Add/Remove Hardware &amp; Next =&gt;
Add/Troubleshoot a device =&gt; Add a new device &amp; Next =&gt; No, select the
hardware from a list &amp; Next =&gt; NT Apm/Legacy Support &amp; Next =&gt; Next
(again) a few times. Now the driver is installed and Windows 2000 now
correctly instructs QEMU to shutdown at the appropriate moment.
</p>
<a name="Share-a-directory-between-Unix-and-Windows"></a>
<h4 class="subsubsection">3.14.2.5 Share a directory between Unix and Windows</h4>

<p>See <a href="#sec_005finvocation">sec_invocation</a> about the help of the option
<samp>'-netdev user,smb=...'</samp>.
</p>
<a name="Windows-XP-security-problem"></a>
<h4 class="subsubsection">3.14.2.6 Windows XP security problem</h4>

<p>Some releases of Windows XP install correctly but give a security
error when booting:
</p><div class="example">
<pre class="example">A problem is preventing Windows from accurately checking the
license for this computer. Error code: 0x800703e6.
</pre></div>

<p>The workaround is to install a service pack for XP after a boot in safe
mode. Then reboot, and the problem should go away. Since there is no
network while in safe mode, its recommended to download the full
installation of SP1 or SP2 and transfer that via an ISO or using the
vvfat block device (&quot;-hdb fat:directory_which_holds_the_SP&quot;).
</p>
<a name="MS_002dDOS-and-FreeDOS"></a>
<h4 class="subsection">3.14.3 MS-DOS and FreeDOS</h4>

<a name="CPU-usage-reduction-1"></a>
<h4 class="subsubsection">3.14.3.1 CPU usage reduction</h4>

<p>DOS does not correctly use the CPU HLT instruction. The result is that
it takes host CPU cycles even when idle. You can install the utility
from <a href="http://www.vmware.com/software/dosidle210.zip">http://www.vmware.com/software/dosidle210.zip</a> to solve this
problem.
</p>
<hr>
<a name="QEMU-System-emulator-for-non-PC-targets"></a>
<a name="QEMU-System-emulator-for-non-PC-targets-1"></a>
<h2 class="chapter">4 QEMU System emulator for non PC targets</h2>

<p>QEMU is a generic emulator and it emulates many non PC
machines. Most of the options are similar to the PC emulator. The
differences are mentioned in the following sections.
</p>

<hr>
<a name="PowerPC-System-emulator"></a>
<a name="PowerPC-System-emulator-1"></a>
<h3 class="section">4.1 PowerPC System emulator</h3>
<a name="index-system-emulation-_0028PowerPC_0029"></a>

<p>Use the executable <samp>qemu-system-ppc</samp> to simulate a complete PREP
or PowerMac PowerPC system.
</p>
<p>QEMU emulates the following PowerMac peripherals:
</p>
<ul class="no-bullet">
<li>- UniNorth or Grackle PCI Bridge
</li><li>- PCI VGA compatible card with VESA Bochs Extensions
</li><li>- 2 PMAC IDE interfaces with hard disk and CD-ROM support
</li><li>- NE2000 PCI adapters
</li><li>- Non Volatile RAM
</li><li>- VIA-CUDA with ADB keyboard and mouse.
</li></ul>

<p>QEMU emulates the following PREP peripherals:
</p>
<ul class="no-bullet">
<li>- PCI Bridge
</li><li>- PCI VGA compatible card with VESA Bochs Extensions
</li><li>- 2 IDE interfaces with hard disk and CD-ROM support
</li><li>- Floppy disk
</li><li>- NE2000 network adapters
</li><li>- Serial port
</li><li>- PREP Non Volatile RAM
</li><li>- PC compatible keyboard and mouse.
</li></ul>

<p>QEMU uses the Open Hack&rsquo;Ware Open Firmware Compatible BIOS.
</p>
<p>Since version 0.9.1, QEMU uses OpenBIOS <a href="http://www.openbios.org/">http://www.openbios.org/</a>
for the g3beige and mac99 PowerMac machines. OpenBIOS is a free (GPL
v2) portable firmware implementation. The goal is to implement a 100%
IEEE 1275-1994 (referred to as Open Firmware) compliant firmware.
</p>

<p>The following options are specific to the PowerPC emulation:
</p>
<dl compact="compact">
<dt><samp>-g <var>W</var>x<var>H</var>[x<var>DEPTH</var>]</samp></dt>
<dd>
<p>Set the initial VGA graphic mode. The default is 800x600x32.
</p>
</dd>
<dt><samp>-prom-env <var>string</var></samp></dt>
<dd>
<p>Set OpenBIOS variables in NVRAM, for example:
</p>
<div class="example">
<pre class="example">qemu-system-ppc -prom-env 'auto-boot?=false' \
 -prom-env 'boot-device=hd:2,\yaboot' \
 -prom-env 'boot-args=conf=hd:2,\yaboot.conf'
</pre></div>

<p>These variables are not used by Open Hack&rsquo;Ware.
</p>
</dd>
</dl>


<hr>
<a name="Sparc32-System-emulator"></a>
<a name="Sparc32-System-emulator-1"></a>
<h3 class="section">4.2 Sparc32 System emulator</h3>
<a name="index-system-emulation-_0028Sparc32_0029"></a>

<p>Use the executable <samp>qemu-system-sparc</samp> to simulate the following
Sun4m architecture machines:
</p><ul class="no-bullet">
<li>- SPARCstation 4
</li><li>- SPARCstation 5
</li><li>- SPARCstation 10
</li><li>- SPARCstation 20
</li><li>- SPARCserver 600MP
</li><li>- SPARCstation LX
</li><li>- SPARCstation Voyager
</li><li>- SPARCclassic
</li><li>- SPARCbook
</li></ul>

<p>The emulation is somewhat complete. SMP up to 16 CPUs is supported,
but Linux limits the number of usable CPUs to 4.
</p>
<p>QEMU emulates the following sun4m peripherals:
</p>
<ul class="no-bullet">
<li>- IOMMU
</li><li>- TCX or cgthree Frame buffer
</li><li>- Lance (Am7990) Ethernet
</li><li>- Non Volatile RAM M48T02/M48T08
</li><li>- Slave I/O: timers, interrupt controllers, Zilog serial ports, keyboard
and power/reset logic
</li><li>- ESP SCSI controller with hard disk and CD-ROM support
</li><li>- Floppy drive (not on SS-600MP)
</li><li>- CS4231 sound device (only on SS-5, not working yet)
</li></ul>

<p>The number of peripherals is fixed in the architecture.  Maximum
memory size depends on the machine type, for SS-5 it is 256MB and for
others 2047MB.
</p>
<p>Since version 0.8.2, QEMU uses OpenBIOS
<a href="http://www.openbios.org/">http://www.openbios.org/</a>. OpenBIOS is a free (GPL v2) portable
firmware implementation. The goal is to implement a 100% IEEE
1275-1994 (referred to as Open Firmware) compliant firmware.
</p>
<p>A sample Linux 2.6 series kernel and ram disk image are available on
the QEMU web site. There are still issues with NetBSD and OpenBSD, but
most kernel versions work. Please note that currently older Solaris kernels
don&rsquo;t work probably due to interface issues between OpenBIOS and
Solaris.
</p>

<p>The following options are specific to the Sparc32 emulation:
</p>
<dl compact="compact">
<dt><samp>-g <var>W</var>x<var>H</var>x[x<var>DEPTH</var>]</samp></dt>
<dd>
<p>Set the initial graphics mode. For TCX, the default is 1024x768x8 with the
option of 1024x768x24. For cgthree, the default is 1024x768x8 with the option
of 1152x900x8 for people who wish to use OBP.
</p>
</dd>
<dt><samp>-prom-env <var>string</var></samp></dt>
<dd>
<p>Set OpenBIOS variables in NVRAM, for example:
</p>
<div class="example">
<pre class="example">qemu-system-sparc -prom-env 'auto-boot?=false' \
 -prom-env 'boot-device=sd(0,2,0):d' -prom-env 'boot-args=linux single'
</pre></div>

</dd>
<dt><samp>-M [SS-4|SS-5|SS-10|SS-20|SS-600MP|LX|Voyager|SPARCClassic] [|SPARCbook]</samp></dt>
<dd>
<p>Set the emulated machine type. Default is SS-5.
</p>
</dd>
</dl>


<hr>
<a name="Sparc64-System-emulator"></a>
<a name="Sparc64-System-emulator-1"></a>
<h3 class="section">4.3 Sparc64 System emulator</h3>
<a name="index-system-emulation-_0028Sparc64_0029"></a>

<p>Use the executable <samp>qemu-system-sparc64</samp> to simulate a Sun4u
(UltraSPARC PC-like machine), Sun4v (T1 PC-like machine), or generic
Niagara (T1) machine. The Sun4u emulator is mostly complete, being
able to run Linux, NetBSD and OpenBSD in headless (-nographic) mode. The
Sun4v and Niagara emulators are still a work in progress.
</p>
<p>QEMU emulates the following peripherals:
</p>
<ul class="no-bullet">
<li>- UltraSparc IIi APB PCI Bridge
</li><li>- PCI VGA compatible card with VESA Bochs Extensions
</li><li>- PS/2 mouse and keyboard
</li><li>- Non Volatile RAM M48T59
</li><li>- PC-compatible serial ports
</li><li>- 2 PCI IDE interfaces with hard disk and CD-ROM support
</li><li>- Floppy disk
</li></ul>


<p>The following options are specific to the Sparc64 emulation:
</p>
<dl compact="compact">
<dt><samp>-prom-env <var>string</var></samp></dt>
<dd>
<p>Set OpenBIOS variables in NVRAM, for example:
</p>
<div class="example">
<pre class="example">qemu-system-sparc64 -prom-env 'auto-boot?=false'
</pre></div>

</dd>
<dt><samp>-M [sun4u|sun4v|Niagara]</samp></dt>
<dd>
<p>Set the emulated machine type. The default is sun4u.
</p>
</dd>
</dl>


<hr>
<a name="MIPS-System-emulator"></a>
<a name="MIPS-System-emulator-1"></a>
<h3 class="section">4.4 MIPS System emulator</h3>
<a name="index-system-emulation-_0028MIPS_0029"></a>

<p>Four executables cover simulation of 32 and 64-bit MIPS systems in
both endian options, <samp>qemu-system-mips</samp>, <samp>qemu-system-mipsel</samp>
<samp>qemu-system-mips64</samp> and <samp>qemu-system-mips64el</samp>.
Five different machine types are emulated:
</p>
<ul class="no-bullet">
<li>- A generic ISA PC-like machine &quot;mips&quot;
</li><li>- The MIPS Malta prototype board &quot;malta&quot;
</li><li>- An ACER Pica &quot;pica61&quot;. This machine needs the 64-bit emulator.
</li><li>- MIPS emulator pseudo board &quot;mipssim&quot;
</li><li>- A MIPS Magnum R4000 machine &quot;magnum&quot;. This machine needs the 64-bit emulator.
</li></ul>

<p>The generic emulation is supported by Debian &rsquo;Etch&rsquo; and is able to
install Debian into a virtual disk image. The following devices are
emulated:
</p>
<ul class="no-bullet">
<li>- A range of MIPS CPUs, default is the 24Kf
</li><li>- PC style serial port
</li><li>- PC style IDE disk
</li><li>- NE2000 network card
</li></ul>

<p>The Malta emulation supports the following devices:
</p>
<ul class="no-bullet">
<li>- Core board with MIPS 24Kf CPU and Galileo system controller
</li><li>- PIIX4 PCI/USB/SMbus controller
</li><li>- The Multi-I/O chip&rsquo;s serial device
</li><li>- PCI network cards (PCnet32 and others)
</li><li>- Malta FPGA serial device
</li><li>- Cirrus (default) or any other PCI VGA graphics card
</li></ul>

<p>The ACER Pica emulation supports:
</p>
<ul class="no-bullet">
<li>- MIPS R4000 CPU
</li><li>- PC-style IRQ and DMA controllers
</li><li>- PC Keyboard
</li><li>- IDE controller
</li></ul>

<p>The mipssim pseudo board emulation provides an environment similar
to what the proprietary MIPS emulator uses for running Linux.
It supports:
</p>
<ul class="no-bullet">
<li>- A range of MIPS CPUs, default is the 24Kf
</li><li>- PC style serial port
</li><li>- MIPSnet network emulation
</li></ul>

<p>The MIPS Magnum R4000 emulation supports:
</p>
<ul class="no-bullet">
<li>- MIPS R4000 CPU
</li><li>- PC-style IRQ controller
</li><li>- PC Keyboard
</li><li>- SCSI controller
</li><li>- G364 framebuffer
</li></ul>


<hr>
<a name="ARM-System-emulator"></a>
<a name="ARM-System-emulator-1"></a>
<h3 class="section">4.5 ARM System emulator</h3>
<a name="index-system-emulation-_0028ARM_0029"></a>

<p>Use the executable <samp>qemu-system-arm</samp> to simulate a ARM
machine. The ARM Integrator/CP board is emulated with the following
devices:
</p>
<ul class="no-bullet">
<li>- ARM926E, ARM1026E, ARM946E, ARM1136 or Cortex-A8 CPU
</li><li>- Two PL011 UARTs
</li><li>- SMC 91c111 Ethernet adapter
</li><li>- PL110 LCD controller
</li><li>- PL050 KMI with PS/2 keyboard and mouse.
</li><li>- PL181 MultiMedia Card Interface with SD card.
</li></ul>

<p>The ARM Versatile baseboard is emulated with the following devices:
</p>
<ul class="no-bullet">
<li>- ARM926E, ARM1136 or Cortex-A8 CPU
</li><li>- PL190 Vectored Interrupt Controller
</li><li>- Four PL011 UARTs
</li><li>- SMC 91c111 Ethernet adapter
</li><li>- PL110 LCD controller
</li><li>- PL050 KMI with PS/2 keyboard and mouse.
</li><li>- PCI host bridge.  Note the emulated PCI bridge only provides access to
PCI memory space.  It does not provide access to PCI IO space.
This means some devices (eg. ne2k_pci NIC) are not usable, and others
(eg. rtl8139 NIC) are only usable when the guest drivers use the memory
mapped control registers.
</li><li>- PCI OHCI USB controller.
</li><li>- LSI53C895A PCI SCSI Host Bus Adapter with hard disk and CD-ROM devices.
</li><li>- PL181 MultiMedia Card Interface with SD card.
</li></ul>

<p>Several variants of the ARM RealView baseboard are emulated,
including the EB, PB-A8 and PBX-A9.  Due to interactions with the
bootloader, only certain Linux kernel configurations work out
of the box on these boards.
</p>
<p>Kernels for the PB-A8 board should have CONFIG_REALVIEW_HIGH_PHYS_OFFSET
enabled in the kernel, and expect 512M RAM.  Kernels for The PBX-A9 board
should have CONFIG_SPARSEMEM enabled, CONFIG_REALVIEW_HIGH_PHYS_OFFSET
disabled and expect 1024M RAM.
</p>
<p>The following devices are emulated:
</p>
<ul class="no-bullet">
<li>- ARM926E, ARM1136, ARM11MPCore, Cortex-A8 or Cortex-A9 MPCore CPU
</li><li>- ARM AMBA Generic/Distributed Interrupt Controller
</li><li>- Four PL011 UARTs
</li><li>- SMC 91c111 or SMSC LAN9118 Ethernet adapter
</li><li>- PL110 LCD controller
</li><li>- PL050 KMI with PS/2 keyboard and mouse
</li><li>- PCI host bridge
</li><li>- PCI OHCI USB controller
</li><li>- LSI53C895A PCI SCSI Host Bus Adapter with hard disk and CD-ROM devices
</li><li>- PL181 MultiMedia Card Interface with SD card.
</li></ul>

<p>The XScale-based clamshell PDA models (&quot;Spitz&quot;, &quot;Akita&quot;, &quot;Borzoi&quot;
and &quot;Terrier&quot;) emulation includes the following peripherals:
</p>
<ul class="no-bullet">
<li>- Intel PXA270 System-on-chip (ARM V5TE core)
</li><li>- NAND Flash memory
</li><li>- IBM/Hitachi DSCM microdrive in a PXA PCMCIA slot - not in &quot;Akita&quot;
</li><li>- On-chip OHCI USB controller
</li><li>- On-chip LCD controller
</li><li>- On-chip Real Time Clock
</li><li>- TI ADS7846 touchscreen controller on SSP bus
</li><li>- Maxim MAX1111 analog-digital converter on I<em>^2</em>C bus
</li><li>- GPIO-connected keyboard controller and LEDs
</li><li>- Secure Digital card connected to PXA MMC/SD host
</li><li>- Three on-chip UARTs
</li><li>- WM8750 audio CODEC on I<em>^2</em>C and I<em>^2</em>S busses
</li></ul>

<p>The Palm Tungsten|E PDA (codename &quot;Cheetah&quot;) emulation includes the
following elements:
</p>
<ul class="no-bullet">
<li>- Texas Instruments OMAP310 System-on-chip (ARM 925T core)
</li><li>- ROM and RAM memories (ROM firmware image can be loaded with -option-rom)
</li><li>- On-chip LCD controller
</li><li>- On-chip Real Time Clock
</li><li>- TI TSC2102i touchscreen controller / analog-digital converter / Audio
CODEC, connected through MicroWire and I<em>^2</em>S busses
</li><li>- GPIO-connected matrix keypad
</li><li>- Secure Digital card connected to OMAP MMC/SD host
</li><li>- Three on-chip UARTs
</li></ul>

<p>Nokia N800 and N810 internet tablets (known also as RX-34 and RX-44 / 48)
emulation supports the following elements:
</p>
<ul class="no-bullet">
<li>- Texas Instruments OMAP2420 System-on-chip (ARM 1136 core)
</li><li>- RAM and non-volatile OneNAND Flash memories
</li><li>- Display connected to EPSON remote framebuffer chip and OMAP on-chip
display controller and a LS041y3 MIPI DBI-C controller
</li><li>- TI TSC2301 (in N800) and TI TSC2005 (in N810) touchscreen controllers
driven through SPI bus
</li><li>- National Semiconductor LM8323-controlled qwerty keyboard driven
through I<em>^2</em>C bus
</li><li>- Secure Digital card connected to OMAP MMC/SD host
</li><li>- Three OMAP on-chip UARTs and on-chip STI debugging console
</li><li>- A Bluetooth(R) transceiver and HCI connected to an UART
</li><li>- Mentor Graphics &quot;Inventra&quot; dual-role USB controller embedded in a TI
TUSB6010 chip - only USB host mode is supported
</li><li>- TI TMP105 temperature sensor driven through I<em>^2</em>C bus
</li><li>- TI TWL92230C power management companion with an RTC on I<em>^2</em>C bus
</li><li>- Nokia RETU and TAHVO multi-purpose chips with an RTC, connected
through CBUS
</li></ul>

<p>The Luminary Micro Stellaris LM3S811EVB emulation includes the following
devices:
</p>
<ul class="no-bullet">
<li>- Cortex-M3 CPU core.
</li><li>- 64k Flash and 8k SRAM.
</li><li>- Timers, UARTs, ADC and I<em>^2</em>C interface.
</li><li>- OSRAM Pictiva 96x16 OLED with SSD0303 controller on I<em>^2</em>C bus.
</li></ul>

<p>The Luminary Micro Stellaris LM3S6965EVB emulation includes the following
devices:
</p>
<ul class="no-bullet">
<li>- Cortex-M3 CPU core.
</li><li>- 256k Flash and 64k SRAM.
</li><li>- Timers, UARTs, ADC, I<em>^2</em>C and SSI interfaces.
</li><li>- OSRAM Pictiva 128x64 OLED with SSD0323 controller connected via SSI.
</li></ul>

<p>The Freecom MusicPal internet radio emulation includes the following
elements:
</p>
<ul class="no-bullet">
<li>- Marvell MV88W8618 ARM core.
</li><li>- 32 MB RAM, 256 KB SRAM, 8 MB flash.
</li><li>- Up to 2 16550 UARTs
</li><li>- MV88W8xx8 Ethernet controller
</li><li>- MV88W8618 audio controller, WM8750 CODEC and mixer
</li><li>- 128√ó64 display with brightness control
</li><li>- 2 buttons, 2 navigation wheels with button function
</li></ul>

<p>The Siemens SX1 models v1 and v2 (default) basic emulation.
The emulation includes the following elements:
</p>
<ul class="no-bullet">
<li>- Texas Instruments OMAP310 System-on-chip (ARM 925T core)
</li><li>- ROM and RAM memories (ROM firmware image can be loaded with -pflash)
V1
1 Flash of 16MB and 1 Flash of 8MB
V2
1 Flash of 32MB
</li><li>- On-chip LCD controller
</li><li>- On-chip Real Time Clock
</li><li>- Secure Digital card connected to OMAP MMC/SD host
</li><li>- Three on-chip UARTs
</li></ul>

<p>A Linux 2.6 test image is available on the QEMU web site. More
information is available in the QEMU mailing-list archive.
</p>

<p>The following options are specific to the ARM emulation:
</p>
<dl compact="compact">
<dt><samp>-semihosting</samp></dt>
<dd><p>Enable semihosting syscall emulation.
</p>
<p>On ARM this implements the &quot;Angel&quot; interface.
</p>
<p>Note that this allows guest direct access to the host filesystem,
so should only be used with trusted guest OS.
</p>
</dd>
</dl>

<hr>
<a name="ColdFire-System-emulator"></a>
<a name="ColdFire-System-emulator-1"></a>
<h3 class="section">4.6 ColdFire System emulator</h3>
<a name="index-system-emulation-_0028ColdFire_0029"></a>
<a name="index-system-emulation-_0028M68K_0029"></a>

<p>Use the executable <samp>qemu-system-m68k</samp> to simulate a ColdFire machine.
The emulator is able to boot a uClinux kernel.
</p>
<p>The M5208EVB emulation includes the following devices:
</p>
<ul class="no-bullet">
<li>- MCF5208 ColdFire V2 Microprocessor (ISA A+ with EMAC).
</li><li>- Three Two on-chip UARTs.
</li><li>- Fast Ethernet Controller (FEC)
</li></ul>

<p>The AN5206 emulation includes the following devices:
</p>
<ul class="no-bullet">
<li>- MCF5206 ColdFire V2 Microprocessor.
</li><li>- Two on-chip UARTs.
</li></ul>


<p>The following options are specific to the ColdFire emulation:
</p>
<dl compact="compact">
<dt><samp>-semihosting</samp></dt>
<dd><p>Enable semihosting syscall emulation.
</p>
<p>On M68K this implements the &quot;ColdFire GDB&quot; interface used by libgloss.
</p>
<p>Note that this allows guest direct access to the host filesystem,
so should only be used with trusted guest OS.
</p>
</dd>
</dl>

<hr>
<a name="Cris-System-emulator"></a>
<a name="Cris-System-emulator-1"></a>
<h3 class="section">4.7 Cris System emulator</h3>
<a name="index-system-emulation-_0028Cris_0029"></a>

<p>TODO
</p>
<hr>
<a name="Microblaze-System-emulator"></a>
<a name="Microblaze-System-emulator-1"></a>
<h3 class="section">4.8 Microblaze System emulator</h3>
<a name="index-system-emulation-_0028Microblaze_0029"></a>

<p>TODO
</p>
<hr>
<a name="SH4-System-emulator"></a>
<a name="SH4-System-emulator-1"></a>
<h3 class="section">4.9 SH4 System emulator</h3>
<a name="index-system-emulation-_0028SH4_0029"></a>

<p>TODO
</p>
<hr>
<a name="Xtensa-System-emulator"></a>
<a name="Xtensa-System-emulator-1"></a>
<h3 class="section">4.10 Xtensa System emulator</h3>
<a name="index-system-emulation-_0028Xtensa_0029"></a>

<p>Two executables cover simulation of both Xtensa endian options,
<samp>qemu-system-xtensa</samp> and <samp>qemu-system-xtensaeb</samp>.
Two different machine types are emulated:
</p>
<ul class="no-bullet">
<li>- Xtensa emulator pseudo board &quot;sim&quot;
</li><li>- Avnet LX60/LX110/LX200 board
</li></ul>

<p>The sim pseudo board emulation provides an environment similar
to one provided by the proprietary Tensilica ISS.
It supports:
</p>
<ul class="no-bullet">
<li>- A range of Xtensa CPUs, default is the DC232B
</li><li>- Console and filesystem access via semihosting calls
</li></ul>

<p>The Avnet LX60/LX110/LX200 emulation supports:
</p>
<ul class="no-bullet">
<li>- A range of Xtensa CPUs, default is the DC232B
</li><li>- 16550 UART
</li><li>- OpenCores 10/100 Mbps Ethernet MAC
</li></ul>


<p>The following options are specific to the Xtensa emulation:
</p>
<dl compact="compact">
<dt><samp>-semihosting</samp></dt>
<dd><p>Enable semihosting syscall emulation.
</p>
<p>Xtensa semihosting provides basic file IO calls, such as open/read/write/seek/select.
Tensilica baremetal libc for ISS and linux platform &quot;sim&quot; use this interface.
</p>
<p>Note that this allows guest direct access to the host filesystem,
so should only be used with trusted guest OS.
</p>
</dd>
</dl>
<hr>
<a name="QEMU-User-space-emulator"></a>
<a name="QEMU-User-space-emulator-1"></a>
<h2 class="chapter">5 QEMU User space emulator</h2>


<hr>
<a name="Supported-Operating-Systems"></a>
<a name="Supported-Operating-Systems-1"></a>
<h3 class="section">5.1 Supported Operating Systems</h3>

<p>The following OS are supported in user space emulation:
</p>
<ul class="no-bullet">
<li>- Linux (referred as qemu-linux-user)
</li><li>- BSD (referred as qemu-bsd-user)
</li></ul>

<hr>
<a name="Linux-User-space-emulator"></a>
<a name="Linux-User-space-emulator-1"></a>
<h3 class="section">5.2 Linux User space emulator</h3>


<hr>
<a name="Quick-Start"></a>
<a name="Quick-Start-2"></a>
<h4 class="subsection">5.2.1 Quick Start</h4>

<p>In order to launch a Linux process, QEMU needs the process executable
itself and all the target (x86) dynamic libraries used by it.
</p>
<ul>
<li> On x86, you can just try to launch any process by using the native
libraries:

<div class="example">
<pre class="example">qemu-i386 -L / /bin/ls
</pre></div>

<p><code>-L /</code> tells that the x86 dynamic linker must be searched with a
<samp>/</samp> prefix.
</p>
</li><li> Since QEMU is also a linux process, you can launch QEMU with
QEMU (NOTE: you can only do that if you compiled QEMU from the sources):

<div class="example">
<pre class="example">qemu-i386 -L / qemu-i386 -L / /bin/ls
</pre></div>

</li><li> On non x86 CPUs, you need first to download at least an x86 glibc
(<samp>qemu-runtime-i386-XXX-.tar.gz</samp> on the QEMU web page). Ensure that
<code>LD_LIBRARY_PATH</code> is not set:

<div class="example">
<pre class="example">unset LD_LIBRARY_PATH
</pre></div>

<p>Then you can launch the precompiled <samp>ls</samp> x86 executable:
</p>
<div class="example">
<pre class="example">qemu-i386 tests/i386/ls
</pre></div>
<p>You can look at <samp>scripts/qemu-binfmt-conf.sh</samp> so that
QEMU is automatically launched by the Linux kernel when you try to
launch x86 executables. It requires the <code>binfmt_misc</code> module in the
Linux kernel.
</p>
</li><li> The x86 version of QEMU is also included. You can try weird things such as:
<div class="example">
<pre class="example">qemu-i386 /usr/local/qemu-i386/bin/qemu-i386 \
          /usr/local/qemu-i386/bin/ls-i386
</pre></div>

</li></ul>

<hr>
<a name="Wine-launch"></a>
<a name="Wine-launch-1"></a>
<h4 class="subsection">5.2.2 Wine launch</h4>

<ul>
<li> Ensure that you have a working QEMU with the x86 glibc
distribution (see previous section). In order to verify it, you must be
able to do:

<div class="example">
<pre class="example">qemu-i386 /usr/local/qemu-i386/bin/ls-i386
</pre></div>

</li><li> Download the binary x86 Wine install
(<samp>qemu-XXX-i386-wine.tar.gz</samp> on the QEMU web page).

</li><li> Configure Wine on your account. Look at the provided script
<samp>/usr/local/qemu-i386/bin/wine-conf.sh</samp>. Your previous
<code>${HOME}/.wine</code> directory is saved to <code>${HOME}/.wine.org</code>.

</li><li> Then you can try the example <samp>putty.exe</samp>:

<div class="example">
<pre class="example">qemu-i386 /usr/local/qemu-i386/wine/bin/wine \
          /usr/local/qemu-i386/wine/c/Program\ Files/putty.exe
</pre></div>

</li></ul>

<hr>
<a name="Command-line-options"></a>
<a name="Command-line-options-1"></a>
<h4 class="subsection">5.2.3 Command line options</h4>

<div class="example">
<pre class="example"><code>qemu-i386</code> [<samp>-h]</samp> [<samp>-d]</samp> [<samp>-L</samp> <var>path</var>] [<samp>-s</samp> <var>size</var>] [<samp>-cpu</samp> <var>model</var>] [<samp>-g</samp> <var>port</var>] [<samp>-B</samp> <var>offset</var>] [<samp>-R</samp> <var>size</var>] <var>program</var> [<var>arguments</var>...]
</pre></div>

<dl compact="compact">
<dt><samp>-h</samp></dt>
<dd><p>Print the help
</p></dd>
<dt><samp>-L path</samp></dt>
<dd><p>Set the x86 elf interpreter prefix (default=/usr/local/qemu-i386)
</p></dd>
<dt><samp>-s size</samp></dt>
<dd><p>Set the x86 stack size in bytes (default=524288)
</p></dd>
<dt><samp>-cpu model</samp></dt>
<dd><p>Select CPU model (-cpu help for list and additional feature selection)
</p></dd>
<dt><samp>-E <var>var</var>=<var>value</var></samp></dt>
<dd><p>Set environment <var>var</var> to <var>value</var>.
</p></dd>
<dt><samp>-U <var>var</var></samp></dt>
<dd><p>Remove <var>var</var> from the environment.
</p></dd>
<dt><samp>-B offset</samp></dt>
<dd><p>Offset guest address by the specified number of bytes.  This is useful when
the address region required by guest applications is reserved on the host.
This option is currently only supported on some hosts.
</p></dd>
<dt><samp>-R size</samp></dt>
<dd><p>Pre-allocate a guest virtual address space of the given size (in bytes).
&quot;G&quot;, &quot;M&quot;, and &quot;k&quot; suffixes may be used when specifying the size.
</p></dd>
</dl>

<p>Debug options:
</p>
<dl compact="compact">
<dt><samp>-d item1,...</samp></dt>
<dd><p>Activate logging of the specified items (use &rsquo;-d help&rsquo; for a list of log items)
</p></dd>
<dt><samp>-p pagesize</samp></dt>
<dd><p>Act as if the host page size was &rsquo;pagesize&rsquo; bytes
</p></dd>
<dt><samp>-g port</samp></dt>
<dd><p>Wait gdb connection to port
</p></dd>
<dt><samp>-singlestep</samp></dt>
<dd><p>Run the emulation in single step mode.
</p></dd>
</dl>

<p>Environment variables:
</p>
<dl compact="compact">
<dt><code>QEMU_STRACE</code></dt>
<dd><p>Print system calls and arguments similar to the &rsquo;strace&rsquo; program
(NOTE: the actual &rsquo;strace&rsquo; program will not work because the user
space emulator hasn&rsquo;t implemented ptrace).  At the moment this is
incomplete.  All system calls that don&rsquo;t have a specific argument
format are printed with information for six arguments.  Many
flag-style arguments don&rsquo;t have decoders and will show up as numbers.
</p></dd>
</dl>

<hr>
<a name="Other-binaries"></a>
<a name="Other-binaries-1"></a>
<h4 class="subsection">5.2.4 Other binaries</h4>

<a name="index-user-mode-_0028Alpha_0029"></a>
<p><code>qemu-alpha</code> TODO.
</p>
<a name="index-user-mode-_0028ARM_0029"></a>
<p><code>qemu-armeb</code> TODO.
</p>
<a name="index-user-mode-_0028ARM_0029-1"></a>
<p><code>qemu-arm</code> is also capable of running ARM &quot;Angel&quot; semihosted ELF
binaries (as implemented by the arm-elf and arm-eabi Newlib/GDB
configurations), and arm-uclinux bFLT format binaries.
</p>
<a name="index-user-mode-_0028ColdFire_0029"></a>
<a name="index-user-mode-_0028M68K_0029"></a>
<p><code>qemu-m68k</code> is capable of running semihosted binaries using the BDM
(m5xxx-ram-hosted.ld) or m68k-sim (sim.ld) syscall interfaces, and
coldfire uClinux bFLT format binaries.
</p>
<p>The binary format is detected automatically.
</p>
<a name="index-user-mode-_0028Cris_0029"></a>
<p><code>qemu-cris</code> TODO.
</p>
<a name="index-user-mode-_0028i386_0029"></a>
<p><code>qemu-i386</code> TODO.
<code>qemu-x86_64</code> TODO.
</p>
<a name="index-user-mode-_0028Microblaze_0029"></a>
<p><code>qemu-microblaze</code> TODO.
</p>
<a name="index-user-mode-_0028MIPS_0029"></a>
<p><code>qemu-mips</code> TODO.
<code>qemu-mipsel</code> TODO.
</p>
<a name="index-user-mode-_0028PowerPC_0029"></a>
<p><code>qemu-ppc64abi32</code> TODO.
<code>qemu-ppc64</code> TODO.
<code>qemu-ppc</code> TODO.
</p>
<a name="index-user-mode-_0028SH4_0029"></a>
<p><code>qemu-sh4eb</code> TODO.
<code>qemu-sh4</code> TODO.
</p>
<a name="index-user-mode-_0028SPARC_0029"></a>
<p><code>qemu-sparc</code> can execute Sparc32 binaries (Sparc32 CPU, 32 bit ABI).
</p>
<p><code>qemu-sparc32plus</code> can execute Sparc32 and SPARC32PLUS binaries
(Sparc64 CPU, 32 bit ABI).
</p>
<p><code>qemu-sparc64</code> can execute some Sparc64 (Sparc64 CPU, 64 bit ABI) and
SPARC32PLUS binaries (Sparc64 CPU, 32 bit ABI).
</p>
<hr>
<a name="BSD-User-space-emulator"></a>
<a name="BSD-User-space-emulator-1"></a>
<h3 class="section">5.3 BSD User space emulator</h3>


<hr>
<a name="BSD-Status"></a>
<a name="BSD-Status-1"></a>
<h4 class="subsection">5.3.1 BSD Status</h4>

<ul class="no-bullet">
<li>- target Sparc64 on Sparc64: Some trivial programs work.
</li></ul>

<hr>
<a name="BSD-Quick-Start"></a>
<a name="Quick-Start-3"></a>
<h4 class="subsection">5.3.2 Quick Start</h4>

<p>In order to launch a BSD process, QEMU needs the process executable
itself and all the target dynamic libraries used by it.
</p>
<ul>
<li> On Sparc64, you can just try to launch any process by using the native
libraries:

<div class="example">
<pre class="example">qemu-sparc64 /bin/ls
</pre></div>

</li></ul>

<hr>
<a name="BSD-Command-line-options"></a>
<a name="Command-line-options-2"></a>
<h4 class="subsection">5.3.3 Command line options</h4>

<div class="example">
<pre class="example"><code>qemu-sparc64</code> [<samp>-h]</samp> [<samp>-d]</samp> [<samp>-L</samp> <var>path</var>] [<samp>-s</samp> <var>size</var>] [<samp>-bsd</samp> <var>type</var>] <var>program</var> [<var>arguments</var>...]
</pre></div>

<dl compact="compact">
<dt><samp>-h</samp></dt>
<dd><p>Print the help
</p></dd>
<dt><samp>-L path</samp></dt>
<dd><p>Set the library root path (default=/)
</p></dd>
<dt><samp>-s size</samp></dt>
<dd><p>Set the stack size in bytes (default=524288)
</p></dd>
<dt><samp>-ignore-environment</samp></dt>
<dd><p>Start with an empty environment. Without this option,
the initial environment is a copy of the caller&rsquo;s environment.
</p></dd>
<dt><samp>-E <var>var</var>=<var>value</var></samp></dt>
<dd><p>Set environment <var>var</var> to <var>value</var>.
</p></dd>
<dt><samp>-U <var>var</var></samp></dt>
<dd><p>Remove <var>var</var> from the environment.
</p></dd>
<dt><samp>-bsd type</samp></dt>
<dd><p>Set the type of the emulated BSD Operating system. Valid values are
FreeBSD, NetBSD and OpenBSD (default).
</p></dd>
</dl>

<p>Debug options:
</p>
<dl compact="compact">
<dt><samp>-d item1,...</samp></dt>
<dd><p>Activate logging of the specified items (use &rsquo;-d help&rsquo; for a list of log items)
</p></dd>
<dt><samp>-p pagesize</samp></dt>
<dd><p>Act as if the host page size was &rsquo;pagesize&rsquo; bytes
</p></dd>
<dt><samp>-singlestep</samp></dt>
<dd><p>Run the emulation in single step mode.
</p></dd>
</dl>

<hr>
<a name="compilation"></a>
<a name="Compilation-from-the-sources"></a>
<h2 class="chapter">6 Compilation from the sources</h2>


<hr>
<a name="Linux_002fUnix"></a>
<a name="Linux_002fUnix-1"></a>
<h3 class="section">6.1 Linux/Unix</h3>

<a name="Compilation"></a>
<h4 class="subsection">6.1.1 Compilation</h4>

<p>First you must decompress the sources:
</p><div class="example">
<pre class="example">cd /tmp
tar zxvf qemu-x.y.z.tar.gz
cd qemu-x.y.z
</pre></div>

<p>Then you configure QEMU and build it (usually no options are needed):
</p><div class="example">
<pre class="example">./configure
make
</pre></div>

<p>Then type as root user:
</p><div class="example">
<pre class="example">make install
</pre></div>
<p>to install QEMU in <samp>/usr/local</samp>.
</p>
<hr>
<a name="Windows"></a>
<a name="Windows-4"></a>
<h3 class="section">6.2 Windows</h3>

<ul>
<li> Install the current versions of MSYS and MinGW from
<a href="http://www.mingw.org/">http://www.mingw.org/</a>. You can find detailed installation
instructions in the download section and the FAQ.

</li><li> Download
the MinGW development library of SDL 1.2.x
(<samp>SDL-devel-1.2.x-mingw32.tar.gz</samp>) from
<a href="http://www.libsdl.org">http://www.libsdl.org</a>. Unpack it in a temporary place and
edit the <samp>sdl-config</samp> script so that it gives the
correct SDL directory when invoked.

</li><li> Install the MinGW version of zlib and make sure
<samp>zlib.h</samp> and <samp>libz.dll.a</samp> are in
MinGW&rsquo;s default header and linker search paths.

</li><li> Extract the current version of QEMU.

</li><li> Start the MSYS shell (file <samp>msys.bat</samp>).

</li><li> Change to the QEMU directory. Launch <samp>./configure</samp> and
<samp>make</samp>.  If you have problems using SDL, verify that
<samp>sdl-config</samp> can be launched from the MSYS command line.

</li><li> You can install QEMU in <samp>Program Files/QEMU</samp> by typing
<samp>make install</samp>. Don&rsquo;t forget to copy <samp>SDL.dll</samp> in
<samp>Program Files/QEMU</samp>.

</li></ul>

<hr>
<a name="Cross-compilation-for-Windows-with-Linux"></a>
<a name="Cross-compilation-for-Windows-with-Linux-1"></a>
<h3 class="section">6.3 Cross compilation for Windows with Linux</h3>

<ul>
<li> Install the MinGW cross compilation tools available at
<a href="http://www.mingw.org/">http://www.mingw.org/</a>.

</li><li> Download
the MinGW development library of SDL 1.2.x
(<samp>SDL-devel-1.2.x-mingw32.tar.gz</samp>) from
<a href="http://www.libsdl.org">http://www.libsdl.org</a>. Unpack it in a temporary place and
edit the <samp>sdl-config</samp> script so that it gives the
correct SDL directory when invoked.  Set up the <code>PATH</code> environment
variable so that <samp>sdl-config</samp> can be launched by
the QEMU configuration script.

</li><li> Install the MinGW version of zlib and make sure
<samp>zlib.h</samp> and <samp>libz.dll.a</samp> are in
MinGW&rsquo;s default header and linker search paths.

</li><li> Configure QEMU for Windows cross compilation:
<div class="example">
<pre class="example">PATH=/usr/i686-pc-mingw32/sys-root/mingw/bin:$PATH ./configure --cross-prefix='i686-pc-mingw32-'
</pre></div>
<p>The example assumes <samp>sdl-config</samp> is installed under <samp>/usr/i686-pc-mingw32/sys-root/mingw/bin</samp> and
MinGW cross compilation tools have names like <samp>i686-pc-mingw32-gcc</samp> and <samp>i686-pc-mingw32-strip</samp>.
We set the <code>PATH</code> environment variable to ensure the MinGW version of <samp>sdl-config</samp> is used and
use &ndash;cross-prefix to specify the name of the cross compiler.
You can also use &ndash;prefix to set the Win32 install path which defaults to <samp>c:/Program Files/QEMU</samp>.
</p>
<p>Under Fedora Linux, you can run:
</p><div class="example">
<pre class="example">yum -y install mingw32-gcc mingw32-SDL mingw32-zlib
</pre></div>
<p>to get a suitable cross compilation environment.
</p>
</li><li> You can install QEMU in the installation directory by typing
<code>make install</code>. Don&rsquo;t forget to copy <samp>SDL.dll</samp> and <samp>zlib1.dll</samp> into the
installation directory.

</li></ul>

<a name="index-wine_002c-starting-system-emulation"></a>
<p>Wine can be used to launch the resulting qemu-system-i386.exe
and all other qemu-system-<var>target</var>.exe compiled for Win32.
</p><div class="example">
<pre class="example">wine qemu-system-i386
</pre></div>

<hr>
<a name="Mac-OS-X"></a>
<a name="Mac-OS-X-3"></a>
<h3 class="section">6.4 Mac OS X</h3>

<p>System Requirements:
</p><ul>
<li> Mac OS 10.5 or higher
</li><li> The clang compiler shipped with Xcode 4.2 or higher,
or GCC 4.3 or higher
</li></ul>

<p>Additional Requirements (install in order):
</p><ol>
<li> libffi: <a href="https://sourceware.org/libffi/">https://sourceware.org/libffi/</a>
</li><li> gettext: <a href="http://www.gnu.org/software/gettext/">http://www.gnu.org/software/gettext/</a>
</li><li> glib: <a href="http://ftp.gnome.org/pub/GNOME/sources/glib/">http://ftp.gnome.org/pub/GNOME/sources/glib/</a>
</li><li> pkg-config: <a href="http://www.freedesktop.org/wiki/Software/pkg-config/">http://www.freedesktop.org/wiki/Software/pkg-config/</a>
</li><li> autoconf: <a href="http://www.gnu.org/software/autoconf/autoconf.html">http://www.gnu.org/software/autoconf/autoconf.html</a>
</li><li> automake: <a href="http://www.gnu.org/software/automake/">http://www.gnu.org/software/automake/</a>
</li><li> pixman: <a href="http://www.pixman.org/">http://www.pixman.org/</a>
</li></ol>

<p>* You may find it easiest to get these from a third-party packager
such as Homebrew, Macports, or Fink.
</p>
<p>After downloading the QEMU source code, double-click it to expand it.
</p>
<p>Then configure and make QEMU:
</p><div class="example">
<pre class="example">./configure
make
</pre></div>

<p>If you have a recent version of Mac OS X (OSX 10.7 or better
with Xcode 4.2 or better) we recommend building QEMU with the
default compiler provided by Apple, for your version of Mac OS X
(which will be &rsquo;clang&rsquo;). The configure script will
automatically pick this.
</p>
<p>Note: If after the configure step you see a message like this:
</p><div class="example">
<pre class="example">ERROR: Your compiler does not support the __thread specifier for
       Thread-Local Storage (TLS). Please upgrade to a version that does.
</pre></div>
<p>you may have to build your own version of gcc from source. Expect that to take
several hours. More information can be found here:
<a href="https://gcc.gnu.org/install/">https://gcc.gnu.org/install/</a> <br>
</p>
<p>These are some of the third party binaries of gcc available for download:
</p><ul>
<li> Homebrew: <a href="http://brew.sh/">http://brew.sh/</a>
</li><li> <a href="https://www.litebeam.net/gcc/gcc_472.pkg">https://www.litebeam.net/gcc/gcc_472.pkg</a>
</li><li> <a href="http://www.macports.org/ports.php?by=name&amp;substr=gcc">http://www.macports.org/ports.php?by=name&amp;substr=gcc</a>
</li></ul>

<p>You can have several versions of GCC on your system. To specify a certain version,
use the &ndash;cc and &ndash;cxx options.
</p><div class="example">
<pre class="example">./configure --cxx=&lt;path of your c++ compiler&gt; --cc=&lt;path of your c compiler&gt; &lt;other options&gt;
</pre></div>

<hr>
<a name="Make-targets"></a>
<a name="Make-targets-1"></a>
<h3 class="section">6.5 Make targets</h3>

<dl compact="compact">
<dt><code>make</code></dt>
<dt><code>make all</code></dt>
<dd><p>Make everything which is typically needed.
</p>
</dd>
<dt><code>install</code></dt>
<dd><p>TODO
</p>
</dd>
<dt><code>install-doc</code></dt>
<dd><p>TODO
</p>
</dd>
<dt><code>make clean</code></dt>
<dd><p>Remove most files which were built during make.
</p>
</dd>
<dt><code>make distclean</code></dt>
<dd><p>Remove everything which was built during make.
</p>
</dd>
<dt><code>make dvi</code></dt>
<dt><code>make html</code></dt>
<dt><code>make info</code></dt>
<dt><code>make pdf</code></dt>
<dd><p>Create documentation in dvi, html, info or pdf format.
</p>
</dd>
<dt><code>make cscope</code></dt>
<dd><p>TODO
</p>
</dd>
<dt><code>make defconfig</code></dt>
<dd><p>(Re-)create some build configuration files.
User made changes will be overwritten.
</p>
</dd>
<dt><code>tar</code></dt>
<dt><code>tarbin</code></dt>
<dd><p>TODO
</p>
</dd>
</dl>

<hr>
<a name="License"></a>
<a name="License-1"></a>
<h2 class="appendix">Appendix A License</h2>

<p>QEMU is a trademark of Fabrice Bellard.
</p>
<p>QEMU is released under the GNU General Public License (TODO: add link).
Parts of QEMU have specific licenses, see file LICENSE.
</p>
<p>TODO (refer to file LICENSE, include it, include the GPL?)
</p>
<hr>
<a name="Index"></a>
<a name="Index-1"></a>
<h2 class="appendix">Appendix B Index</h2>

<hr>
<a name="Concept-Index"></a>
<a name="Concept-Index-1"></a>
<h3 class="section">B.1 Concept Index</h3>
<p>This is the main index. Should we combine all keywords in one index? TODO
</p><table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-cp" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-emulated-target-systems">emulated target systems</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-installation-_0028Linux_0029">installation (Linux)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#install_005flinux">install_linux</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-installation-_0028Mac-OS-X_0029">installation (Mac OS X)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#install_005fmac">install_mac</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-installation-_0028Windows_0029">installation (Windows)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#install_005fwindows">install_windows</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-operating-modes">operating modes</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-QEMU-monitor">QEMU monitor</a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quick-start">quick start</a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fquickstart">pcsys_quickstart</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-supported-target-systems">supported target systems</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-supported-user-mode-targets">supported user mode targets</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation">system emulation</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028ARM_0029">system emulation (ARM)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#ARM-System-emulator">ARM System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028ColdFire_0029">system emulation (ColdFire)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#ColdFire-System-emulator">ColdFire System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028Cris_0029">system emulation (Cris)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Cris-System-emulator">Cris System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028M68K_0029">system emulation (M68K)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#ColdFire-System-emulator">ColdFire System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028Microblaze_0029">system emulation (Microblaze)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Microblaze-System-emulator">Microblaze System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028MIPS_0029">system emulation (MIPS)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#MIPS-System-emulator">MIPS System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028PC_0029">system emulation (PC)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#QEMU-PC-System-emulator">QEMU PC System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028PowerPC_0029">system emulation (PowerPC)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#PowerPC-System-emulator">PowerPC System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028SH4_0029">system emulation (SH4)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#SH4-System-emulator">SH4 System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028Sparc32_0029">system emulation (Sparc32)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Sparc32-System-emulator">Sparc32 System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028Sparc64_0029">system emulation (Sparc64)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Sparc64-System-emulator">Sparc64 System emulator</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system-emulation-_0028Xtensa_0029">system emulation (Xtensa)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Xtensa-System-emulator">Xtensa System emulator</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028Alpha_0029">user mode (Alpha)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028ARM_0029">user mode (ARM)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028ARM_0029-1">user mode (ARM)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028ColdFire_0029">user mode (ColdFire)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028Cris_0029">user mode (Cris)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028i386_0029">user mode (i386)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028M68K_0029">user mode (M68K)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028Microblaze_0029">user mode (Microblaze)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028MIPS_0029">user mode (MIPS)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028PowerPC_0029">user mode (PowerPC)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028SH4_0029">user mode (SH4)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-_0028SPARC_0029">user mode (SPARC)</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Other-binaries">Other binaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-mode-emulation">user mode emulation</a>:</td><td>&nbsp;</td><td valign="top"><a href="#intro_005ffeatures">intro_features</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-wine_002c-starting-system-emulation">wine, starting system emulation</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Cross-compilation-for-Windows-with-Linux">Cross compilation for Windows with Linux</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<a name="Function-Index"></a>
<a name="Function-Index-1"></a>
<h3 class="section">B.2 Function Index</h3>
<p>This index could be used for command line options and monitor functions.
</p><table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-Index_fn_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Function-Index_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-fn" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_symbol-1">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtrace"><code>--trace</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#qemu_005fimg_005finvocation">qemu_img_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtrace-1"><code>--trace</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#qemu_005fnbd_005finvocation">qemu_nbd_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dacpitable"><code>-acpitable</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dadd_002dfd"><code>-add-fd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dalt_002dgrab"><code>-alt-grab</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dappend"><code>-append</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002daudio_002dhelp"><code>-audio-help</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dballoon"><code>-balloon</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dbios"><code>-bios</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dboot"><code>-boot</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dbt"><code>-bt</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcdrom"><code>-cdrom</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dchardev"><code>-chardev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dchroot"><code>-chroot</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcpu"><code>-cpu</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dctrl_002dgrab"><code>-ctrl-grab</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcurses"><code>-curses</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dd"><code>-d</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD"><code>-D</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddaemonize"><code>-daemonize</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebugcon"><code>-debugcon</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddevice"><code>-device</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddfilter"><code>-dfilter</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddisplay"><code>-display</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddrive"><code>-drive</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddtb"><code>-dtb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddump_002dvmstate"><code>-dump-vmstate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dechr"><code>-echr</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002denable_002dfips"><code>-enable-fips</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002denable_002dkvm"><code>-enable-kvm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfda"><code>-fda</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfdb"><code>-fdb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfsdev"><code>-fsdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfull_002dscreen"><code>-full-screen</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfw_005fcfg"><code>-fw_cfg</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dg"><code>-g</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dgdb"><code>-gdb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dglobal"><code>-global</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dh"><code>-h</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dhda"><code>-hda</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dhdachs"><code>-hdachs</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dhdb"><code>-hdb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dhdc"><code>-hdc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dhdd"><code>-hdd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dicount"><code>-icount</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dincoming"><code>-incoming</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dinitrd"><code>-initrd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dk"><code>-k</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dkernel"><code>-kernel</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dL"><code>-L</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dloadvm"><code>-loadvm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dm"><code>-m</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmachine"><code>-machine</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmem_002dpath"><code>-mem-path</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmem_002dprealloc"><code>-mem-prealloc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmon"><code>-mon</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmonitor"><code>-monitor</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmsg"><code>-msg</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmtdblock"><code>-mtdblock</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dname"><code>-name</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnet"><code>-net</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnetdev"><code>-netdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dacpi"><code>-no-acpi</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dfd_002dbootchk"><code>-no-fd-bootchk</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dframe"><code>-no-frame</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dhpet"><code>-no-hpet</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dquit"><code>-no-quit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dreboot"><code>-no-reboot</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002dshutdown"><code>-no-shutdown</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dno_002duser_002dconfig"><code>-no-user-config</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnodefaults"><code>-nodefaults</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnodefconfig"><code>-nodefconfig</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnographic"><code>-nographic</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnuma"><code>-numa</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dobject"><code>-object</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dold_002dparam-_0028ARM_0029"><code>-old-param (ARM)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002doption_002drom"><code>-option-rom</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dparallel"><code>-parallel</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dpflash"><code>-pflash</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dpidfile"><code>-pidfile</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dportrait"><code>-portrait</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprom_002denv"><code>-prom-env</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dqmp"><code>-qmp</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dqmp_002dpretty"><code>-qmp-pretty</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dreadconfig"><code>-readconfig</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002drealtime"><code>-realtime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002drotate"><code>-rotate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002drtc"><code>-rtc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002drunas"><code>-runas</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dS"><code>-S</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ds"><code>-s</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsandbox"><code>-sandbox</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsd"><code>-sd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsdl"><code>-sdl</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsemihosting"><code>-semihosting</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsemihosting_002dconfig"><code>-semihosting-config</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dserial"><code>-serial</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dset"><code>-set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dshow_002dcursor"><code>-show-cursor</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsinglestep"><code>-singlestep</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsmbios"><code>-smbios</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsmp"><code>-smp</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsnapshot"><code>-snapshot</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsoundhw"><code>-soundhw</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dspice"><code>-spice</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtb_002dsize"><code>-tb-size</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtpmdev"><code>-tpmdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtrace"><code>-trace</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtrace_002dunassigned"><code>-trace-unassigned</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dusb"><code>-usb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dusbdevice"><code>-usbdevice</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002duuid"><code>-uuid</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dversion"><code>-version</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dvga"><code>-vga</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dvirtfs"><code>-virtfs</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dvirtfs_005fsynth"><code>-virtfs_synth</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dvirtioconsole"><code>-virtioconsole</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dvnc"><code>-vnc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwatchdog"><code>-watchdog</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwatchdog_002daction"><code>-watchdog-action</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwin2k_002dhack"><code>-win2k-hack</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwriteconfig"><code>-writeconfig</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dxen_002dattach"><code>-xen-attach</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dxen_002dcreate"><code>-xen-create</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dxen_002ddomid"><code>-xen-domid</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#sec_005finvocation">sec_invocation</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-acl_005fadd"><code>acl_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-acl_005fpolicy"><code>acl_policy</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-acl_005fremove"><code>acl_remove</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-acl_005freset"><code>acl_reset</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-acl_005fshow"><code>acl_show</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-balloon"><code>balloon</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-balloon-1"><code>balloon</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block"><code>block</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_002djobs"><code>block-jobs</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-blockstats"><code>blockstats</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fjob_005fcancel"><code>block_job_cancel</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fjob_005fcomplete"><code>block_job_complete</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fjob_005fpause"><code>block_job_pause</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fjob_005fresume"><code>block_job_resume</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fjob_005fset_005fspeed"><code>block_job_set_speed</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fpasswd"><code>block_passwd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fresize"><code>block_resize</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fset_005fio_005fthrottle"><code>block_set_io_throttle</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block_005fstream"><code>block_stream</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-boot_005fset"><code>boot_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-capture"><code>capture</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-change"><code>change</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chardev"><code>chardev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chardev_002dadd"><code>chardev-add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chardev_002dremove"><code>chardev-remove</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-client_005fmigrate_005finfo"><code>client_migrate_info</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-closefd"><code>closefd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-commit"><code>commit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cont"><code>cont</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cpu"><code>cpu</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cpu_002dadd"><code>cpu-add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cpus"><code>cpus</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cpustats"><code>cpustats</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-delvm"><code>delvm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-device_005fadd"><code>device_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-device_005fdel"><code>device_del</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-drive_005fadd"><code>drive_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-drive_005fbackup"><code>drive_backup</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-drive_005fdel"><code>drive_del</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-drive_005fmirror"><code>drive_mirror</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dump"><code>dump</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dump_002dguest_002dmemory"><code>dump-guest-memory</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dump_002dskeys"><code>dump-skeys</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-eject"><code>eject</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expire_005fpassword"><code>expire_password</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-gdbserver"><code>gdbserver</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-getfd"><code>getfd</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-help"><code>help</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-history"><code>history</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-hostfwd_005fadd"><code>hostfwd_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-hostfwd_005fremove"><code>hostfwd_remove</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005fnet_005fadd"><code>host_net_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005fnet_005fremove"><code>host_net_remove</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-hotpluggable_002dcpus"><code>hotpluggable-cpus</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-i"><code>i</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-info"><code>info</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ioapic"><code>ioapic</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-iothreads"><code>iothreads</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-irq"><code>irq</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-J">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-jit"><code>jit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-kvm"><code>kvm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lapic"><code>lapic</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loadvm"><code>loadvm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-log"><code>log</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-logfile"><code>logfile</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-mce-_0028x86_0029"><code>mce (x86)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mem"><code>mem</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-memdev"><code>memdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-memory_002ddevices"><code>memory-devices</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-memsave"><code>memsave</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mice"><code>mice</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate"><code>migrate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate-1"><code>migrate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fcache_005fsize"><code>migrate_cache_size</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fcancel"><code>migrate_cancel</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fcapabilities"><code>migrate_capabilities</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fincoming"><code>migrate_incoming</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fparameters"><code>migrate_parameters</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fset_005fcache_005fsize"><code>migrate_set_cache_size</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fset_005fcapability"><code>migrate_set_capability</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fset_005fdowntime"><code>migrate_set_downtime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fset_005fparameter"><code>migrate_set_parameter</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fset_005fspeed"><code>migrate_set_speed</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-migrate_005fstart_005fpostcopy"><code>migrate_start_postcopy</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mouse_005fbutton"><code>mouse_button</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mouse_005fmove"><code>mouse_move</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mouse_005fset"><code>mouse_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mtree"><code>mtree</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-name"><code>name</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nbd_005fserver_005fadd"><code>nbd_server_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nbd_005fserver_005fstart"><code>nbd_server_start</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nbd_005fserver_005fstop"><code>nbd_server_stop</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-netdev_005fadd"><code>netdev_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-netdev_005fdel"><code>netdev_del</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network"><code>network</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nmi"><code>nmi</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-numa"><code>numa</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-o"><code>o</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-object_005fadd"><code>object_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-object_005fdel"><code>object_del</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ocker_002dports"><code>ocker-ports</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-opcount"><code>opcount</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-pci"><code>pci</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pcie_005faer_005finject_005ferror"><code>pcie_aer_inject_error</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pic"><code>pic</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pmemsave"><code>pmemsave</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-print"><code>print</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-profile"><code>profile</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-qdm"><code>qdm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-qemu_002dio"><code>qemu-io</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-qom_002dtree"><code>qom-tree</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-qtree"><code>qtree</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quit"><code>quit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-registers"><code>registers</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ringbuf_005fread"><code>ringbuf_read</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ringbuf_005fwrite"><code>ringbuf_write</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rocker"><code>rocker</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rocker_002dof_002ddpa_002dflows"><code>rocker-of-dpa-flows</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rocker_002dof_002ddpa_002dgroups"><code>rocker-of-dpa-groups</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-roms"><code>roms</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-savevm"><code>savevm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-screendump"><code>screendump</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sendkey"><code>sendkey</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-set_005flink"><code>set_link</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-set_005fpassword"><code>set_password</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-singlestep"><code>singlestep</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-skeys"><code>skeys</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-snapshots"><code>snapshots</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-snapshot_005fblkdev"><code>snapshot_blkdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-snapshot_005fblkdev_005finternal"><code>snapshot_blkdev_internal</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-snapshot_005fdelete_005fblkdev_005finternal"><code>snapshot_delete_blkdev_internal</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-spice"><code>spice</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-status"><code>status</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stop"><code>stop</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stopcapture"><code>stopcapture</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sum"><code>sum</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_005fpowerdown"><code>system_powerdown</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_005freset"><code>system_reset</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_005fwakeup"><code>system_wakeup</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-tlb"><code>tlb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tpm"><code>tpm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002devent"><code>trace-event</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002devents"><code>trace-events</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002dfile"><code>trace-file</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-usb"><code>usb</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usbhost"><code>usbhost</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usb_005fadd"><code>usb_add</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usb_005fdel"><code>usb_del</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usernet"><code>usernet</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uuid"><code>uuid</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-version"><code>version</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vnc"><code>vnc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-watchdog_005faction"><code>watchdog_action</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wavcapture"><code>wavcapture</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-Index_fn_letter-X">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-x"><code>x</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-xp"><code>xp</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fmonitor">pcsys_monitor</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-Index_fn_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Function-Index_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-Index_fn_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<a name="Keystroke-Index"></a>
<a name="Keystroke-Index-1"></a>
<h3 class="section">B.3 Keystroke Index</h3>

<p>This is a list of all keystrokes which have a special function
in system emulation.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Keystroke-Index_ky_letter-C"><b>C</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-ky" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keystroke-Index_ky_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-b"><code>Ctrl-a b</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-c"><code>Ctrl-a c</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-Ctrl_002da"><code>Ctrl-a Ctrl-a</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-h"><code>Ctrl-a h</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-s"><code>Ctrl-a s</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-t"><code>Ctrl-a t</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002da-x"><code>Ctrl-a x</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#mux_005fkeys">mux_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt"><code>Ctrl-Alt</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt_002d_002b"><code>Ctrl-Alt-+</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt_002d_002d"><code>Ctrl-Alt--</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt_002df"><code>Ctrl-Alt-f</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt_002dn"><code>Ctrl-Alt-n</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dAlt_002du"><code>Ctrl-Alt-u</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dDown"><code>Ctrl-Down</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dPageDown"><code>Ctrl-PageDown</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dPageUp"><code>Ctrl-PageUp</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ctrl_002dUp"><code>Ctrl-Up</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#pcsys_005fkeys">pcsys_keys</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Keystroke-Index_ky_letter-C"><b>C</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<a name="Program-Index"></a>
<a name="Program-Index-1"></a>
<h3 class="section">B.4 Program Index</h3>

<hr>
<a name="Data-Type-Index"></a>
<a name="Data-Type-Index-1"></a>
<h3 class="section">B.5 Data Type Index</h3>

<p>This index could be used for qdev device names and options.
</p>

<hr>
<a name="Variable-Index"></a>
<a name="Variable-Index-1"></a>
<h3 class="section">B.6 Variable Index</h3>

<hr>



</body>
</html>
